<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RhPf Electronics DOD Bi-Fet Preamp FX10 Analysis Interactive Individual</title>
    <meta name="description" content="Interactive analysis tool for the DOD Bi-Fet Preamp FX10.">
    <meta name="author" content="RhPf Electronics">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        if (!window.Plotly) {
            document.write('<script src="/path-to-local-plotly/plotly-latest.min.js"><\/script>');
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: row; /* Stack pedal and graph horizontally */
            justify-content: left;
            align-items: top;
            margin: 0;
            height: auto;
        }

        #pedal-container {
            width: 100%; /* Scale pedal container to fit the viewport */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #pedal-svg {
            width: 100%; /* Make the SVG scale with the container */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #graph {
            width: 100%; /* Take up most of the width */
            height: 100vh; /* Dynamically scale height relative to the viewport */
            margin: 0; /* Add some spacing between graph and pedal */
        }

    </style>
</head>
<body>
    <!-- Pedal with Knobs -->
    <div id="pedal-container">
        <svg id="pedal-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1884 3600">
            <!-- Background Image -->
            <image href="https://thomasbe86.github.io/plotly-plot/DOD%20Bi-Fet%20Preamp%20FX10.png" x="0" y="0" width="1884" height="3600" />
<g id="knob-Level" transform="translate(1410, 825)">
    <circle cx="0" cy="0" r="160" fill="#C4D6E2" stroke="#000" stroke-width="3" />
    <line id="Level-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-Tone" transform="translate(520, 825)">
    <circle cx="0" cy="0" r="160" fill="#C4D6E2" stroke="#000" stroke-width="3" />
    <line id="Tone-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>
        </svg>
    </div>

    <!-- Graph -->
    <div id="graph"></div>

    <script>
        // Ensure Plotly resizes with window changes
        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('graph'));
        });
    </script>

    <script>
        // Frequency Data
        const frequency = [
            20, 21.44, 22.97, 24.62, 26.39, 28.28, 30.31, 32.49, 34.82, 37.32, 40,
            42.87, 45.95, 49.25, 52.78, 56.57, 60.63, 64.98, 69.64, 74.64, 80,
            85.74, 91.89, 98.49, 105.56, 113.13, 121.25, 129.96, 139.28, 149.29, 160,
            171.48, 183.79, 196.98, 211.12, 226.27, 242.51, 259.92, 278.58, 298.57,
            320, 342.97, 367.58, 393.97, 422.24, 452.55, 485.03, 519.84, 557.15,
            597.14, 640, 685.93, 735.17, 787.93, 844.49, 905.1, 970.06, 1039.68,
            1114.3, 1194.28, 1280, 1371.87, 1470.33, 1575.86, 1688.97, 1810.19,
            1940.12, 2079.37, 2228.61, 2388.56, 2560, 2743.74, 2940.67, 3151.73,
            3377.94, 3620.39, 3880.23, 4158.73, 4457.22, 4777.13, 5120, 5487.48,
            5881.34, 6303.46, 6755.88, 7240.77, 7760.47, 8317.46, 8914.44, 9554.26,
            10240, 10974.96, 11762.67, 12606.92, 13511.76, 14481.55, 15520.94,
            16634.93, 17828.88, 19108.52
        ];

        const LevelPositions = {
            0: [0.0678, 0.0623, 0.0573, 0.0526, 0.0483, 0.0444, 0.0408, 0.0375, 0.0344, 0.0317, 0.0292, 0.0268, 0.0247, 0.0228, 0.0211, 0.0195, 0.018, 0.0167, 0.0155, 0.0144, 0.0134, 0.0124, 0.0116, 0.0108, 0.0101, 0.0094, 0.0088, 0.0082, 0.0077, 0.0072, 0.0067, 0.0063, 0.0059, 0.0055, 0.0052, 0.0049, 0.0045, 0.0043, 0.004, 0.0037, 0.0035, 0.0033, 0.003, 0.0028, 0.0027, 0.0025, 0.0023, 0.0022, 0.002, 0.0019, 0.0018, 0.0017, 0.0015, 0.0014, 0.0013, 0.0013, 0.0012, 0.0011, 0.001, 0.001, 0.0009, 0.0008, 0.0008, 0.0007, 0.0007, 0.0006, 0.0006, 0.0005, 0.0005, 0.0005, 0.0004, 0.0004, 0.0004, 0.0004, 0.0003, 0.0003, 0.0003, 0.0003, 0.0003, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001],
            5: [1.6067, 1.5801, 1.5536, 1.5272, 1.5012, 1.4758, 1.4511, 1.4273, 1.4044, 1.3828, 1.3623, 1.3432, 1.3254, 1.3091, 1.2943, 1.2811, 1.2695, 1.2595, 1.251, 1.2442, 1.2388, 1.2349, 1.2324, 1.2312, 1.2311, 1.232, 1.2339, 1.2365, 1.2398, 1.2436, 1.2477, 1.252, 1.2565, 1.2609, 1.2654, 1.2697, 1.2738, 1.2777, 1.2814, 1.2848, 1.288, 1.2908, 1.2935, 1.2958, 1.298, 1.2999, 1.3016, 1.3031, 1.3044, 1.3056, 1.3067, 1.3076, 1.3084, 1.309, 1.3096, 1.3101, 1.3106, 1.3109, 1.3112, 1.3114, 1.3116, 1.3117, 1.3118, 1.3118, 1.3117, 1.3116, 1.3115, 1.3113, 1.311, 1.3107, 1.3102, 1.3098, 1.3092, 1.3085, 1.3078, 1.3069, 1.3058, 1.3047, 1.3034, 1.3018, 1.3001, 1.2982, 1.296, 1.2936, 1.2909, 1.2879, 1.2845, 1.2808, 1.2768, 1.2724, 1.2676, 1.2624, 1.2569, 1.2511, 1.2449, 1.2384, 1.2317, 1.2247, 1.2176, 1.2104],
            10: [2.0603, 2.0253, 1.9904, 1.9557, 1.9215, 1.8881, 1.8557, 1.8244, 1.7945, 1.7661, 1.7393, 1.7142, 1.691, 1.6697, 1.6503, 1.633, 1.6178, 1.6047, 1.5936, 1.5846, 1.5775, 1.5723, 1.5689, 1.5672, 1.5669, 1.568, 1.5702, 1.5735, 1.5775, 1.5822, 1.5874, 1.5928, 1.5984, 1.6041, 1.6097, 1.6151, 1.6203, 1.6253, 1.6299, 1.6343, 1.6382, 1.6419, 1.6452, 1.6482, 1.6509, 1.6533, 1.6555, 1.6574, 1.6591, 1.6606, 1.6619, 1.6631, 1.6641, 1.6649, 1.6657, 1.6663, 1.6668, 1.6673, 1.6676, 1.6679, 1.6681, 1.6683, 1.6683, 1.6683, 1.6682, 1.6681, 1.6679, 1.6676, 1.6673, 1.6668, 1.6663, 1.6656, 1.6649, 1.664, 1.6629, 1.6618, 1.6604, 1.6589, 1.6571, 1.6551, 1.6528, 1.6503, 1.6474, 1.6442, 1.6406, 1.6366, 1.6321, 1.6272, 1.6219, 1.616, 1.6097, 1.6029, 1.5956, 1.5878, 1.5796, 1.571, 1.5621, 1.5529, 1.5435, 1.5339],
            15: [2.4267, 2.3841, 2.3415, 2.2993, 2.2577, 2.217, 2.1775, 2.1396, 2.1032, 2.0687, 2.0362, 2.0058, 1.9777, 1.9519, 1.9286, 1.9076, 1.8892, 1.8733, 1.8599, 1.8489, 1.8402, 1.8338, 1.8295, 1.8271, 1.8266, 1.8276, 1.83, 1.8336, 1.8382, 1.8435, 1.8494, 1.8557, 1.8621, 1.8686, 1.875, 1.8813, 1.8873, 1.8931, 1.8984, 1.9034, 1.908, 1.9123, 1.9161, 1.9196, 1.9227, 1.9255, 1.928, 1.9302, 1.9322, 1.9339, 1.9354, 1.9368, 1.9379, 1.9389, 1.9398, 1.9405, 1.9411, 1.9416, 1.942, 1.9423, 1.9425, 1.9427, 1.9427, 1.9427, 1.9426, 1.9424, 1.9422, 1.9418, 1.9414, 1.9408, 1.9401, 1.9393, 1.9384, 1.9373, 1.9361, 1.9346, 1.9329, 1.931, 1.9289, 1.9264, 1.9236, 1.9205, 1.917, 1.913, 1.9086, 1.9037, 1.8982, 1.8922, 1.8857, 1.8785, 1.8707, 1.8623, 1.8534, 1.8438, 1.8338, 1.8233, 1.8123, 1.8011, 1.7895, 1.7778],
            20: [2.7982, 2.7463, 2.6945, 2.6432, 2.5926, 2.5433, 2.4955, 2.4495, 2.4056, 2.3639, 2.3247, 2.2881, 2.2543, 2.2233, 2.1952, 2.17, 2.1479, 2.1287, 2.1124, 2.099, 2.0884, 2.0804, 2.0749, 2.0717, 2.0706, 2.0713, 2.0737, 2.0775, 2.0823, 2.0881, 2.0945, 2.1014, 2.1085, 2.1157, 2.1229, 2.1299, 2.1366, 2.143, 2.149, 2.1545, 2.1597, 2.1644, 2.1687, 2.1726, 2.1761, 2.1793, 2.182, 2.1845, 2.1867, 2.1887, 2.1904, 2.1919, 2.1931, 2.1942, 2.1952, 2.196, 2.1967, 2.1972, 2.1977, 2.198, 2.1982, 2.1984, 2.1984, 2.1984, 2.1982, 2.198, 2.1976, 2.1972, 2.1966, 2.1959, 2.1951, 2.1941, 2.1929, 2.1916, 2.19, 2.1883, 2.1862, 2.1839, 2.1813, 2.1782, 2.1748, 2.171, 2.1667, 2.1618, 2.1564, 2.1504, 2.1437, 2.1364, 2.1284, 2.1196, 2.11, 2.0998, 2.0888, 2.0771, 2.0648, 2.052, 2.0386, 2.0248, 2.0107, 1.9964],
            25: [3.15, 3.0876, 3.0252, 2.9634, 2.9027, 2.8434, 2.7861, 2.731, 2.6784, 2.6286, 2.5818, 2.5382, 2.4979, 2.461, 2.4276, 2.3977, 2.3713, 2.3484, 2.3289, 2.3127, 2.2998, 2.2899, 2.2829, 2.2785, 2.2765, 2.2766, 2.2786, 2.2822, 2.2871, 2.293, 2.2997, 2.3069, 2.3145, 2.3221, 2.3298, 2.3372, 2.3444, 2.3513, 2.3577, 2.3637, 2.3693, 2.3744, 2.379, 2.3832, 2.387, 2.3904, 2.3934, 2.3961, 2.3985, 2.4006, 2.4024, 2.404, 2.4054, 2.4066, 2.4076, 2.4084, 2.4092, 2.4097, 2.4102, 2.4105, 2.4107, 2.4108, 2.4108, 2.4107, 2.4105, 2.4102, 2.4098, 2.4092, 2.4085, 2.4076, 2.4066, 2.4054, 2.404, 2.4024, 2.4005, 2.3983, 2.3959, 2.393, 2.3898, 2.3862, 2.3821, 2.3774, 2.3722, 2.3663, 2.3598, 2.3525, 2.3444, 2.3355, 2.3258, 2.3152, 2.3036, 2.2912, 2.2779, 2.2638, 2.2489, 2.2333, 2.2171, 2.2004, 2.1834, 2.1661],
            30: [3.6322, 3.5525, 3.4729, 3.3941, 3.3168, 3.2414, 3.1685, 3.0986, 3.0319, 2.9689, 2.9098, 2.8548, 2.804, 2.7576, 2.7155, 2.6778, 2.6445, 2.6155, 2.5907, 2.5699, 2.553, 2.5398, 2.53, 2.5233, 2.5195, 2.5183, 2.5193, 2.5221, 2.5266, 2.5323, 2.5389, 2.5462, 2.5539, 2.5619, 2.5699, 2.5777, 2.5853, 2.5926, 2.5994, 2.6058, 2.6117, 2.6171, 2.6221, 2.6266, 2.6306, 2.6343, 2.6375, 2.6404, 2.6429, 2.6451, 2.6471, 2.6488, 2.6502, 2.6515, 2.6526, 2.6535, 2.6542, 2.6548, 2.6552, 2.6555, 2.6557, 2.6558, 2.6557, 2.6555, 2.6551, 2.6547, 2.6541, 2.6533, 2.6524, 2.6512, 2.6499, 2.6484, 2.6465, 2.6444, 2.642, 2.6393, 2.6361, 2.6325, 2.6284, 2.6237, 2.6184, 2.6125, 2.6058, 2.5983, 2.5899, 2.5806, 2.5703, 2.5589, 2.5464, 2.5328, 2.518, 2.5021, 2.4851, 2.4669, 2.4478, 2.4278, 2.407, 2.3856, 2.3638, 2.3416],
            35: [4.136, 4.0364, 3.937, 3.8385, 3.7419, 3.6477, 3.5568, 3.4695, 3.3865, 3.3081, 3.2346, 3.1662, 3.1031, 3.0454, 2.9931, 2.9463, 2.9048, 2.8685, 2.8373, 2.8109, 2.7892, 2.7719, 2.7586, 2.7491, 2.7429, 2.7397, 2.7392, 2.7409, 2.7444, 2.7495, 2.7557, 2.7628, 2.7704, 2.7783, 2.7864, 2.7944, 2.8022, 2.8096, 2.8167, 2.8233, 2.8294, 2.8351, 2.8402, 2.8449, 2.8491, 2.8529, 2.8563, 2.8593, 2.8619, 2.8643, 2.8663, 2.8681, 2.8696, 2.8709, 2.872, 2.8729, 2.8736, 2.8742, 2.8746, 2.8748, 2.8749, 2.8749, 2.8747, 2.8744, 2.8739, 2.8733, 2.8725, 2.8715, 2.8703, 2.8689, 2.8672, 2.8652, 2.863, 2.8603, 2.8573, 2.8539, 2.8499, 2.8454, 2.8403, 2.8345, 2.8279, 2.8205, 2.8122, 2.8028, 2.7924, 2.7808, 2.7679, 2.7537, 2.7381, 2.7211, 2.7026, 2.6827, 2.6614, 2.6387, 2.6148, 2.5897, 2.5636, 2.5368, 2.5094, 2.4816],
            40: [4.7521, 4.6272, 4.5025, 4.379, 4.2578, 4.1396, 4.0255, 3.916, 3.8119, 3.7135, 3.6214, 3.5357, 3.4566, 3.3843, 3.3187, 3.2599, 3.2076, 3.1618, 3.1221, 3.0883, 3.0602, 3.0373, 3.0193, 3.0058, 2.9963, 2.9903, 2.9876, 2.9875, 2.9896, 2.9936, 2.9991, 3.0056, 3.0128, 3.0206, 3.0285, 3.0365, 3.0443, 3.0519, 3.0591, 3.0658, 3.0721, 3.0779, 3.0833, 3.0881, 3.0924, 3.0964, 3.0998, 3.1029, 3.1057, 3.1081, 3.1102, 3.112, 3.1135, 3.1148, 3.1159, 3.1168, 3.1175, 3.1181, 3.1184, 3.1186, 3.1186, 3.1185, 3.1182, 3.1177, 3.1171, 3.1162, 3.1152, 3.1139, 3.1124, 3.1106, 3.1085, 3.106, 3.1032, 3.0999, 3.0961, 3.0918, 3.0869, 3.0813, 3.0749, 3.0677, 3.0595, 3.0503, 3.04, 3.0283, 3.0154, 3.0009, 2.9849, 2.9672, 2.9477, 2.9265, 2.9035, 2.8786, 2.8519, 2.8236, 2.7936, 2.7622, 2.7295, 2.6958, 2.6613, 2.6264],
            45: [5.5535, 5.3955, 5.2376, 5.0811, 4.9273, 4.7774, 4.6325, 4.4936, 4.3613, 4.2363, 4.1192, 4.0102, 3.9096, 3.8176, 3.734, 3.6589, 3.592, 3.533, 3.4818, 3.4379, 3.4009, 3.3703, 3.3457, 3.3265, 3.3122, 3.3024, 3.2963, 3.2936, 3.2937, 3.296, 3.3002, 3.3057, 3.3123, 3.3195, 3.3271, 3.3349, 3.3427, 3.3502, 3.3575, 3.3643, 3.3707, 3.3766, 3.3821, 3.387, 3.3915, 3.3955, 3.3991, 3.4023, 3.4051, 3.4076, 3.4097, 3.4115, 3.4131, 3.4144, 3.4155, 3.4164, 3.4171, 3.4175, 3.4178, 3.4179, 3.4178, 3.4176, 3.4171, 3.4164, 3.4155, 3.4144, 3.4131, 3.4114, 3.4095, 3.4072, 3.4045, 3.4014, 3.3979, 3.3938, 3.3891, 3.3837, 3.3776, 3.3706, 3.3626, 3.3536, 3.3434, 3.3319, 3.319, 3.3044, 3.2882, 3.2701, 3.2501, 3.228, 3.2036, 3.177, 3.1481, 3.1169, 3.0834, 3.0476, 3.0099, 2.9702, 2.929, 2.8864, 2.8428, 2.7985],
            50: [6.5141, 6.3164, 6.1187, 5.9226, 5.7298, 5.5417, 5.3598, 5.1852, 5.0188, 4.8616, 4.7141, 4.5768, 4.45, 4.3337, 4.2281, 4.1328, 4.0479, 3.9728, 3.9071, 3.8505, 3.8024, 3.7621, 3.7292, 3.7029, 3.6826, 3.6677, 3.6574, 3.6513, 3.6485, 3.6486, 3.651, 3.6552, 3.6607, 3.6672, 3.6743, 3.6817, 3.6892, 3.6966, 3.7038, 3.7106, 3.7171, 3.7231, 3.7286, 3.7336, 3.7382, 3.7423, 3.746, 3.7492, 3.7521, 3.7546, 3.7568, 3.7586, 3.7602, 3.7615, 3.7626, 3.7635, 3.7641, 3.7645, 3.7647, 3.7646, 3.7644, 3.764, 3.7633, 3.7624, 3.7613, 3.7598, 3.7581, 3.7561, 3.7536, 3.7508, 3.7475, 3.7437, 3.7393, 3.7343, 3.7285, 3.7219, 3.7143, 3.7057, 3.6959, 3.6849, 3.6723, 3.6582, 3.6423, 3.6244, 3.6045, 3.5822, 3.5575, 3.5302, 3.5002, 3.4674, 3.4317, 3.3931, 3.3516, 3.3073, 3.2605, 3.2112, 3.1599, 3.1068, 3.0523, 2.997],
            55: [7.8429, 7.5907, 7.3383, 7.0877, 6.8411, 6.6003, 6.3672, 6.1432, 5.9296, 5.7275, 5.5378, 5.3609, 5.1973, 5.0472, 4.9104, 4.787, 4.6765, 4.5785, 4.4924, 4.4177, 4.3537, 4.2996, 4.2547, 4.2181, 4.1891, 4.1667, 4.1503, 4.139, 4.1321, 4.1288, 4.1285, 4.1306, 4.1345, 4.1397, 4.1458, 4.1526, 4.1596, 4.1667, 4.1737, 4.1804, 4.1868, 4.1928, 4.1984, 4.2035, 4.2081, 4.2123, 4.216, 4.2194, 4.2223, 4.2248, 4.227, 4.2289, 4.2305, 4.2318, 4.2328, 4.2336, 4.2341, 4.2344, 4.2345, 4.2343, 4.2339, 4.2332, 4.2323, 4.2311, 4.2296, 4.2278, 4.2256, 4.223, 4.2199, 4.2163, 4.2122, 4.2075, 4.202, 4.1957, 4.1885, 4.1802, 4.1708, 4.1601, 4.1479, 4.1341, 4.1185, 4.1009, 4.0811, 4.0588, 4.0339, 4.0062, 3.9753, 3.9412, 3.9037, 3.8626, 3.8179, 3.7694, 3.7173, 3.6617, 3.6026, 3.5405, 3.4756, 3.4084, 3.3394, 3.269],
            60: [9.4743, 9.1557, 8.8365, 8.5194, 8.207, 7.9018, 7.606, 7.3215, 7.05, 6.7928, 6.551, 6.3254, 6.1164, 5.9243, 5.7491, 5.5905, 5.4482, 5.3216, 5.21, 5.1126, 5.0286, 4.9571, 4.897, 4.8474, 4.8072, 4.7754, 4.7511, 4.7332, 4.7208, 4.7131, 4.7092, 4.7084, 4.7101, 4.7136, 4.7184, 4.7241, 4.7304, 4.737, 4.7437, 4.7502, 4.7564, 4.7624, 4.7679, 4.773, 4.7776, 4.7819, 4.7856, 4.789, 4.7919, 4.7945, 4.7967, 4.7986, 4.8002, 4.8014, 4.8024, 4.8031, 4.8035, 4.8037, 4.8036, 4.8032, 4.8026, 4.8017, 4.8004, 4.7989, 4.7969, 4.7946, 4.7919, 4.7886, 4.7848, 4.7804, 4.7753, 4.7694, 4.7627, 4.7549, 4.746, 4.7359, 4.7243, 4.7111, 4.6961, 4.6792, 4.66, 4.6383, 4.6139, 4.5865, 4.5558, 4.5215, 4.4835, 4.4414, 4.3951, 4.3443, 4.2889, 4.229, 4.1644, 4.0953, 4.0219, 3.9445, 3.8636, 3.7797, 3.6932, 3.605],
            65: [11.5277, 11.1258, 10.7229, 10.3225, 9.9277, 9.5417, 9.1673, 8.8068, 8.4625, 8.136, 7.8287, 7.5416, 7.2754, 7.0302, 6.8063, 6.6032, 6.4205, 6.2575, 6.1134, 5.9871, 5.8775, 5.7836, 5.704, 5.6375, 5.5829, 5.5389, 5.5042, 5.4777, 5.4582, 5.4446, 5.4359, 5.4313, 5.43, 5.4311, 5.4341, 5.4384, 5.4437, 5.4495, 5.4555, 5.4617, 5.4677, 5.4734, 5.4788, 5.4839, 5.4885, 5.4927, 5.4965, 5.4999, 5.5028, 5.5054, 5.5076, 5.5095, 5.511, 5.5122, 5.5131, 5.5137, 5.514, 5.514, 5.5137, 5.5131, 5.5122, 5.5109, 5.5093, 5.5073, 5.5049, 5.502, 5.4985, 5.4945, 5.4898, 5.4844, 5.4781, 5.4709, 5.4626, 5.4531, 5.4422, 5.4297, 5.4155, 5.3994, 5.381, 5.3602, 5.3367, 5.3101, 5.2802, 5.2465, 5.2089, 5.1669, 5.1202, 5.0685, 5.0115, 4.9491, 4.8809, 4.807, 4.7273, 4.642, 4.5512, 4.4554, 4.3551, 4.2508, 4.1432, 4.0331],
            70: [14.1305, 13.6235, 13.115, 12.6092, 12.1103, 11.6222, 11.1483, 10.6918, 10.2553, 9.8411, 9.4508, 9.0858, 8.7468, 8.4344, 8.1484, 7.8886, 7.6545, 7.445, 7.2592, 7.0959, 6.9536, 6.8308, 6.7262, 6.638, 6.5647, 6.5048, 6.4567, 6.4189, 6.39, 6.3688, 6.3538, 6.3442, 6.3387, 6.3366, 6.3371, 6.3395, 6.3433, 6.348, 6.3532, 6.3587, 6.3643, 6.3698, 6.375, 6.3799, 6.3845, 6.3886, 6.3924, 6.3957, 6.3987, 6.4012, 6.4034, 6.4052, 6.4066, 6.4077, 6.4085, 6.409, 6.4091, 6.4089, 6.4084, 6.4075, 6.4062, 6.4046, 6.4025, 6.4, 6.3969, 6.3933, 6.389, 6.384, 6.3783, 6.3716, 6.3638, 6.355, 6.3448, 6.3331, 6.3198, 6.3045, 6.2872, 6.2674, 6.2449, 6.2194, 6.1906, 6.1581, 6.1214, 6.0802, 6.0341, 5.9826, 5.9253, 5.8619, 5.7919, 5.7152, 5.6314, 5.5405, 5.4424, 5.3373, 5.2253, 5.107, 4.9829, 4.8537, 4.7202, 4.5834],
            75: [17.12, 16.4925, 15.8629, 15.2364, 14.6181, 14.0129, 13.425, 12.8583, 12.3161, 11.8011, 11.3156, 10.8611, 10.4386, 10.0487, 9.6914, 9.3664, 9.0729, 8.8098, 8.576, 8.3698, 8.1895, 8.0334, 7.8996, 7.7862, 7.6912, 7.6128, 7.549, 7.498, 7.4581, 7.4278, 7.4055, 7.3898, 7.3795, 7.3735, 7.371, 7.371, 7.373, 7.3763, 7.3805, 7.3852, 7.3902, 7.3952, 7.4002, 7.4049, 7.4093, 7.4133, 7.417, 7.4203, 7.4232, 7.4257, 7.4278, 7.4295, 7.4309, 7.4319, 7.4325, 7.4328, 7.4328, 7.4323, 7.4315, 7.4303, 7.4286, 7.4265, 7.4239, 7.4208, 7.417, 7.4126, 7.4074, 7.4014, 7.3944, 7.3863, 7.377, 7.3663, 7.354, 7.3399, 7.3238, 7.3055, 7.2846, 7.2607, 7.2337, 7.203, 7.1683, 7.1291, 7.0849, 7.0353, 6.9797, 6.9176, 6.8486, 6.7721, 6.6877, 6.5951, 6.4939, 6.3841, 6.2655, 6.1383, 6.0028, 5.8595, 5.7089, 5.552, 5.3897, 5.2231],
            80: [19.9915, 19.2484, 18.5025, 17.7601, 17.0273, 16.3096, 15.6122, 14.9397, 14.2961, 13.6844, 13.1074, 12.5669, 12.0642, 11.5999, 11.174, 10.7862, 10.4356, 10.121, 9.8408, 9.5933, 9.3764, 9.1881, 9.0262, 8.8884, 8.7723, 8.6759, 8.5968, 8.533, 8.4825, 8.4433, 8.4137, 8.3921, 8.377, 8.3673, 8.3617, 8.3594, 8.3595, 8.3614, 8.3645, 8.3685, 8.3729, 8.3775, 8.3821, 8.3865, 8.3908, 8.3947, 8.3983, 8.4015, 8.4043, 8.4068, 8.4088, 8.4105, 8.4117, 8.4126, 8.4131, 8.4132, 8.413, 8.4123, 8.4112, 8.4097, 8.4077, 8.4051, 8.402, 8.3983, 8.3939, 8.3887, 8.3827, 8.3756, 8.3675, 8.3581, 8.3473, 8.3348, 8.3206, 8.3042, 8.2856, 8.2643, 8.24, 8.2124, 8.181, 8.1454, 8.1052, 8.0597, 8.0084, 7.9509, 7.8864, 7.8144, 7.7343, 7.6455, 7.5476, 7.44, 7.3226, 7.195, 7.0572, 6.9093, 6.7517, 6.5849, 6.4095, 6.2266, 6.0373, 5.8427],
            85: [22.7937, 21.9378, 21.0785, 20.223, 19.3784, 18.551, 17.7468, 16.9711, 16.2284, 15.5224, 14.8562, 14.2318, 13.6507, 13.1138, 12.621, 12.1719, 11.7655, 11.4004, 11.075, 10.787, 10.5343, 10.3145, 10.125, 9.9632, 9.8266, 9.7125, 9.6184, 9.542, 9.4809, 9.433, 9.3962, 9.3688, 9.349, 9.3355, 9.3269, 9.3222, 9.3205, 9.321, 9.323, 9.3261, 9.3299, 9.334, 9.3383, 9.3425, 9.3466, 9.3504, 9.3539, 9.357, 9.3597, 9.3621, 9.364, 9.3656, 9.3668, 9.3675, 9.3679, 9.3679, 9.3674, 9.3665, 9.3652, 9.3633, 9.361, 9.358, 9.3545, 9.3502, 9.3451, 9.3392, 9.3323, 9.3243, 9.3151, 9.3044, 9.2921, 9.278, 9.2618, 9.2433, 9.2222, 9.1981, 9.1706, 9.1393, 9.1037, 9.0634, 9.0178, 8.9663, 8.9083, 8.8431, 8.77, 8.6884, 8.5977, 8.4971, 8.3861, 8.2642, 8.131, 7.9864, 7.8301, 7.6624, 7.4835, 7.2942, 7.0951, 6.8873, 6.672, 6.4507],
            90: [25.343, 24.3846, 23.4222, 22.4638, 21.5174, 20.5902, 19.6888, 18.8192, 17.9864, 17.1945, 16.4471, 15.7463, 15.094, 14.4909, 13.9372, 13.4323, 12.9752, 12.5642, 12.1975, 11.8727, 11.5874, 11.3388, 11.1242, 10.9405, 10.785, 10.6548, 10.5471, 10.4592, 10.3884, 10.3325, 10.2891, 10.2563, 10.2322, 10.2152, 10.2039, 10.197, 10.1936, 10.1927, 10.1938, 10.1961, 10.1993, 10.203, 10.2069, 10.2109, 10.2148, 10.2184, 10.2218, 10.2249, 10.2275, 10.2298, 10.2317, 10.2332, 10.2342, 10.2349, 10.2352, 10.235, 10.2343, 10.2332, 10.2316, 10.2295, 10.2268, 10.2235, 10.2195, 10.2147, 10.2091, 10.2025, 10.1949, 10.186, 10.1757, 10.1639, 10.1503, 10.1347, 10.1168, 10.0964, 10.073, 10.0463, 10.0159, 9.9813, 9.942, 9.8974, 9.847, 9.79, 9.7258, 9.6537, 9.5729, 9.4827, 9.3824, 9.2711, 9.1484, 9.0136, 8.8663, 8.7062, 8.5333, 8.3477, 8.1498, 7.9401, 7.7197, 7.4895, 7.2509, 7.0056],
            95: [27.6361, 26.5855, 25.5303, 24.4794, 23.4414, 22.4244, 21.4355, 20.4814, 19.5675, 18.6985, 17.8779, 17.1085, 16.3921, 15.7295, 15.121, 14.5658, 14.063, 13.6107, 13.2069, 12.849, 12.5343, 12.2598, 12.0225, 11.8192, 11.6467, 11.5019, 11.3819, 11.2835, 11.2041, 11.1409, 11.0916, 11.0539, 11.0259, 11.0057, 10.9919, 10.983, 10.9781, 10.976, 10.9761, 10.9777, 10.9804, 10.9837, 10.9873, 10.9911, 10.9948, 10.9983, 11.0016, 11.0045, 11.0071, 11.0093, 11.0112, 11.0126, 11.0135, 11.0141, 11.0142, 11.0139, 11.0131, 11.0118, 11.01, 11.0077, 11.0047, 11.001, 10.9966, 10.9914, 10.9853, 10.9781, 10.9698, 10.9601, 10.9489, 10.9361, 10.9213, 10.9044, 10.8849, 10.8627, 10.8373, 10.8084, 10.7753, 10.7378, 10.6951, 10.6467, 10.592, 10.5301, 10.4604, 10.3822, 10.2945, 10.1965, 10.0876, 9.9668, 9.8335, 9.6872, 9.5272, 9.3535, 9.1657, 8.9641, 8.7492, 8.5214, 8.2819, 8.0317, 7.7724, 7.5057],
            100: [29.9429, 28.7996, 27.6511, 26.5071, 25.3771, 24.2696, 23.1928, 22.1536, 21.1581, 20.2114, 19.3173, 18.4788, 17.6978, 16.9754, 16.3116, 15.706, 15.1572, 14.6633, 14.2221, 13.8308, 13.4865, 13.186, 12.9258, 12.7027, 12.5131, 12.3537, 12.2212, 12.1123, 12.0241, 11.9536, 11.8983, 11.8557, 11.8237, 11.8004, 11.784, 11.7731, 11.7666, 11.7633, 11.7624, 11.7634, 11.7655, 11.7683, 11.7717, 11.7752, 11.7787, 11.7821, 11.7853, 11.7881, 11.7906, 11.7928, 11.7945, 11.7958, 11.7967, 11.7972, 11.7972, 11.7967, 11.7958, 11.7943, 11.7923, 11.7897, 11.7864, 11.7824, 11.7776, 11.772, 11.7653, 11.7575, 11.7485, 11.7381, 11.726, 11.7121, 11.6962, 11.6779, 11.6569, 11.6329, 11.6055, 11.5742, 11.5386, 11.4981, 11.452, 11.3998, 11.3407, 11.274, 11.1988, 11.1143, 11.0197, 10.914, 10.7964, 10.6661, 10.5223, 10.3644, 10.1918, 10.0043, 9.8017, 9.5841, 9.3521, 9.1062, 8.8476, 8.5775, 8.2975, 8.0094]
        };

        const TonePositions = {
            0: [14.767, 13.7159, 12.7224, 11.7907, 10.9232, 10.1208, 9.383, 8.7081, 8.0938, 7.5371, 7.0345, 6.5823, 6.1766, 5.8136, 5.4896, 5.201, 4.9443, 4.7163, 4.5143, 4.3353, 4.177, 4.0371, 3.9136, 3.8047, 3.7088, 3.6243, 3.55, 3.4847, 3.4274, 3.3771, 3.3329, 3.2943, 3.2604, 3.2307, 3.2048, 3.1821, 3.1623, 3.145, 3.1298, 3.1166, 3.1051, 3.095, 3.0862, 3.0785, 3.0717, 3.0658, 3.0607, 3.0562, 3.0522, 3.0487, 3.0456, 3.0429, 3.0404, 3.0382, 3.0362, 3.0344, 3.0328, 3.0312, 3.0297, 3.0282, 3.0268, 3.0254, 3.0239, 3.0224, 3.0207, 3.019, 3.0171, 3.015, 3.0126, 3.01, 3.0071, 3.0039, 3.0002, 2.996, 2.9912, 2.9858, 2.9798, 2.9729, 2.9651, 2.9562, 2.9463, 2.9351, 2.9225, 2.9084, 2.8927, 2.8751, 2.8557, 2.8342, 2.8106, 2.7848, 2.7568, 2.7265, 2.694, 2.6594, 2.6228, 2.5844, 2.5445, 2.5033, 2.4612, 2.4186],
            5: [11.3132, 10.727, 10.1504, 9.5886, 9.0463, 8.5274, 8.0349, 7.5712, 7.1376, 6.7349, 6.3633, 6.0223, 5.7109, 5.428, 5.172, 4.9413, 4.7341, 4.5485, 4.3828, 4.2353, 4.1041, 3.9879, 3.8849, 3.794, 3.7138, 3.6431, 3.5809, 3.5262, 3.4782, 3.4361, 3.3992, 3.3668, 3.3385, 3.3138, 3.2921, 3.2732, 3.2566, 3.2422, 3.2296, 3.2186, 3.209, 3.2006, 3.1932, 3.1868, 3.1812, 3.1763, 3.172, 3.1682, 3.1649, 3.162, 3.1594, 3.157, 3.155, 3.1531, 3.1514, 3.1498, 3.1483, 3.1469, 3.1456, 3.1443, 3.1429, 3.1416, 3.1401, 3.1386, 3.137, 3.1353, 3.1334, 3.1313, 3.1289, 3.1262, 3.1232, 3.1199, 3.1161, 3.1117, 3.1068, 3.1013, 3.0949, 3.0878, 3.0797, 3.0706, 3.0602, 3.0486, 3.0355, 3.0209, 3.0045, 2.9863, 2.9661, 2.9438, 2.9193, 2.8925, 2.8634, 2.8319, 2.7981, 2.7622, 2.7241, 2.6843, 2.6428, 2.5999, 2.5562, 2.5118],
            10: [9.5937, 9.1785, 8.765, 8.3571, 7.9581, 7.5713, 7.1994, 6.8447, 6.5089, 6.1934, 5.899, 5.6259, 5.3742, 5.1435, 4.9332, 4.7423, 4.5698, 4.4146, 4.2755, 4.1512, 4.0405, 3.9422, 3.8551, 3.7781, 3.7102, 3.6504, 3.5978, 3.5516, 3.5112, 3.4757, 3.4447, 3.4175, 3.3938, 3.3731, 3.355, 3.3392, 3.3254, 3.3133, 3.3028, 3.2937, 3.2857, 3.2787, 3.2726, 3.2673, 3.2626, 3.2585, 3.255, 3.2518, 3.249, 3.2466, 3.2444, 3.2424, 3.2407, 3.2391, 3.2376, 3.2362, 3.2349, 3.2337, 3.2324, 3.2312, 3.23, 3.2287, 3.2273, 3.2258, 3.2243, 3.2225, 3.2206, 3.2185, 3.2161, 3.2134, 3.2103, 3.2069, 3.203, 3.1985, 3.1935, 3.1878, 3.1813, 3.174, 3.1657, 3.1563, 3.1456, 3.1337, 3.1202, 3.1052, 3.0883, 3.0696, 3.0488, 3.0258, 3.0006, 2.973, 2.943, 2.9107, 2.8759, 2.8389, 2.7997, 2.7586, 2.7159, 2.6718, 2.6267, 2.581],
            15: [8.6153, 8.2812, 7.947, 7.6158, 7.2904, 6.9732, 6.6668, 6.3729, 6.0932, 5.8291, 5.5812, 5.3503, 5.1365, 4.9397, 4.7596, 4.5957, 4.4472, 4.3134, 4.1932, 4.0859, 3.9902, 3.9054, 3.8303, 3.7641, 3.7058, 3.6546, 3.6097, 3.5704, 3.536, 3.5061, 3.4799, 3.4571, 3.4372, 3.4199, 3.4049, 3.3918, 3.3803, 3.3704, 3.3617, 3.3542, 3.3476, 3.3419, 3.3369, 3.3325, 3.3287, 3.3253, 3.3224, 3.3198, 3.3175, 3.3155, 3.3137, 3.312, 3.3106, 3.3092, 3.3079, 3.3067, 3.3056, 3.3045, 3.3033, 3.3022, 3.301, 3.2998, 3.2985, 3.2971, 3.2955, 3.2938, 3.2919, 3.2897, 3.2873, 3.2846, 3.2815, 3.278, 3.274, 3.2695, 3.2644, 3.2585, 3.2519, 3.2444, 3.2359, 3.2263, 3.2154, 3.2031, 3.1894, 3.174, 3.1567, 3.1375, 3.1162, 3.0927, 3.0669, 3.0386, 3.0079, 2.9748, 2.9392, 2.9012, 2.8611, 2.819, 2.7751, 2.7299, 2.6837, 2.6368],
            20: [7.9893, 7.7011, 7.4126, 7.1261, 6.8441, 6.5689, 6.3023, 6.0462, 5.8019, 5.5707, 5.3533, 5.1503, 4.962, 4.7885, 4.6295, 4.4846, 4.3534, 4.2351, 4.1291, 4.0345, 3.9504, 3.8759, 3.8103, 3.7527, 3.7021, 3.658, 3.6195, 3.5861, 3.557, 3.5317, 3.5099, 3.4909, 3.4745, 3.4603, 3.448, 3.4373, 3.4281, 3.4201, 3.4132, 3.4071, 3.4019, 3.3973, 3.3934, 3.3899, 3.3869, 3.3843, 3.3819, 3.3799, 3.3781, 3.3764, 3.375, 3.3736, 3.3724, 3.3713, 3.3702, 3.3692, 3.3682, 3.3672, 3.3662, 3.3652, 3.3641, 3.3629, 3.3616, 3.3603, 3.3587, 3.357, 3.3551, 3.3529, 3.3505, 3.3478, 3.3446, 3.3411, 3.337, 3.3324, 3.3272, 3.3212, 3.3145, 3.3068, 3.2982, 3.2883, 3.2772, 3.2647, 3.2507, 3.235, 3.2173, 3.1977, 3.176, 3.152, 3.1256, 3.0968, 3.0654, 3.0315, 2.9951, 2.9563, 2.9153, 2.8722, 2.8274, 2.7812, 2.7338, 2.6858],
            25: [7.5555, 7.2965, 7.0372, 6.7796, 6.526, 6.2783, 6.0383, 5.8074, 5.5872, 5.3785, 5.1823, 4.9989, 4.8288, 4.672, 4.5283, 4.3975, 4.2792, 4.1728, 4.0775, 3.9928, 3.9178, 3.8518, 3.7939, 3.7434, 3.6994, 3.6613, 3.6284, 3.6001, 3.5757, 3.5548, 3.5369, 3.5215, 3.5084, 3.4971, 3.4875, 3.4792, 3.4722, 3.4661, 3.4608, 3.4563, 3.4525, 3.4491, 3.4462, 3.4437, 3.4415, 3.4395, 3.4378, 3.4363, 3.435, 3.4338, 3.4327, 3.4317, 3.4308, 3.4299, 3.429, 3.4282, 3.4274, 3.4265, 3.4256, 3.4247, 3.4236, 3.4225, 3.4213, 3.42, 3.4185, 3.4168, 3.4149, 3.4127, 3.4103, 3.4075, 3.4043, 3.4007, 3.3966, 3.3919, 3.3866, 3.3806, 3.3737, 3.3659, 3.3571, 3.347, 3.3357, 3.323, 3.3087, 3.2926, 3.2747, 3.2547, 3.2325, 3.208, 3.1811, 3.1516, 3.1196, 3.085, 3.0479, 3.0083, 2.9664, 2.9225, 2.8767, 2.8295, 2.7811, 2.732],
            30: [7.2372, 6.9984, 6.7592, 6.5217, 6.2879, 6.0595, 5.8381, 5.6253, 5.4223, 5.2299, 5.049, 4.8801, 4.7234, 4.5791, 4.447, 4.327, 4.2186, 4.1214, 4.0347, 3.958, 3.8904, 3.8313, 3.7799, 3.7354, 3.6972, 3.6645, 3.6366, 3.613, 3.5931, 3.5763, 3.5622, 3.5503, 3.5404, 3.5322, 3.5252, 3.5195, 3.5146, 3.5105, 3.5071, 3.5042, 3.5018, 3.4997, 3.498, 3.4964, 3.4951, 3.494, 3.493, 3.4921, 3.4913, 3.4906, 3.4899, 3.4892, 3.4886, 3.488, 3.4874, 3.4867, 3.4861, 3.4854, 3.4846, 3.4838, 3.4829, 3.4818, 3.4807, 3.4794, 3.4779, 3.4762, 3.4743, 3.4722, 3.4697, 3.4669, 3.4637, 3.4601, 3.4559, 3.4512, 3.4458, 3.4396, 3.4326, 3.4247, 3.4157, 3.4055, 3.3939, 3.381, 3.3664, 3.35, 3.3317, 3.3113, 3.2887, 3.2637, 3.2363, 3.2062, 3.1736, 3.1383, 3.1004, 3.06, 3.0173, 2.9724, 2.9257, 2.8774, 2.828, 2.7778],
            35: [6.9938, 6.7695, 6.545, 6.3222, 6.1028, 5.8886, 5.6811, 5.4816, 5.2914, 5.1112, 4.9419, 4.7839, 4.6375, 4.5028, 4.3797, 4.2681, 4.1676, 4.0777, 3.998, 3.9277, 3.8663, 3.813, 3.7672, 3.7281, 3.695, 3.6672, 3.644, 3.6249, 3.6092, 3.5965, 3.5862, 3.578, 3.5715, 3.5663, 3.5623, 3.5592, 3.5568, 3.5549, 3.5535, 3.5525, 3.5516, 3.551, 3.5506, 3.5502, 3.5499, 3.5497, 3.5495, 3.5493, 3.5492, 3.549, 3.5488, 3.5485, 3.5483, 3.548, 3.5477, 3.5473, 3.5468, 3.5463, 3.5457, 3.545, 3.5442, 3.5432, 3.5421, 3.5409, 3.5395, 3.5378, 3.536, 3.5338, 3.5313, 3.5285, 3.5253, 3.5216, 3.5174, 3.5126, 3.5071, 3.5008, 3.4937, 3.4856, 3.4764, 3.466, 3.4543, 3.4411, 3.4262, 3.4095, 3.3908, 3.37, 3.347, 3.3215, 3.2935, 3.2628, 3.2295, 3.1935, 3.1548, 3.1136, 3.07, 3.0241, 2.9764, 2.9271, 2.8766, 2.8253],
            40: [6.8014, 6.5881, 6.3747, 6.1629, 5.9545, 5.7511, 5.5542, 5.365, 5.1846, 5.0139, 4.8536, 4.7041, 4.5657, 4.4385, 4.3226, 4.2176, 4.1234, 4.0395, 3.9654, 3.9005, 3.8443, 3.796, 3.7551, 3.7207, 3.6922, 3.669, 3.6503, 3.6355, 3.6241, 3.6155, 3.6092, 3.6048, 3.6019, 3.6002, 3.5994, 3.5992, 3.5996, 3.6003, 3.6012, 3.6023, 3.6034, 3.6045, 3.6056, 3.6066, 3.6076, 3.6085, 3.6093, 3.61, 3.6105, 3.611, 3.6114, 3.6117, 3.6119, 3.612, 3.612, 3.612, 3.6118, 3.6115, 3.611, 3.6105, 3.6098, 3.609, 3.608, 3.6069, 3.6055, 3.6039, 3.6021, 3.5999, 3.5975, 3.5946, 3.5914, 3.5876, 3.5834, 3.5785, 3.5729, 3.5665, 3.5593, 3.551, 3.5417, 3.5311, 3.5191, 3.5056, 3.4904, 3.4733, 3.4543, 3.4331, 3.4095, 3.3835, 3.3549, 3.3236, 3.2896, 3.2528, 3.2133, 3.1711, 3.1265, 3.0797, 3.0309, 2.9804, 2.9287, 2.8762],
            45: [6.6453, 6.4407, 6.2359, 6.0328, 5.833, 5.638, 5.4493, 5.2682, 5.0955, 4.9322, 4.779, 4.6362, 4.5042, 4.383, 4.2728, 4.1732, 4.084, 4.005, 3.9355, 3.8751, 3.8233, 3.7794, 3.7427, 3.7126, 3.6884, 3.6694, 3.655, 3.6446, 3.6374, 3.6331, 3.631, 3.6307, 3.6318, 3.6339, 3.6367, 3.64, 3.6436, 3.6474, 3.6511, 3.6547, 3.6582, 3.6615, 3.6645, 3.6673, 3.6698, 3.6721, 3.6741, 3.6759, 3.6775, 3.6788, 3.68, 3.6809, 3.6817, 3.6824, 3.6828, 3.6831, 3.6833, 3.6833, 3.6831, 3.6828, 3.6823, 3.6816, 3.6808, 3.6797, 3.6785, 3.6769, 3.6751, 3.673, 3.6706, 3.6677, 3.6645, 3.6607, 3.6563, 3.6514, 3.6457, 3.6392, 3.6318, 3.6234, 3.6138, 3.603, 3.5908, 3.577, 3.5614, 3.544, 3.5245, 3.5028, 3.4788, 3.4521, 3.4229, 3.3909, 3.356, 3.3184, 3.278, 3.2348, 3.1892, 3.1412, 3.0912, 3.0395, 2.9865, 2.9327],
            50: [6.5161, 6.3183, 6.1204, 5.9242, 5.7312, 5.543, 5.361, 5.1862, 5.0198, 4.8624, 4.7148, 4.5774, 4.4505, 4.3342, 4.2285, 4.1332, 4.0482, 3.9731, 3.9074, 3.8508, 3.8026, 3.7623, 3.7293, 3.703, 3.6827, 3.6678, 3.6575, 3.6513, 3.6486, 3.6487, 3.6511, 3.6552, 3.6608, 3.6672, 3.6743, 3.6817, 3.6892, 3.6966, 3.7038, 3.7106, 3.7171, 3.7231, 3.7286, 3.7336, 3.7382, 3.7423, 3.746, 3.7492, 3.7521, 3.7546, 3.7568, 3.7587, 3.7602, 3.7616, 3.7626, 3.7635, 3.7641, 3.7645, 3.7647, 3.7646, 3.7644, 3.764, 3.7633, 3.7624, 3.7613, 3.7598, 3.7581, 3.7561, 3.7536, 3.7508, 3.7475, 3.7437, 3.7393, 3.7343, 3.7285, 3.7219, 3.7143, 3.7057, 3.6959, 3.6849, 3.6723, 3.6582, 3.6423, 3.6244, 3.6045, 3.5822, 3.5575, 3.5302, 3.5002, 3.4674, 3.4317, 3.3931, 3.3516, 3.3073, 3.2605, 3.2112, 3.1599, 3.1068, 3.0523, 2.997],
            55: [6.4072, 6.2149, 6.0226, 5.832, 5.6446, 5.4619, 5.2852, 5.1157, 4.9542, 4.8017, 4.6587, 4.5257, 4.4029, 4.2904, 4.1884, 4.0966, 4.0148, 3.9429, 3.8803, 3.8266, 3.7815, 3.7443, 3.7145, 3.6915, 3.6747, 3.6634, 3.6571, 3.6551, 3.6568, 3.6615, 3.6686, 3.6777, 3.6882, 3.6997, 3.7118, 3.7241, 3.7363, 3.7483, 3.7598, 3.7707, 3.781, 3.7905, 3.7993, 3.8074, 3.8147, 3.8213, 3.8272, 3.8324, 3.8371, 3.8412, 3.8448, 3.8479, 3.8506, 3.8529, 3.8548, 3.8564, 3.8577, 3.8587, 3.8593, 3.8598, 3.8599, 3.8598, 3.8594, 3.8587, 3.8577, 3.8565, 3.8549, 3.8529, 3.8505, 3.8477, 3.8444, 3.8406, 3.8362, 3.831, 3.8251, 3.8184, 3.8107, 3.8019, 3.7918, 3.7805, 3.7676, 3.7531, 3.7367, 3.7184, 3.6979, 3.675, 3.6496, 3.6215, 3.5907, 3.5569, 3.5201, 3.4804, 3.4377, 3.3921, 3.3438, 3.2931, 3.2402, 3.1854, 3.1293, 3.0722],
            60: [6.314, 6.1263, 5.9387, 5.7527, 5.5699, 5.3917, 5.2194, 5.0541, 4.8968, 4.7482, 4.6089, 4.4794, 4.3599, 4.2506, 4.1514, 4.0624, 3.9832, 3.9137, 3.8535, 3.8022, 3.7594, 3.7247, 3.6975, 3.6772, 3.6635, 3.6555, 3.6529, 3.6549, 3.6609, 3.6703, 3.6825, 3.6969, 3.713, 3.7302, 3.7481, 3.7663, 3.7843, 3.802, 3.8191, 3.8353, 3.8506, 3.8649, 3.8781, 3.8903, 3.9014, 3.9114, 3.9204, 3.9285, 3.9357, 3.9421, 3.9478, 3.9527, 3.957, 3.9607, 3.9639, 3.9666, 3.9688, 3.9707, 3.9721, 3.9731, 3.9738, 3.9742, 3.9742, 3.9739, 3.9732, 3.9722, 3.9708, 3.969, 3.9667, 3.964, 3.9607, 3.9569, 3.9524, 3.9472, 3.9412, 3.9343, 3.9263, 3.9173, 3.907, 3.8953, 3.882, 3.8671, 3.8502, 3.8313, 3.8101, 3.7864, 3.7602, 3.7312, 3.6993, 3.6644, 3.6264, 3.5853, 3.5411, 3.494, 3.444, 3.3915, 3.3367, 3.2801, 3.2219, 3.1627],
            65: [6.2334, 6.0495, 5.8657, 5.6835, 5.5045, 5.3301, 5.1614, 4.9996, 4.8457, 4.7003, 4.5641, 4.4374, 4.3206, 4.2137, 4.1169, 4.0299, 3.9527, 3.885, 3.8266, 3.777, 3.736, 3.7031, 3.6778, 3.6598, 3.6484, 3.6433, 3.6438, 3.6494, 3.6595, 3.6736, 3.6909, 3.711, 3.7332, 3.7568, 3.7815, 3.8067, 3.8319, 3.8567, 3.8809, 3.9041, 3.9261, 3.9469, 3.9662, 3.9841, 4.0005, 4.0155, 4.0291, 4.0413, 4.0523, 4.0621, 4.0708, 4.0785, 4.0852, 4.0911, 4.0962, 4.1006, 4.1043, 4.1075, 4.11, 4.1121, 4.1137, 4.1148, 4.1154, 4.1157, 4.1155, 4.1148, 4.1137, 4.1122, 4.1101, 4.1075, 4.1044, 4.1006, 4.0961, 4.0908, 4.0847, 4.0776, 4.0695, 4.0602, 4.0495, 4.0374, 4.0237, 4.0082, 3.9907, 3.971, 3.949, 3.9244, 3.8972, 3.867, 3.8339, 3.7975, 3.758, 3.7152, 3.6693, 3.6202, 3.5682, 3.5135, 3.4564, 3.3974, 3.3367, 3.2749],
            70: [6.1627, 5.9821, 5.8015, 5.6226, 5.4468, 5.2755, 5.1098, 4.951, 4.7999, 4.6571, 4.5234, 4.399, 4.2842, 4.1793, 4.0842, 3.9988, 3.923, 3.8566, 3.7993, 3.7508, 3.7109, 3.6791, 3.6551, 3.6385, 3.6289, 3.6258, 3.6288, 3.6374, 3.6512, 3.6695, 3.6918, 3.7175, 3.7461, 3.7768, 3.8091, 3.8425, 3.8763, 3.91, 3.9432, 3.9755, 4.0066, 4.0362, 4.0641, 4.0902, 4.1144, 4.1367, 4.1571, 4.1756, 4.1923, 4.2074, 4.2209, 4.2328, 4.2434, 4.2528, 4.261, 4.2681, 4.2742, 4.2795, 4.284, 4.2877, 4.2907, 4.293, 4.2948, 4.296, 4.2966, 4.2966, 4.2961, 4.295, 4.2933, 4.291, 4.288, 4.2844, 4.2799, 4.2747, 4.2684, 4.2612, 4.2528, 4.2432, 4.2322, 4.2196, 4.2053, 4.189, 4.1708, 4.1502, 4.1272, 4.1014, 4.0729, 4.0413, 4.0065, 3.9684, 3.9269, 3.882, 3.8338, 3.7822, 3.7276, 3.6701, 3.6101, 3.548, 3.4842, 3.4191],
            75: [6.1003, 5.9224, 5.7446, 5.5684, 5.3953, 5.2266, 5.0635, 4.9071, 4.7583, 4.6177, 4.4859, 4.3634, 4.2503, 4.1468, 4.0529, 3.9686, 3.8937, 3.828, 3.7713, 3.7234, 3.6839, 3.6525, 3.629, 3.613, 3.6042, 3.6022, 3.6068, 3.6175, 3.634, 3.6558, 3.6824, 3.7133, 3.7481, 3.786, 3.8265, 3.869, 3.9127, 3.9572, 4.0017, 4.0458, 4.0889, 4.1306, 4.1706, 4.2085, 4.2442, 4.2775, 4.3084, 4.3367, 4.3626, 4.3862, 4.4075, 4.4266, 4.4436, 4.4588, 4.4723, 4.4841, 4.4944, 4.5034, 4.5112, 4.5178, 4.5233, 4.5279, 4.5316, 4.5345, 4.5365, 4.5378, 4.5384, 4.5382, 4.5372, 4.5355, 4.533, 4.5297, 4.5254, 4.5202, 4.514, 4.5067, 4.498, 4.488, 4.4765, 4.4633, 4.4483, 4.4312, 4.4119, 4.3902, 4.3658, 4.3386, 4.3083, 4.2747, 4.2378, 4.1974, 4.1533, 4.1056, 4.0543, 3.9995, 3.9414, 3.8802, 3.8163, 3.7501, 3.682, 3.6127],
            80: [6.0446, 5.8691, 5.6936, 5.5198, 5.3489, 5.1825, 5.0216, 4.8672, 4.7203, 4.5814, 4.4513, 4.3301, 4.2183, 4.1158, 4.0228, 3.9391, 3.8646, 3.7992, 3.7426, 3.6945, 3.6548, 3.6231, 3.5992, 3.5829, 3.5739, 3.5719, 3.5768, 3.5883, 3.6062, 3.63, 3.6596, 3.6946, 3.7345, 3.7789, 3.8273, 3.879, 3.9335, 3.9901, 4.048, 4.1066, 4.1653, 4.2232, 4.28, 4.335, 4.3877, 4.4379, 4.4852, 4.5295, 4.5706, 4.6085, 4.6431, 4.6747, 4.7033, 4.729, 4.7521, 4.7726, 4.7907, 4.8067, 4.8208, 4.8329, 4.8434, 4.8523, 4.8599, 4.8661, 4.871, 4.8748, 4.8775, 4.8792, 4.8798, 4.8793, 4.8779, 4.8754, 4.8718, 4.867, 4.861, 4.8536, 4.8449, 4.8345, 4.8225, 4.8086, 4.7926, 4.7744, 4.7537, 4.7304, 4.7042, 4.6748, 4.6421, 4.6059, 4.566, 4.5223, 4.4746, 4.4229, 4.3673, 4.3079, 4.2449, 4.1785, 4.1091, 4.0372, 3.9632, 3.8877],
            85: [5.9947, 5.8211, 5.6477, 5.4758, 5.3069, 5.1424, 4.9833, 4.8306, 4.6852, 4.5478, 4.4189, 4.2989, 4.1879, 4.0862, 3.9936, 3.9102, 3.8357, 3.7701, 3.713, 3.6643, 3.6236, 3.5909, 3.5658, 3.5482, 3.5378, 3.5345, 3.5383, 3.5488, 3.5661, 3.59, 3.6205, 3.6572, 3.7001, 3.7489, 3.8033, 3.8628, 3.9272, 3.9957, 4.0678, 4.1427, 4.2198, 4.2982, 4.377, 4.4556, 4.5331, 4.6088, 4.6821, 4.7523, 4.8191, 4.882, 4.941, 4.9957, 5.0461, 5.0924, 5.1344, 5.1725, 5.2068, 5.2375, 5.2647, 5.2889, 5.3101, 5.3286, 5.3445, 5.3582, 5.3698, 5.3794, 5.3871, 5.3931, 5.3974, 5.4002, 5.4014, 5.401, 5.3992, 5.3957, 5.3907, 5.384, 5.3754, 5.365, 5.3525, 5.3378, 5.3207, 5.301, 5.2785, 5.2529, 5.224, 5.1916, 5.1553, 5.1151, 5.0708, 5.022, 4.9689, 4.9112, 4.8491, 4.7827, 4.7122, 4.6379, 4.5602, 4.4795, 4.3965, 4.3116],
            90: [5.9495, 5.7777, 5.606, 5.4358, 5.2686, 5.1057, 4.9481, 4.7968, 4.6527, 4.5165, 4.3886, 4.2694, 4.159, 4.0576, 3.9652, 3.8817, 3.8069, 3.7406, 3.6826, 3.6327, 3.5906, 3.5561, 3.5289, 3.509, 3.496, 3.49, 3.4909, 3.4985, 3.513, 3.5343, 3.5625, 3.5977, 3.6399, 3.6891, 3.7454, 3.8087, 3.8789, 3.9559, 4.0393, 4.1288, 4.2239, 4.3238, 4.428, 4.5354, 4.6453, 4.7566, 4.8683, 4.9794, 5.0888, 5.1956, 5.2989, 5.3981, 5.4924, 5.5814, 5.6647, 5.7422, 5.8137, 5.8792, 5.9389, 5.9929, 6.0415, 6.0848, 6.1233, 6.1572, 6.1869, 6.2126, 6.2345, 6.2531, 6.2683, 6.2806, 6.29, 6.2966, 6.3006, 6.302, 6.3008, 6.2971, 6.2907, 6.2816, 6.2696, 6.2547, 6.2366, 6.2152, 6.1902, 6.1613, 6.1284, 6.0911, 6.0492, 6.0024, 5.9506, 5.8935, 5.8311, 5.7633, 5.6901, 5.6117, 5.5283, 5.4404, 5.3483, 5.2526, 5.154, 5.053],
            95: [5.9084, 5.7381, 5.5679, 5.3992, 5.2335, 5.0719, 4.9155, 4.7655, 4.6225, 4.4871, 4.3599, 4.2413, 4.1313, 4.03, 3.9375, 3.8536, 3.7781, 3.7109, 3.6516, 3.6, 3.5559, 3.5189, 3.489, 3.4657, 3.4491, 3.4389, 3.4352, 3.4379, 3.447, 3.4627, 3.4851, 3.5144, 3.5509, 3.5948, 3.6464, 3.7061, 3.7742, 3.851, 3.9367, 4.0316, 4.1359, 4.2495, 4.3724, 4.5045, 4.6453, 4.7944, 4.951, 5.1144, 5.2834, 5.457, 5.6337, 5.8123, 5.9911, 6.1688, 6.3437, 6.5146, 6.6801, 6.8391, 6.9905, 7.1336, 7.2677, 7.3924, 7.5076, 7.6132, 7.7092, 7.7959, 7.8736, 7.9426, 8.0033, 8.0562, 8.1016, 8.14, 8.1717, 8.1971, 8.2164, 8.2299, 8.2378, 8.24, 8.2368, 8.228, 8.2137, 8.1936, 8.1677, 8.1357, 8.0974, 8.0525, 8.0008, 7.9419, 7.8758, 7.8022, 7.721, 7.6322, 7.5359, 7.4323, 7.3217, 7.2046, 7.0818, 6.9538, 6.8215, 6.6859],
            100: [5.8708, 5.7019, 5.533, 5.3656, 5.2011, 5.0407, 4.8855, 4.7364, 4.5942, 4.4596, 4.333, 4.2147, 4.1049, 4.0036, 3.9108, 3.8263, 3.7499, 3.6815, 3.6206, 3.5671, 3.5205, 3.4807, 3.4473, 3.42, 3.3988, 3.3834, 3.3737, 3.3697, 3.3713, 3.3786, 3.3918, 3.4111, 3.4366, 3.4689, 3.5081, 3.555, 3.6098, 3.6734, 3.7462, 3.829, 3.9226, 4.0277, 4.145, 4.2754, 4.4197, 4.5786, 4.7529, 4.9432, 5.1502, 5.3744, 5.6162, 5.8759, 6.1535, 6.4491, 6.7622, 7.0924, 7.4389, 7.8004, 8.1757, 8.563, 8.9602, 9.365, 9.7746, 10.1864, 10.5972, 11.0039, 11.4034, 11.7925, 12.1684, 12.5283, 12.8699, 13.1911, 13.4903, 13.766, 14.0175, 14.2442, 14.4457, 14.6219, 14.7732, 14.8997, 15.0018, 15.0799, 15.1346, 15.1661, 15.175, 15.1614, 15.1258, 15.0684, 14.9896, 14.8896, 14.769, 14.6282, 14.468, 14.2893, 14.0931, 13.8808, 13.6539, 13.4141, 13.1634, 12.9036]
        };

    function getClosestLevel(level, positions) {
        const availableLevels = Object.keys(positions).map(Number);
        let closestLevel = availableLevels[0];
        for (let i = 1; i < availableLevels.length; i++) {
            if (Math.abs(level - availableLevels[i]) < Math.abs(level - closestLevel)) {
                closestLevel = availableLevels[i];
            }
        }
        return closestLevel;
    }

    // Helper function to convert to dB
    function convertToDb(magnitudeArray) {
        return magnitudeArray.map(value => 20 * Math.log10(value));
    }

    // Convert all position datasets to dB
    [LevelPositions, TonePositions].forEach((positions) => {
        Object.keys(positions).forEach((key) => {
            positions[key] = convertToDb(positions[key]);
        });
    });

function renderGraph(Level, Tone) {
    Plotly.newPlot('graph', [
        { x: frequency, y: LevelPositions[Level], type: 'scatter', mode: 'lines', name: `Level @ ${Level}%` },
        { x: frequency, y: TonePositions[Tone], type: 'scatter', mode: 'lines', name: `Tone @ ${Tone}%` }
    ], {
        title: {
            text: `<a href='https://rhpfelectronics.com/rhpf-electronics-handmade-guitar-pedals-in-switzerland/rhpf-nerd-lab/' target='_blank'>RhPf Electronics</a> - DOD Bi-Fet Preamp FX10 - Level: ${Level}% | Tone: ${Tone}%`,
            font: {
                size: 8 // Adjust title font size here
            }
        },
        xaxis: {
            title: {
                text: 'Frequency (Hz)',
                font: { size: 8 } // Adjust x-axis title font size if needed
            },
            type: 'log',
            tickvals: [20, 32, 64, 128, 256, 512, 1000, 2000, 4000, 8000, 16000, 20000],
            ticktext: ["20", "32", "64", "128", "256", "512", "1k", "2k", "4k", "8k", "16k", "20k"]
        },
        yaxis: {
            title: {
                text: 'Level (dB)',
                font: { size: 8 } // Adjust y-axis title font size if needed
            },
            range: [-10, 50] // Fixed Y-axis range
        },
        legend: {
            font: {
                size: 8 // Adjust legend font size here
            }
        }
    });
}

    function updatePointer(pointerId, angle) {
        const pointer = document.getElementById(pointerId);
        pointer.setAttribute('transform', `rotate(${angle} 0 0)`);
    }

    const knobs = {
        Level: { element: document.getElementById('knob-Level'), pointerId: 'Level-pointer', angle: 0, positions: LevelPositions },
        Tone: { element: document.getElementById('knob-Tone'), pointerId: 'Tone-pointer', angle: 0, positions: TonePositions },
    };

    function updateKnob(knob, delta, pointerId, positions, setAngle) {
        knob.angle += delta;
        knob.angle = Math.max(-135, Math.min(135, knob.angle)); // Clamp angle
        const value = Math.round(((knob.angle + 135) / 270) * 100);
        setAngle(knob.angle);
        updatePointer(pointerId, knob.angle);

        // Update graph with all knob values
        const levels = Object.keys(knobs).reduce((acc, key) => {
            acc[key] = getClosestLevel(
                Math.round(((knobs[key].angle + 135) / 270) * 100),
                knobs[key].positions
            );
            return acc;
        }, {});

        renderGraph(levels.Level, levels.Tone);
    }

function addKnobListeners(knobKey) {
    const knob = knobs[knobKey];
    const { element, pointerId, positions } = knob;

    // Handle both mouse and touch start
    const startEvent = (event) => {
        const isTouch = event.type === "touchstart";
        const clientX = isTouch ? event.touches[0].clientX : event.clientX;
        const clientY = isTouch ? event.touches[0].clientY : event.clientY;

        const rect = element.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
	document.body.style.overflow = 'hidden';

const moveEvent = (e) => {
    const moveClientX = isTouch ? e.touches[0].clientX : e.clientX;
    const moveClientY = isTouch ? e.touches[0].clientY : e.clientY;
    const dx = moveClientX - cx;
    const dy = moveClientY - cy;

    let angle = Math.atan2(dy, dx) * (180 / Math.PI);
    angle = (angle + 360) % 360;

    if (angle >= 134 || angle <= 46) {
        if (angle <= 46) angle += 360;

        let newKnobAngle = angle - 135; // normalized 0–270°
        newKnobAngle = Math.max(0, Math.min(272, newKnobAngle)); // allow slight overshoot

        // Snap to exact min/max
        if (newKnobAngle < 2) newKnobAngle = 0;
        if (newKnobAngle > 268) newKnobAngle = 270;

        const desiredAngle = newKnobAngle - 135; // -135 to +135
        const delta = desiredAngle - knob.angle;
        updateKnob(knob, delta, pointerId, positions, (a) => (knob.angle = a));
    }
};

        const endEvent = () => {
            document.removeEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
            document.removeEventListener(isTouch ? "touchend" : "mouseup", endEvent);
        };

        document.addEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
        document.addEventListener(isTouch ? "touchend" : "mouseup", endEvent);
    };

    // Add event listeners for mouse and touch
    element.addEventListener("mousedown", startEvent);
    element.addEventListener("touchstart", startEvent, { passive: false }); // Passive false to prevent scrolling

    // Scroll wheel functionality
    element.addEventListener("wheel", (event) => {
        event.preventDefault();
        const delta = event.deltaY > 0 ? -5 : 5; // Scroll direction adjusts knob
        const deltaAngle = delta * (270 / 100); // Map delta to angle
        updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
    });
}

// Add event listeners to all knobs
Object.keys(knobs).forEach(addKnobListeners);

// Initialize pointers
Object.keys(knobs).forEach((key) => {
    updatePointer(knobs[key].pointerId, knobs[key].angle);
});

    // Initialize graph
    renderGraph(50, 50);
</script>
</body>
</html>
