<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RhPf Electronics Boss OD-1 Analysis Interactive Individual</title>
    <meta name="description" content="Interactive analysis tool for the Boss OD-1.">
    <meta name="author" content="RhPf Electronics">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        if (!window.Plotly) {
            document.write('<script src="/path-to-local-plotly/plotly-latest.min.js"><\/script>');
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: row; /* Stack pedal and graph horizontally */
            justify-content: left;
            align-items: top;
            margin: 0;
            height: auto;
        }

        #pedal-container {
            width: 100%; /* Scale pedal container to fit the viewport */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #pedal-svg {
            width: 100%; /* Make the SVG scale with the container */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #graph {
            width: 100%; /* Take up most of the width */
            height: 100vh; /* Dynamically scale height relative to the viewport */
            margin: 0; /* Add some spacing between graph and pedal */
        }

    </style>
</head>
<body>
    <!-- Pedal with Knobs -->
    <div id="pedal-container">
        <svg id="pedal-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1884 3600">
            <!-- Background Image -->
            <image href="https://thomasbe86.github.io/plotly-plot/Boss%20OD-1.png" x="0" y="0" width="1884" height="3600" />
<g id="knob-Overdrive" transform="translate(1355, 545)">
    <circle cx="0" cy="0" r="260" fill="#000" stroke="none" stroke-width="3" />
    <line id="Overdrive-pointer" x1="0" y1="0" x2="0" y2="-220" stroke="#ffffff" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-Level" transform="translate(495, 545)">
    <circle cx="0" cy="0" r="260" fill="#000" stroke="none" stroke-width="3" />
    <line id="Level-pointer" x1="0" y1="0" x2="0" y2="-220" stroke="#ffffff" stroke-width="15" stroke-linecap="round" />
</g>
        </svg>
    </div>

    <!-- Graph -->
    <div id="graph"></div>

    <script>
        // Ensure Plotly resizes with window changes
        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('graph'));
        });
    </script>

    <script>
        // Frequency Data
        const frequency = [
            20, 21.44, 22.97, 24.62, 26.39, 28.28, 30.31, 32.49, 34.82, 37.32, 40,
            42.87, 45.95, 49.25, 52.78, 56.57, 60.63, 64.98, 69.64, 74.64, 80,
            85.74, 91.89, 98.49, 105.56, 113.13, 121.25, 129.96, 139.28, 149.29, 160,
            171.48, 183.79, 196.98, 211.12, 226.27, 242.51, 259.92, 278.58, 298.57,
            320, 342.97, 367.58, 393.97, 422.24, 452.55, 485.03, 519.84, 557.15,
            597.14, 640, 685.93, 735.17, 787.93, 844.49, 905.1, 970.06, 1039.68,
            1114.3, 1194.28, 1280, 1371.87, 1470.33, 1575.86, 1688.97, 1810.19,
            1940.12, 2079.37, 2228.61, 2388.56, 2560, 2743.74, 2940.67, 3151.73,
            3377.94, 3620.39, 3880.23, 4158.73, 4457.22, 4777.13, 5120, 5487.48,
            5881.34, 6303.46, 6755.88, 7240.77, 7760.47, 8317.46, 8914.44, 9554.26,
            10240, 10974.96, 11762.67, 12606.92, 13511.76, 14481.55, 15520.94,
            16634.93, 17828.88, 19108.52
        ];

        const OverdrivePositions = {
            0: [0.032, 0.0353, 0.0388, 0.0426, 0.0467, 0.0512, 0.0559, 0.0611, 0.0667, 0.0728, 0.0795, 0.0867, 0.0947, 0.1034, 0.1131, 0.1237, 0.1355, 0.1486, 0.1632, 0.1794, 0.1976, 0.2179, 0.2406, 0.266, 0.2944, 0.3263, 0.3619, 0.4017, 0.446, 0.4953, 0.5499, 0.6103, 0.6767, 0.7495, 0.8289, 0.9148, 1.0074, 1.1063, 1.2113, 1.3218, 1.4369, 1.5558, 1.6771, 1.7995, 1.9213, 2.0407, 2.156, 2.265, 2.366, 2.4571, 2.5365, 2.6028, 2.6549, 2.692, 2.7135, 2.7194, 2.71, 2.6861, 2.6485, 2.5985, 2.5375, 2.4671, 2.3888, 2.3043, 2.2149, 2.1222, 2.0274, 1.9318, 1.8362, 1.7416, 1.6487, 1.5581, 1.4702, 1.3854, 1.3038, 1.2258, 1.1514, 1.0806, 1.0133, 0.9497, 0.8896, 0.8328, 0.7794, 0.7291, 0.6818, 0.6374, 0.5957, 0.5567, 0.5201, 0.4858, 0.4537, 0.4237, 0.3956, 0.3694, 0.3449, 0.3219, 0.3005, 0.2805, 0.2618, 0.2443],
            5: [0.0351, 0.0392, 0.0437, 0.0487, 0.0543, 0.0604, 0.0673, 0.075, 0.0837, 0.0934, 0.1044, 0.1168, 0.1309, 0.1468, 0.1649, 0.1854, 0.2088, 0.2353, 0.2655, 0.2998, 0.3388, 0.383, 0.4332, 0.4899, 0.5541, 0.6266, 0.7082, 0.7998, 0.9024, 1.0169, 1.1443, 1.2855, 1.4411, 1.6119, 1.7983, 2.0006, 2.2185, 2.4517, 2.6994, 2.96, 3.2319, 3.5127, 3.7995, 4.0889, 4.3772, 4.6601, 4.9333, 5.1922, 5.4323, 5.6491, 5.8389, 5.9981, 6.124, 6.2146, 6.2689, 6.2866, 6.2686, 6.2163, 6.1321, 6.0187, 5.8796, 5.7181, 5.5382, 5.3433, 5.1372, 4.923, 4.7039, 4.4825, 4.2612, 4.0421, 3.8268, 3.6167, 3.4128, 3.216, 3.0269, 2.8458, 2.673, 2.5086, 2.3525, 2.2047, 2.065, 1.9332, 1.809, 1.6921, 1.5822, 1.479, 1.3822, 1.2914, 1.2063, 1.1265, 1.0519, 0.982, 0.9167, 0.8555, 0.7984, 0.7449, 0.6949, 0.6482, 0.6046, 0.5638],
            10: [0.0401, 0.0454, 0.0513, 0.058, 0.0656, 0.0742, 0.0839, 0.095, 0.1076, 0.1219, 0.1382, 0.1569, 0.1782, 0.2025, 0.2302, 0.2618, 0.298, 0.3392, 0.3861, 0.4396, 0.5005, 0.5697, 0.6482, 0.7372, 0.8379, 0.9516, 1.0797, 1.2236, 1.3848, 1.5648, 1.765, 1.9869, 2.2315, 2.5001, 2.7932, 3.1113, 3.454, 3.8209, 4.2104, 4.6205, 5.0483, 5.4902, 5.9416, 6.3972, 6.851, 7.2966, 7.727, 8.135, 8.5134, 8.8556, 9.1551, 9.4067, 9.606, 9.7498, 9.8365, 9.8658, 9.8388, 9.758, 9.6268, 9.4497, 9.232, 8.9793, 8.6972, 8.3917, 8.0683, 7.7323, 7.3884, 7.0408, 6.6934, 6.3493, 6.0111, 5.681, 5.3607, 5.0515, 4.7542, 4.4696, 4.198, 3.9395, 3.6941, 3.4618, 3.2421, 3.0348, 2.8394, 2.6555, 2.4825, 2.3201, 2.1676, 2.0246, 1.8905, 1.7648, 1.6471, 1.5369, 1.4338, 1.3372, 1.2469, 1.1624, 1.0833, 1.0093, 0.9401, 0.8753],
            15: [0.0464, 0.053, 0.0606, 0.0692, 0.0791, 0.0903, 0.1032, 0.1179, 0.1346, 0.1538, 0.1758, 0.2009, 0.2296, 0.2625, 0.3, 0.343, 0.392, 0.448, 0.5118, 0.5845, 0.6673, 0.7615, 0.8684, 0.9896, 1.1267, 1.2815, 1.4559, 1.6519, 1.8714, 2.1165, 2.3893, 2.6915, 3.0248, 3.3907, 3.79, 4.2233, 4.6904, 5.1903, 5.7211, 6.2801, 6.8632, 7.4656, 8.081, 8.7022, 9.3212, 9.9291, 10.5163, 11.0731, 11.5897, 12.057, 12.4664, 12.8104, 13.0831, 13.2804, 13.3998, 13.4409, 13.4052, 13.2961, 13.1182, 12.8778, 12.5818, 12.238, 11.8541, 11.4381, 10.9976, 10.5398, 10.0711, 9.5974, 9.1239, 8.6547, 8.1936, 7.7434, 7.3066, 6.8847, 6.4792, 6.0909, 5.7202, 5.3675, 5.0326, 4.7153, 4.4154, 4.1323, 3.8654, 3.6141, 3.3777, 3.1557, 2.9471, 2.7514, 2.5679, 2.3958, 2.2346, 2.0835, 1.942, 1.8094, 1.6853, 1.569, 1.4601, 1.3581, 1.2626, 1.1731],
            20: [0.0534, 0.0615, 0.0708, 0.0815, 0.0937, 0.1077, 0.1238, 0.1421, 0.1632, 0.1873, 0.2149, 0.2465, 0.2827, 0.3242, 0.3716, 0.4257, 0.4877, 0.5583, 0.639, 0.7309, 0.8355, 0.9545, 1.0896, 1.2428, 1.4161, 1.6118, 1.8323, 2.08, 2.3575, 2.6675, 3.0123, 3.3944, 3.8158, 4.2784, 4.7834, 5.3314, 5.9221, 6.5544, 7.2258, 7.9329, 8.6706, 9.4327, 10.2114, 10.9977, 11.7812, 12.5508, 13.2943, 13.9995, 14.6542, 15.2464, 15.7654, 16.2019, 16.5483, 16.7992, 16.9515, 17.0048, 16.9608, 16.8238, 16.5997, 16.2963, 15.9225, 15.488, 15.0026, 14.4765, 13.9193, 13.34, 12.7468, 12.1472, 11.5476, 10.9536, 10.3696, 9.7995, 9.2461, 8.7117, 8.1978, 7.7057, 7.2359, 6.7888, 6.3641, 5.9618, 5.5814, 5.2222, 4.8834, 4.5644, 4.2643, 3.9822, 3.7171, 3.4683, 3.2348, 3.0158, 2.8104, 2.6178, 2.4372, 2.268, 2.1093, 1.9606, 1.8211, 1.6904, 1.5677, 1.4527],
            25: [0.0609, 0.0705, 0.0816, 0.0944, 0.109, 0.1258, 0.145, 0.1671, 0.1924, 0.2214, 0.2547, 0.2928, 0.3364, 0.3864, 0.4436, 0.5089, 0.5836, 0.6689, 0.7663, 0.8772, 1.0035, 1.1471, 1.3102, 1.4951, 1.7043, 1.9405, 2.2067, 2.5057, 2.8408, 3.215, 3.6313, 4.0927, 4.6016, 5.1602, 5.77, 6.4318, 7.1452, 7.9088, 8.7198, 9.5739, 10.4652, 11.386, 12.327, 13.2773, 14.2244, 15.1547, 16.0538, 16.9068, 17.6987, 18.4155, 19.0439, 19.5726, 19.9926, 20.2972, 20.4827, 20.5484, 20.4965, 20.3321, 20.0623, 19.6966, 19.2456, 18.7209, 18.1348, 17.4991, 16.8257, 16.1254, 15.4083, 14.6833, 13.9582, 13.2396, 12.5331, 11.8433, 11.1736, 10.5268, 9.9049, 9.3091, 8.7402, 8.1986, 7.6842, 7.1967, 6.7356, 6.3001, 5.8893, 5.5023, 5.1381, 4.7955, 4.4735, 4.1711, 3.8871, 3.6205, 3.3704, 3.1356, 2.9154, 2.7088, 2.5149, 2.333, 2.1623, 2.0021, 1.8518, 1.7108],
            30: [0.0686, 0.0798, 0.0927, 0.1075, 0.1245, 0.1441, 0.1665, 0.1923, 0.2218, 0.2557, 0.2946, 0.3391, 0.3901, 0.4485, 0.5153, 0.5918, 0.6791, 0.7789, 0.8927, 1.0224, 1.1701, 1.3381, 1.5288, 1.7451, 1.9898, 2.2661, 2.5774, 2.9272, 3.3192, 3.7569, 4.2439, 4.7836, 5.379, 6.0326, 6.7461, 7.5204, 8.3552, 9.2488, 10.1979, 11.1976, 12.2409, 13.3188, 14.4205, 15.5332, 16.6423, 17.732, 18.7854, 19.7849, 20.7132, 21.5535, 22.2907, 22.9112, 23.4044, 23.7626, 23.9813, 24.0598, 24.0005, 23.8092, 23.4944, 23.067, 22.5396, 21.9258, 21.2397, 20.4955, 19.7068, 18.8865, 18.0463, 17.1967, 16.3468, 15.5045, 14.6762, 13.8673, 13.0819, 12.3232, 11.5935, 10.8944, 10.2267, 9.5909, 8.987, 8.4144, 7.8727, 7.3608, 6.8778, 6.4227, 5.994, 5.5907, 5.2115, 4.855, 4.5201, 4.2055, 3.9101, 3.6327, 3.3722, 3.1276, 2.898, 2.6824, 2.48, 2.2901, 2.1117, 1.9444],
            35: [0.0765, 0.0892, 0.1039, 0.1207, 0.1401, 0.1624, 0.188, 0.2174, 0.2511, 0.2898, 0.3342, 0.385, 0.4433, 0.51, 0.5863, 0.6736, 0.7734, 0.8874, 1.0175, 1.1657, 1.3345, 1.5264, 1.7444, 1.9915, 2.2711, 2.5869, 2.9426, 3.3424, 3.7904, 4.2906, 4.8472, 5.4641, 6.1446, 6.8916, 7.7072, 8.5923, 9.5467, 10.5683, 11.6535, 12.7966, 13.9896, 15.2224, 16.4826, 17.7555, 19.0245, 20.2715, 21.4771, 22.6213, 23.6842, 24.6468, 25.4915, 26.2029, 26.7688, 27.1802, 27.4321, 27.5234, 27.4571, 27.2395, 26.8806, 26.3926, 25.7899, 25.0881, 24.3034, 23.452, 22.5494, 21.6105, 20.6486, 19.6757, 18.7023, 17.7375, 16.7886, 15.8617, 14.9616, 14.0919, 13.2553, 12.4536, 11.6878, 10.9583, 10.2652, 9.608, 8.9858, 8.3978, 7.8428, 7.3195, 6.8265, 6.3623, 5.9256, 5.5149, 5.1288, 4.7659, 4.4248, 4.1044, 3.8033, 3.5205, 3.2549, 3.0055, 2.7712, 2.5514, 2.3452, 2.1519],
            40: [0.0844, 0.0986, 0.115, 0.1338, 0.1555, 0.1805, 0.2092, 0.2421, 0.2799, 0.3233, 0.3731, 0.4302, 0.4955, 0.5704, 0.656, 0.754, 0.866, 0.9938, 1.1398, 1.3061, 1.4955, 1.7109, 1.9554, 2.2327, 2.5465, 2.9009, 3.3002, 3.7488, 4.2516, 4.813, 5.4377, 6.13, 6.8939, 7.7324, 8.6479, 9.6415, 10.7129, 11.8599, 13.0784, 14.3619, 15.7017, 17.0862, 18.5016, 19.9315, 21.3573, 22.7586, 24.1136, 25.3998, 26.5951, 27.6778, 28.6282, 29.429, 30.0664, 30.5304, 30.8151, 30.9194, 30.8464, 30.6034, 30.2013, 29.654, 28.9776, 28.1895, 27.3081, 26.3513, 25.3369, 24.2814, 23.1997, 22.1056, 21.0107, 19.9252, 18.8574, 17.8143, 16.8011, 15.8219, 14.8798, 13.9768, 13.114, 12.2919, 11.5105, 10.7694, 10.0676, 9.404, 8.7774, 8.1863, 7.6292, 7.1044, 6.6104, 6.1455, 5.7082, 5.297, 4.9104, 4.547, 4.2054, 3.8845, 3.583, 3.2999, 3.0343, 2.7851, 2.5517, 2.3333],
            45: [0.0921, 0.1078, 0.1258, 0.1467, 0.1706, 0.1982, 0.2299, 0.2663, 0.3081, 0.3561, 0.4111, 0.4741, 0.5464, 0.6291, 0.7238, 0.8321, 0.9559, 1.0973, 1.2586, 1.4425, 1.6519, 1.8901, 2.1605, 2.4671, 2.8141, 3.2059, 3.6474, 4.1435, 4.6994, 5.3203, 6.0111, 6.7767, 7.6214, 8.5488, 9.5613, 10.6604, 11.8454, 13.1142, 14.4622, 15.8823, 17.3646, 18.8967, 20.4632, 22.0458, 23.6241, 25.1755, 26.6759, 28.1005, 29.4246, 30.6244, 31.6779, 32.5661, 33.2735, 33.7889, 34.1059, 34.223, 34.1438, 33.8763, 33.4324, 32.8274, 32.0793, 31.2072, 30.2315, 29.1721, 28.0486, 26.8792, 25.6808, 24.4682, 23.2546, 22.0512, 20.8672, 19.7103, 18.5863, 17.5, 16.4545, 15.4521, 14.4941, 13.5811, 12.713, 11.8893, 11.1091, 10.3711, 9.6739, 9.016, 8.3955, 7.8107, 7.26, 6.7416, 6.2536, 5.7946, 5.3629, 4.9569, 4.5754, 4.2169, 3.8803, 3.5644, 3.2683, 2.9909, 2.7315, 2.4892],
            50: [0.0996, 0.1167, 0.1364, 0.1591, 0.1853, 0.2153, 0.2499, 0.2896, 0.3353, 0.3876, 0.4477, 0.5165, 0.5954, 0.6857, 0.7891, 0.9073, 1.0425, 1.1968, 1.373, 1.5738, 1.8024, 2.0624, 2.3577, 2.6924, 3.0713, 3.4991, 3.9812, 4.5229, 5.1299, 5.8079, 6.5623, 7.3984, 8.3208, 9.3336, 10.4395, 11.6398, 12.9342, 14.3202, 15.7927, 17.3441, 18.9637, 20.6378, 22.3496, 24.0793, 25.8045, 27.5005, 29.1411, 30.6991, 32.1475, 33.4602, 34.6133, 35.5859, 36.3609, 36.9261, 37.2744, 37.4043, 37.3193, 37.0282, 36.5442, 35.8838, 35.0665, 34.1135, 33.0468, 31.8884, 30.6595, 29.3802, 28.0688, 26.7417, 25.4132, 24.0956, 22.7991, 21.532, 20.3007, 19.1103, 17.9645, 16.8656, 15.8151, 14.8137, 13.8612, 12.9572, 12.1005, 11.2899, 10.5238, 9.8004, 9.118, 8.4746, 7.8684, 7.2975, 6.76, 6.2543, 5.7785, 5.3312, 4.9108, 4.516, 4.1455, 3.7982, 3.4731, 3.1691, 2.8853, 2.621],
            55: [0.1068, 0.1252, 0.1465, 0.171, 0.1992, 0.2317, 0.269, 0.3119, 0.3611, 0.4176, 0.4824, 0.5568, 0.6419, 0.7394, 0.8511, 0.9787, 1.1247, 1.2913, 1.4815, 1.6983, 1.9452, 2.2259, 2.5448, 2.9062, 3.3153, 3.7773, 4.2979, 4.8829, 5.5384, 6.2705, 7.0852, 7.9882, 8.9845, 10.0783, 11.2728, 12.5693, 13.9676, 15.4647, 17.0555, 18.7317, 20.4816, 22.2906, 24.1405, 26.01, 27.8748, 29.7084, 31.4823, 33.1672, 34.7339, 36.1543, 37.4022, 38.4552, 39.2947, 39.9075, 40.2859, 40.428, 40.3378, 40.0245, 39.5023, 38.7892, 37.9062, 36.8761, 35.7227, 34.4698, 33.1405, 31.7563, 30.3371, 28.9006, 27.4624, 26.0357, 24.6316, 23.259, 21.925, 20.635, 19.393, 18.2016, 17.0624, 15.976, 14.9424, 13.9611, 13.0308, 12.1503, 11.3177, 10.5313, 9.7892, 9.0893, 8.4295, 7.808, 7.2229, 6.6721, 6.1541, 5.6671, 5.2097, 4.7805, 4.3781, 4.0014, 3.6492, 3.3206, 3.0147, 2.7305],
            60: [0.1136, 0.1332, 0.1559, 0.1821, 0.2122, 0.2469, 0.2868, 0.3326, 0.3853, 0.4457, 0.5149, 0.5944, 0.6854, 0.7896, 0.9089, 1.0454, 1.2014, 1.3796, 1.5829, 1.8146, 2.0785, 2.3786, 2.7194, 3.1058, 3.5431, 4.037, 4.5935, 5.2189, 5.9197, 6.7024, 7.5734, 8.5388, 9.604, 10.7735, 12.0507, 13.437, 14.9322, 16.5332, 18.2345, 20.0272, 21.8989, 23.834, 25.813, 27.8131, 29.8085, 31.7707, 33.6693, 35.473, 37.1505, 38.6716, 40.0084, 41.1368, 42.0369, 42.6944, 43.1011, 43.2548, 43.1597, 42.8257, 42.2679, 41.5055, 40.561, 39.4587, 38.2241, 36.8826, 35.459, 33.9763, 32.4559, 30.9167, 29.3754, 27.8461, 26.3407, 24.8688, 23.4381, 22.0543, 20.7216, 19.4429, 18.2199, 17.0533, 15.943, 14.8886, 13.8887, 12.9419, 12.0464, 11.2003, 10.4016, 9.648, 8.9376, 8.2683, 7.638, 7.0449, 6.4871, 5.9631, 5.4711, 5.0099, 4.578, 4.1743, 3.7977, 3.447, 3.1213, 2.8196],
            65: [0.1198, 0.1406, 0.1646, 0.1923, 0.2242, 0.2609, 0.3031, 0.3517, 0.4074, 0.4713, 0.5447, 0.6288, 0.7252, 0.8355, 0.9619, 1.1064, 1.2716, 1.4602, 1.6755, 1.9209, 2.2004, 2.5182, 2.8791, 3.2883, 3.7514, 4.2744, 4.8637, 5.526, 6.2682, 7.0971, 8.0196, 9.042, 10.1702, 11.409, 12.7617, 14.2302, 15.814, 17.5101, 19.3125, 21.2117, 23.1949, 25.2453, 27.3425, 29.4622, 31.5771, 33.6571, 35.67, 37.5825, 39.3615, 40.975, 42.3934, 43.5909, 44.5466, 45.2453, 45.678, 45.8424, 45.743, 45.3901, 44.7997, 43.9922, 42.9911, 41.8226, 40.5134, 39.0906, 37.5803, 36.0071, 34.3936, 32.7598, 31.1236, 29.4998, 27.9012, 26.3378, 24.8179, 23.3474, 21.931, 20.5717, 19.2712, 18.0304, 16.8493, 15.7271, 14.6627, 13.6545, 12.7007, 11.7992, 10.948, 10.1448, 9.3875, 8.674, 8.0021, 7.37, 6.7758, 6.2178, 5.6944, 5.2043, 4.746, 4.3182, 3.9199, 3.5499, 3.2071, 2.8903],
            70: [0.1253, 0.1471, 0.1723, 0.2014, 0.2349, 0.2734, 0.3177, 0.3686, 0.4271, 0.4942, 0.5712, 0.6594, 0.7606, 0.8764, 1.009, 1.1607, 1.334, 1.532, 1.758, 2.0156, 2.3088, 2.6424, 3.0212, 3.4507, 3.9367, 4.4857, 5.1043, 5.7994, 6.5784, 7.4485, 8.4168, 9.49, 10.6743, 11.9747, 13.3948, 14.9364, 16.5992, 18.3799, 20.2722, 22.2664, 24.3489, 26.5021, 28.7045, 30.9309, 33.1524, 35.3374, 37.4522, 39.4618, 41.3314, 43.0273, 44.5185, 45.7778, 46.7832, 47.5186, 47.9746, 48.1487, 48.0455, 47.6758, 47.0563, 46.2084, 45.157, 43.9291, 42.5533, 41.0577, 39.4698, 37.8156, 36.1187, 34.4003, 32.6789, 30.9705, 29.2881, 27.6427, 26.0426, 24.4944, 23.0027, 21.5709, 20.2007, 18.8931, 17.648, 16.4648, 15.3423, 14.2788, 13.2724, 12.321, 11.4225, 10.5746, 9.7751, 9.0218, 8.3127, 7.6457, 7.0191, 6.431, 5.88, 5.3645, 4.8831, 4.4346, 4.0177, 3.6313, 3.274, 2.9448],
            75: [0.1301, 0.1528, 0.179, 0.2092, 0.244, 0.2841, 0.3302, 0.3832, 0.444, 0.5139, 0.594, 0.6858, 0.7911, 0.9116, 1.0496, 1.2074, 1.3878, 1.5938, 1.829, 2.097, 2.4022, 2.7493, 3.1435, 3.5904, 4.0962, 4.6675, 5.3112, 6.0346, 6.8453, 7.7508, 8.7585, 9.8755, 11.108, 12.4614, 13.9394, 15.544, 17.2747, 19.1282, 21.0981, 23.174, 25.342, 27.5837, 29.8768, 32.195, 34.5083, 36.7838, 38.9864, 41.0797, 43.0274, 44.7944, 46.3483, 47.661, 48.7093, 49.4765, 49.9526, 50.1351, 50.0286, 49.6444, 48.9998, 48.1171, 47.0221, 45.7431, 44.3095, 42.751, 41.0961, 39.3718, 37.6027, 35.811, 34.0159, 32.234, 30.4792, 28.7625, 27.0929, 25.4771, 23.9201, 22.4253, 20.9945, 19.6288, 18.3282, 17.0919, 15.9187, 14.807, 13.7548, 12.76, 11.8204, 10.9336, 10.0975, 9.3098, 8.5685, 7.8715, 7.217, 6.6033, 6.0287, 5.4918, 4.9911, 4.5253, 4.093, 3.6931, 3.3242, 2.9849],
            80: [0.134, 0.1574, 0.1845, 0.2157, 0.2516, 0.293, 0.3405, 0.3952, 0.458, 0.5301, 0.6127, 0.7075, 0.8162, 0.9406, 1.083, 1.2459, 1.432, 1.6447, 1.8873, 2.164, 2.479, 2.8372, 3.2441, 3.7053, 4.2274, 4.817, 5.4814, 6.2281, 7.0649, 7.9995, 9.0396, 10.1925, 11.4648, 12.8618, 14.3875, 16.0439, 17.8305, 19.744, 21.7776, 23.9208, 26.1591, 28.4737, 30.8414, 33.2352, 35.6242, 37.9742, 40.2491, 42.4113, 44.4233, 46.2489, 47.8547, 49.2113, 50.295, 51.0883, 51.581, 51.7705, 51.6612, 51.2651, 50.5998, 49.6883, 48.5573, 47.236, 45.7548, 44.1443, 42.4339, 40.6516, 38.8228, 36.9704, 35.1143, 33.2716, 31.4566, 29.6809, 27.9537, 26.2819, 24.6707, 23.1235, 21.6424, 20.2284, 18.8815, 17.6011, 16.3858, 15.234, 14.1437, 13.1128, 12.139, 11.22, 10.3536, 9.5375, 8.7696, 8.0479, 7.3706, 6.7359, 6.1422, 5.588, 5.0718, 4.5922, 4.1479, 3.7374, 3.3594, 3.0125],
            85: [0.137, 0.161, 0.1887, 0.2207, 0.2575, 0.2998, 0.3485, 0.4045, 0.4688, 0.5426, 0.6273, 0.7243, 0.8356, 0.963, 1.1088, 1.2756, 1.4662, 1.684, 1.9325, 2.2157, 2.5383, 2.9052, 3.3218, 3.7942, 4.3288, 4.9326, 5.613, 6.3777, 7.2346, 8.1917, 9.2569, 10.4376, 11.7406, 13.1713, 14.7338, 16.4303, 18.2601, 20.2199, 22.3029, 24.4981, 26.7908, 29.1618, 31.5873, 34.0395, 36.4869, 38.8947, 41.2255, 43.4411, 45.5029, 47.3738, 49.0196, 50.4103, 51.5214, 52.3349, 52.8405, 53.0353, 52.9239, 52.5185, 51.8371, 50.9033, 49.7443, 48.3901, 46.872, 45.221, 43.4676, 41.6402, 39.7649, 37.8653, 35.9617, 34.0717, 32.21, 30.3883, 28.6161, 26.9006, 25.2471, 23.6591, 22.1387, 20.687, 19.304, 17.9891, 16.7409, 15.5578, 14.4377, 13.3786, 12.3782, 11.4341, 10.544, 9.7058, 8.9173, 8.1766, 7.4817, 6.831, 6.2227, 5.6554, 5.1275, 4.6376, 4.1843, 3.7661, 3.3816, 3.0292],
            90: [0.1392, 0.1636, 0.1917, 0.2242, 0.2616, 0.3046, 0.3541, 0.411, 0.4764, 0.5514, 0.6375, 0.7361, 0.8492, 0.9787, 1.1269, 1.2965, 1.4902, 1.7116, 1.9642, 2.2521, 2.58, 2.9529, 3.3764, 3.8566, 4.4, 5.0138, 5.7054, 6.4827, 7.3538, 8.3268, 9.4096, 10.6098, 11.9343, 13.3888, 14.9772, 16.7018, 18.5621, 20.5544, 22.672, 24.9039, 27.2348, 29.6453, 32.1114, 34.6048, 37.0934, 39.5416, 41.9118, 44.1649, 46.2617, 48.1645, 49.8385, 51.2531, 52.3834, 53.2112, 53.7258, 53.9242, 53.8114, 53.3993, 52.7066, 51.7569, 50.5782, 49.2008, 47.6565, 45.977, 44.1931, 42.3338, 40.4257, 38.4926, 36.5555, 34.632, 32.737, 30.8828, 29.0788, 27.3323, 25.6487, 24.0317, 22.4834, 21.0049, 19.5963, 18.2568, 16.9852, 15.7798, 14.6386, 13.5594, 12.54, 11.578, 10.6712, 9.8174, 9.0144, 8.2602, 7.5531, 6.8911, 6.2728, 5.6965, 5.1607, 4.6638, 4.2045, 3.7813, 3.3925, 3.0365],
            95: [0.1404, 0.1651, 0.1935, 0.2262, 0.264, 0.3075, 0.3574, 0.4149, 0.4809, 0.5566, 0.6435, 0.7431, 0.8572, 0.988, 1.1376, 1.3088, 1.5044, 1.7279, 1.9829, 2.2736, 2.6046, 2.9811, 3.4086, 3.8934, 4.442, 5.0617, 5.7599, 6.5446, 7.424, 8.4063, 9.4995, 10.7113, 12.0485, 13.5169, 15.1206, 16.8618, 18.7399, 20.7515, 22.8894, 25.1428, 27.4963, 29.9302, 32.4202, 34.9378, 37.4505, 39.9227, 42.3161, 44.5912, 46.7087, 48.6302, 50.3208, 51.7494, 52.891, 53.7272, 54.247, 54.4476, 54.3338, 53.9178, 53.2182, 52.2592, 51.0687, 49.6775, 48.1176, 46.4211, 44.6191, 42.7408, 40.8132, 38.8603, 36.9031, 34.9596, 33.0449, 31.1712, 29.3482, 27.5832, 25.8817, 24.2473, 22.6823, 21.1877, 19.7637, 18.4094, 17.1237, 15.9049, 14.751, 13.6598, 12.629, 11.6563, 10.7395, 9.8763, 9.0646, 8.3026, 7.5882, 6.9197, 6.2956, 5.7141, 5.1738, 4.6731, 4.2106, 3.7846, 3.3936, 3.0359],
            100: [0.1409, 0.1656, 0.1941, 0.227, 0.2648, 0.3084, 0.3586, 0.4162, 0.4824, 0.5584, 0.6456, 0.7455, 0.86, 0.9912, 1.1413, 1.3131, 1.5094, 1.7335, 1.9894, 2.2811, 2.6132, 2.9909, 3.4199, 3.9062, 4.4567, 5.0784, 5.7789, 6.5663, 7.4486, 8.4341, 9.531, 10.7468, 12.0884, 13.5617, 15.1707, 16.9177, 18.8021, 20.8204, 22.9655, 25.2264, 27.5878, 30.0298, 32.5281, 35.0542, 37.5754, 40.0559, 42.4574, 44.7402, 46.8649, 48.793, 50.4893, 51.9228, 53.0683, 53.9073, 54.4289, 54.6301, 54.5159, 54.0983, 53.3963, 52.4338, 51.2391, 49.8429, 48.2773, 46.5747, 44.7661, 42.881, 40.9463, 38.9862, 37.0217, 35.071, 33.1491, 31.2683, 29.4383, 27.6665, 25.9583, 24.3175, 22.7463, 21.2457, 19.8159, 18.4561, 17.1652, 15.9413, 14.7826, 13.6868, 12.6517, 11.675, 10.7544, 9.8878, 9.073, 8.308, 7.5911, 6.9204, 6.2942, 5.7111, 5.1694, 4.6677, 4.2044, 3.7778, 3.3865, 3.0286]
        };

        const LevelPositions = {
            0: [0.0019, 0.0023, 0.0027, 0.0031, 0.0037, 0.0043, 0.005, 0.0058, 0.0067, 0.0077, 0.0089, 0.0103, 0.0119, 0.0137, 0.0157, 0.0181, 0.0208, 0.0239, 0.0274, 0.0314, 0.036, 0.0411, 0.047, 0.0537, 0.0613, 0.0698, 0.0794, 0.0902, 0.1023, 0.1158, 0.1309, 0.1475, 0.1659, 0.1861, 0.2082, 0.2321, 0.2579, 0.2855, 0.3149, 0.3458, 0.3781, 0.4115, 0.4456, 0.4801, 0.5145, 0.5483, 0.581, 0.6121, 0.641, 0.6671, 0.6901, 0.7095, 0.725, 0.7363, 0.7432, 0.7458, 0.7441, 0.7383, 0.7287, 0.7155, 0.6992, 0.6802, 0.6589, 0.6358, 0.6113, 0.5858, 0.5597, 0.5332, 0.5067, 0.4805, 0.4546, 0.4293, 0.4048, 0.3811, 0.3582, 0.3363, 0.3153, 0.2954, 0.2764, 0.2584, 0.2413, 0.2251, 0.2098, 0.1954, 0.1818, 0.169, 0.1569, 0.1455, 0.1348, 0.1247, 0.1152, 0.1063, 0.0979, 0.09, 0.0827, 0.0757, 0.0693, 0.0632, 0.0575, 0.0523],
            5: [0.0099, 0.0116, 0.0136, 0.0159, 0.0186, 0.0216, 0.0251, 0.029, 0.0336, 0.0389, 0.0449, 0.0518, 0.0597, 0.0688, 0.0792, 0.091, 0.1046, 0.1201, 0.1378, 0.1579, 0.1808, 0.2069, 0.2366, 0.2701, 0.3082, 0.3511, 0.3994, 0.4538, 0.5147, 0.5827, 0.6584, 0.7423, 0.8348, 0.9364, 1.0473, 1.1678, 1.2976, 1.4366, 1.5844, 1.74, 1.9025, 2.0704, 2.2421, 2.4156, 2.5887, 2.7589, 2.9235, 3.0798, 3.2251, 3.3568, 3.4726, 3.5701, 3.6479, 3.7047, 3.7396, 3.7527, 3.7442, 3.715, 3.6665, 3.6002, 3.5182, 3.4226, 3.3156, 3.1994, 3.0761, 2.9477, 2.8162, 2.683, 2.5497, 2.4175, 2.2875, 2.1603, 2.0368, 1.9173, 1.8024, 1.6921, 1.5867, 1.4863, 1.3907, 1.3, 1.214, 1.1327, 1.0558, 0.9833, 0.9148, 0.8503, 0.7894, 0.7322, 0.6782, 0.6275, 0.5798, 0.5349, 0.4927, 0.4531, 0.4159, 0.3811, 0.3485, 0.318, 0.2895, 0.263],
            10: [0.0199, 0.0234, 0.0273, 0.0319, 0.0371, 0.0432, 0.0501, 0.0581, 0.0672, 0.0777, 0.0898, 0.1036, 0.1194, 0.1375, 0.1583, 0.182, 0.2091, 0.24, 0.2754, 0.3156, 0.3615, 0.4136, 0.4729, 0.54, 0.616, 0.7018, 0.7984, 0.9071, 1.0288, 1.1648, 1.3161, 1.4837, 1.6687, 1.8718, 2.0936, 2.3343, 2.5939, 2.8718, 3.1671, 3.4782, 3.8029, 4.1387, 4.4819, 4.8288, 5.1748, 5.5149, 5.8439, 6.1564, 6.4469, 6.7102, 6.9415, 7.1366, 7.2921, 7.4055, 7.4754, 7.5015, 7.4845, 7.4261, 7.3291, 7.1967, 7.0328, 6.8417, 6.6277, 6.3954, 6.149, 5.8924, 5.6294, 5.3632, 5.0968, 4.8325, 4.5725, 4.3184, 4.0714, 3.8327, 3.6029, 3.3825, 3.1718, 2.971, 2.7799, 2.5986, 2.4268, 2.2642, 2.1106, 1.9655, 1.8287, 1.6996, 1.578, 1.4635, 1.3558, 1.2543, 1.1589, 1.0692, 0.9849, 0.9057, 0.8314, 0.7618, 0.6965, 0.6356, 0.5787, 0.5257],
            15: [0.0299, 0.035, 0.041, 0.0478, 0.0557, 0.0647, 0.0751, 0.0871, 0.1008, 0.1166, 0.1346, 0.1553, 0.179, 0.2062, 0.2373, 0.2728, 0.3135, 0.3599, 0.4129, 0.4732, 0.542, 0.6202, 0.7089, 0.8096, 0.9235, 1.0521, 1.1971, 1.36, 1.5425, 1.7463, 1.9731, 2.2245, 2.5019, 2.8064, 3.1389, 3.4998, 3.8889, 4.3056, 4.7483, 5.2148, 5.7017, 6.205, 6.7197, 7.2398, 7.7585, 8.2684, 8.7617, 9.2302, 9.6657, 10.0605, 10.4073, 10.6997, 10.9328, 11.1029, 11.2077, 11.2468, 11.2213, 11.1338, 10.9883, 10.7898, 10.544, 10.2575, 9.9368, 9.5885, 9.2189, 8.8343, 8.4399, 8.0409, 7.6414, 7.2453, 6.8554, 6.4744, 6.1042, 5.7462, 5.4017, 5.0713, 4.7554, 4.4543, 4.1679, 3.896, 3.6384, 3.3947, 3.1643, 2.9468, 2.7416, 2.5482, 2.3659, 2.1943, 2.0326, 1.8806, 1.7375, 1.603, 1.4766, 1.3579, 1.2465, 1.1421, 1.0443, 0.9529, 0.8676, 0.7881],
            20: [0.0399, 0.0467, 0.0546, 0.0637, 0.0742, 0.0863, 0.1002, 0.1161, 0.1344, 0.1553, 0.1794, 0.207, 0.2386, 0.2748, 0.3162, 0.3636, 0.4178, 0.4796, 0.5502, 0.6307, 0.7223, 0.8265, 0.9448, 1.079, 1.2308, 1.4022, 1.5954, 1.8125, 2.0557, 2.3274, 2.6297, 2.9647, 3.3344, 3.7402, 4.1833, 4.6643, 5.183, 5.7383, 6.3284, 6.95, 7.599, 8.2698, 8.9557, 9.6488, 10.3401, 11.0198, 11.6772, 12.3016, 12.882, 13.4081, 13.8702, 14.26, 14.5707, 14.7973, 14.9369, 14.989, 14.9551, 14.8385, 14.6445, 14.3799, 14.0525, 13.6706, 13.2431, 12.7789, 12.2864, 11.7738, 11.2482, 10.7164, 10.184, 9.656, 9.1365, 8.6287, 8.1352, 7.6582, 7.199, 6.7587, 6.3377, 5.9364, 5.5547, 5.1924, 4.8491, 4.5243, 4.2172, 3.9274, 3.6539, 3.3961, 3.1532, 2.9244, 2.709, 2.5063, 2.3156, 2.1364, 1.9679, 1.8097, 1.6613, 1.5221, 1.3918, 1.27, 1.1562, 1.0503],
            25: [0.0499, 0.0584, 0.0683, 0.0797, 0.0928, 0.1078, 0.1251, 0.145, 0.1679, 0.1941, 0.2242, 0.2586, 0.2981, 0.3434, 0.3951, 0.4543, 0.522, 0.5993, 0.6875, 0.788, 0.9025, 1.0327, 1.1805, 1.3482, 1.5378, 1.7521, 1.9934, 2.2647, 2.5686, 2.9081, 3.2858, 3.7044, 4.1663, 4.6734, 5.2271, 5.828, 6.4761, 7.17, 7.9073, 8.6841, 9.495, 10.3331, 11.1902, 12.0562, 12.92, 13.7692, 14.5907, 15.3708, 16.0961, 16.7535, 17.3309, 17.8179, 18.2061, 18.4891, 18.6637, 18.7287, 18.6863, 18.5406, 18.2983, 17.9676, 17.5584, 17.0813, 16.5472, 15.9671, 15.3518, 14.7112, 14.0546, 13.3901, 12.7249, 12.0651, 11.4159, 10.7814, 10.1649, 9.5689, 8.9951, 8.4449, 7.9189, 7.4175, 6.9405, 6.4879, 6.0589, 5.653, 5.2694, 4.9072, 4.5655, 4.2434, 3.9398, 3.654, 3.3849, 3.1316, 2.8934, 2.6694, 2.4589, 2.2612, 2.0757, 1.9018, 1.739, 1.5868, 1.4447, 1.3124],
            30: [0.0598, 0.0701, 0.0819, 0.0956, 0.1113, 0.1294, 0.1501, 0.174, 0.2014, 0.2328, 0.2689, 0.3103, 0.3576, 0.4119, 0.474, 0.545, 0.6262, 0.7189, 0.8247, 0.9453, 1.0826, 1.2388, 1.4161, 1.6172, 1.8447, 2.1017, 2.3913, 2.7166, 3.0812, 3.4884, 3.9415, 4.4437, 4.9977, 5.606, 6.2702, 6.9911, 7.7686, 8.601, 9.4854, 10.4172, 11.3899, 12.3954, 13.4235, 14.4624, 15.4985, 16.5172, 17.5026, 18.4384, 19.3084, 20.0969, 20.7896, 21.3738, 21.8394, 22.1789, 22.3883, 22.4663, 22.4154, 22.2406, 21.9499, 21.5533, 21.0624, 20.49, 19.8493, 19.1535, 18.4154, 17.647, 16.8593, 16.0622, 15.2643, 14.4729, 13.6941, 12.933, 12.1934, 11.4785, 10.7902, 10.1302, 9.4992, 8.8977, 8.3256, 7.7826, 7.268, 6.7811, 6.321, 5.8865, 5.4766, 5.0902, 4.7261, 4.3832, 4.0603, 3.7565, 3.4708, 3.2021, 2.9496, 2.7125, 2.49, 2.2814, 2.0861, 1.9035, 1.733, 1.5743],
            35: [0.0698, 0.0817, 0.0956, 0.1115, 0.1298, 0.1509, 0.1751, 0.2029, 0.2349, 0.2716, 0.3136, 0.3618, 0.4171, 0.4804, 0.5528, 0.6356, 0.7303, 0.8384, 0.9618, 1.1025, 1.2626, 1.4448, 1.6516, 1.8861, 2.1515, 2.4512, 2.7889, 3.1684, 3.5936, 4.0685, 4.5969, 5.1826, 5.8288, 6.5383, 7.3129, 8.1537, 9.0605, 10.0313, 11.0628, 12.1495, 13.284, 14.4567, 15.6558, 16.8674, 18.0759, 19.264, 20.4133, 21.5047, 22.5193, 23.439, 24.2468, 24.9281, 25.4711, 25.8671, 26.1112, 26.2022, 26.1428, 25.9389, 25.5998, 25.1373, 24.5648, 23.8972, 23.15, 22.3384, 21.4776, 20.5814, 19.6627, 18.7331, 17.8025, 16.8795, 15.9712, 15.0836, 14.221, 13.3872, 12.5845, 11.8147, 11.0788, 10.3773, 9.71, 9.0767, 8.4766, 7.9088, 7.3721, 6.8654, 6.3873, 5.9366, 5.512, 5.112, 4.7355, 4.3812, 4.0479, 3.7346, 3.4401, 3.1635, 2.904, 2.6607, 2.433, 2.22, 2.0212, 1.8361],
            40: [0.0797, 0.0934, 0.1092, 0.1274, 0.1483, 0.1724, 0.2, 0.2318, 0.2683, 0.3102, 0.3583, 0.4134, 0.4765, 0.5488, 0.6316, 0.7262, 0.8344, 0.9579, 1.0989, 1.2596, 1.4426, 1.6507, 1.887, 2.1549, 2.4581, 2.8006, 3.1864, 3.62, 4.1058, 4.6484, 5.2522, 5.9213, 6.6596, 7.4702, 8.3553, 9.316, 10.3519, 11.4612, 12.6397, 13.8813, 15.1776, 16.5174, 17.8874, 19.2718, 20.6525, 22.0099, 23.323, 24.57, 25.7292, 26.7799, 27.7029, 28.4813, 29.1016, 29.554, 29.8329, 29.9369, 29.8689, 29.636, 29.2486, 28.7201, 28.066, 27.3032, 26.4495, 25.5223, 24.5388, 23.5148, 22.4653, 21.4031, 20.3398, 19.2853, 18.2476, 17.2334, 16.2479, 15.2952, 14.3781, 13.4986, 12.6579, 11.8563, 11.094, 10.3704, 9.6848, 9.036, 8.4228, 7.8439, 7.2977, 6.7828, 6.2976, 5.8406, 5.4105, 5.0057, 4.6249, 4.2669, 3.9304, 3.6144, 3.3179, 3.04, 2.7797, 2.5364, 2.3093, 2.0978],
            45: [0.0897, 0.1051, 0.1228, 0.1432, 0.1668, 0.1939, 0.225, 0.2607, 0.3018, 0.3489, 0.403, 0.465, 0.536, 0.6173, 0.7103, 0.8168, 0.9384, 1.0774, 1.2359, 1.4167, 1.6225, 1.8566, 2.1223, 2.4237, 2.7647, 3.1499, 3.5838, 4.0715, 4.6179, 5.2281, 5.9072, 6.6599, 7.4903, 8.4019, 9.3974, 10.4779, 11.6431, 12.8907, 14.2163, 15.6128, 17.0707, 18.5777, 20.1186, 21.6756, 23.2286, 24.7553, 26.2321, 27.6347, 28.9385, 30.1202, 31.1582, 32.0337, 32.7314, 33.2402, 33.5538, 33.6708, 33.5943, 33.3323, 32.8965, 32.3021, 31.5664, 30.7085, 29.7483, 28.7055, 27.5993, 26.4476, 25.2671, 24.0725, 22.8767, 21.6906, 20.5235, 19.3828, 18.2744, 17.2029, 16.1714, 15.1822, 14.2366, 13.3351, 12.4777, 11.6639, 10.8927, 10.163, 9.4733, 8.8222, 8.2079, 7.6287, 7.083, 6.5691, 6.0853, 5.63, 5.2017, 4.799, 4.4206, 4.0652, 3.7317, 3.4191, 3.1264, 2.8528, 2.5973, 2.3594],
            50: [0.0996, 0.1167, 0.1364, 0.1591, 0.1853, 0.2153, 0.2499, 0.2896, 0.3353, 0.3876, 0.4477, 0.5165, 0.5954, 0.6857, 0.7891, 0.9073, 1.0425, 1.1968, 1.373, 1.5738, 1.8024, 2.0624, 2.3577, 2.6924, 3.0713, 3.4991, 3.9812, 4.5229, 5.1299, 5.8079, 6.5623, 7.3984, 8.3208, 9.3336, 10.4395, 11.6398, 12.9342, 14.3202, 15.7927, 17.3441, 18.9637, 20.6378, 22.3496, 24.0793, 25.8045, 27.5005, 29.1411, 30.6991, 32.1475, 33.4602, 34.6133, 35.5859, 36.3609, 36.9261, 37.2744, 37.4043, 37.3193, 37.0282, 36.5442, 35.8838, 35.0665, 34.1135, 33.0468, 31.8884, 30.6595, 29.3802, 28.0688, 26.7417, 25.4132, 24.0956, 22.7991, 21.532, 20.3007, 19.1103, 17.9645, 16.8656, 15.8151, 14.8137, 13.8612, 12.9572, 12.1005, 11.2899, 10.5238, 9.8004, 9.118, 8.4746, 7.8684, 7.2975, 6.76, 6.2543, 5.7785, 5.3312, 4.9108, 4.516, 4.1455, 3.7982, 3.4731, 3.1691, 2.8853, 2.621],
            55: [0.1096, 0.1283, 0.15, 0.175, 0.2037, 0.2368, 0.2749, 0.3185, 0.3687, 0.4263, 0.4923, 0.568, 0.6548, 0.7541, 0.8678, 0.9979, 1.1465, 1.3163, 1.51, 1.7308, 1.9823, 2.2682, 2.593, 2.9612, 3.3778, 3.8484, 4.3785, 4.9744, 5.642, 6.3876, 7.2173, 8.1369, 9.1514, 10.2653, 11.4816, 12.8018, 14.2254, 15.7497, 17.3693, 19.0755, 20.8568, 22.6981, 24.5807, 26.4831, 28.3805, 30.2458, 32.0502, 33.7637, 35.3567, 36.8004, 38.0686, 39.1381, 39.9905, 40.6121, 40.9952, 41.1379, 41.0444, 40.7243, 40.1919, 39.4656, 38.5667, 37.5186, 36.3454, 35.0713, 33.7197, 32.3127, 30.8704, 29.4109, 27.9499, 26.5007, 25.0748, 23.6812, 22.327, 21.0179, 19.7576, 18.5491, 17.3937, 16.2923, 15.2448, 14.2505, 13.3083, 12.4168, 11.5742, 10.7787, 10.0281, 9.3205, 8.6538, 8.0259, 7.4348, 6.8785, 6.3553, 5.8633, 5.401, 4.9668, 4.5593, 4.1774, 3.8198, 3.4854, 3.1733, 2.8826],
            60: [0.1195, 0.14, 0.1636, 0.1909, 0.2222, 0.2583, 0.2998, 0.3474, 0.4022, 0.465, 0.537, 0.6196, 0.7142, 0.8225, 0.9466, 1.0884, 1.2506, 1.4357, 1.647, 1.8879, 2.1622, 2.4741, 2.8283, 3.2299, 3.6844, 4.1977, 4.776, 5.4259, 6.1541, 6.9674, 7.8724, 8.8755, 9.9821, 11.1972, 12.5238, 13.9639, 15.5168, 17.1795, 18.946, 20.8072, 22.7502, 24.7586, 26.8122, 28.8873, 30.9569, 32.9916, 34.9597, 36.8288, 38.5663, 40.1411, 41.5243, 42.6909, 43.6206, 44.2986, 44.7164, 44.8721, 44.7701, 44.4209, 43.8401, 43.0478, 42.0674, 40.9241, 39.6444, 38.2547, 36.7804, 35.2457, 33.6725, 32.0805, 30.4868, 28.9062, 27.3508, 25.8307, 24.3536, 22.9256, 21.551, 20.2328, 18.9726, 17.7712, 16.6286, 15.544, 14.5163, 13.5439, 12.6248, 11.757, 10.9384, 10.1666, 9.4393, 8.7544, 8.1097, 7.5029, 6.9321, 6.3955, 5.8912, 5.4176, 4.9732, 4.5566, 4.1665, 3.8018, 3.4614, 3.1443],
            65: [0.1294, 0.1516, 0.1772, 0.2067, 0.2407, 0.2798, 0.3247, 0.3763, 0.4356, 0.5036, 0.5817, 0.6711, 0.7736, 0.891, 1.0253, 1.179, 1.3546, 1.5552, 1.7841, 2.045, 2.3421, 2.68, 3.0637, 3.4988, 3.9911, 4.5471, 5.1735, 5.8775, 6.6663, 7.5474, 8.5277, 9.6143, 10.8131, 12.1292, 13.5664, 15.1263, 16.8085, 18.6096, 20.5233, 22.5394, 24.6442, 26.8198, 29.0443, 31.2921, 33.5341, 35.7381, 37.87, 39.8947, 41.7768, 43.4827, 44.981, 46.2447, 47.2517, 47.9861, 48.4387, 48.6073, 48.4968, 48.1184, 47.4893, 46.631, 45.5689, 44.3305, 42.9443, 41.4389, 39.8419, 38.1795, 36.4753, 34.7508, 33.0245, 31.3123, 29.6275, 27.9808, 26.3808, 24.8339, 23.3449, 21.9169, 20.5518, 19.2504, 18.0127, 16.8379, 15.7246, 14.6712, 13.6757, 12.7357, 11.8489, 11.0128, 10.2251, 9.4831, 8.7847, 8.1274, 7.5092, 6.9279, 6.3816, 5.8686, 5.3871, 4.9358, 4.5133, 4.1182, 3.7495, 3.406],
            70: [0.1394, 0.1633, 0.1908, 0.2226, 0.2592, 0.3013, 0.3497, 0.4052, 0.4691, 0.5423, 0.6263, 0.7227, 0.833, 0.9594, 1.1041, 1.2696, 1.4587, 1.6747, 1.9212, 2.2022, 2.5222, 2.886, 3.2992, 3.7677, 4.2978, 4.8966, 5.5712, 6.3293, 7.1788, 8.1275, 9.1833, 10.3534, 11.6443, 13.0617, 14.6093, 16.2892, 18.1007, 20.0403, 22.1011, 24.2723, 26.5389, 28.8817, 31.2773, 33.698, 36.1123, 38.4857, 40.7815, 42.9618, 44.9887, 46.8256, 48.4391, 49.7999, 50.8843, 51.675, 52.1624, 52.3439, 52.2248, 51.8174, 51.1398, 50.2156, 49.0719, 47.7382, 46.2454, 44.6243, 42.9046, 41.1143, 39.2792, 37.4221, 35.5631, 33.7193, 31.9049, 30.1317, 28.4087, 26.7429, 25.1394, 23.6017, 22.1316, 20.7302, 19.3974, 18.1322, 16.9334, 15.799, 14.7269, 13.7147, 12.7597, 11.8594, 11.0111, 10.2121, 9.46, 8.7522, 8.0864, 7.4604, 6.8721, 6.3197, 5.8013, 5.3153, 4.8602, 4.4348, 4.0377, 3.6679],
            75: [0.1493, 0.1749, 0.2044, 0.2385, 0.2777, 0.3228, 0.3746, 0.4342, 0.5025, 0.581, 0.671, 0.7743, 0.8925, 1.0279, 1.1829, 1.3602, 1.5629, 1.7943, 2.0584, 2.3595, 2.7023, 3.0921, 3.5348, 4.0367, 4.6048, 5.2463, 5.9691, 6.7813, 7.6915, 8.708, 9.8392, 11.0928, 12.476, 13.9946, 15.6528, 17.4527, 19.3936, 21.4718, 23.6798, 26.006, 28.4346, 30.9448, 33.5115, 36.105, 38.6918, 41.2348, 43.6946, 46.0306, 48.2021, 50.1702, 51.8989, 53.3569, 54.5186, 55.3659, 55.8879, 56.0824, 55.9548, 55.5182, 54.7922, 53.802, 52.5765, 51.1476, 49.5482, 47.8113, 45.9687, 44.0506, 42.0844, 40.0947, 38.1029, 36.1274, 34.1835, 32.2836, 30.4376, 28.6529, 26.9349, 25.2873, 23.7123, 22.2108, 20.7827, 19.4272, 18.1428, 16.9274, 15.7787, 14.6942, 13.671, 12.7064, 11.7975, 10.9415, 10.1356, 9.3773, 8.6639, 7.9932, 7.3629, 6.771, 6.2156, 5.6949, 5.2073, 4.7515, 4.3261, 3.9298],
            80: [0.1592, 0.1865, 0.218, 0.2543, 0.2962, 0.3442, 0.3995, 0.4631, 0.536, 0.6197, 0.7158, 0.8259, 0.952, 1.0965, 1.2618, 1.4509, 1.6671, 1.9139, 2.1957, 2.5168, 2.8825, 3.2983, 3.7705, 4.306, 4.9119, 5.5962, 6.3672, 7.2336, 8.2045, 9.2888, 10.4955, 11.8327, 13.3082, 14.9281, 16.697, 18.6169, 20.6873, 22.9041, 25.2594, 27.7409, 30.3314, 33.0091, 35.7471, 38.5136, 41.2729, 43.9856, 46.6094, 49.1012, 51.4176, 53.517, 55.361, 56.9161, 58.1553, 59.059, 59.6158, 59.8232, 59.687, 59.2213, 58.4469, 57.3905, 56.0833, 54.5591, 52.853, 51.0002, 49.0348, 46.9888, 44.8914, 42.769, 40.6443, 38.5371, 36.4635, 34.4369, 32.4678, 30.564, 28.7314, 26.9739, 25.2939, 23.6922, 22.1689, 20.723, 19.3529, 18.0565, 16.8312, 15.6743, 14.5829, 13.5539, 12.5844, 11.6713, 10.8117, 10.0027, 9.2418, 8.5264, 7.8541, 7.2227, 6.6302, 6.0747, 5.5547, 5.0685, 4.6146, 4.1919],
            85: [0.1692, 0.1982, 0.2316, 0.2702, 0.3146, 0.3658, 0.4245, 0.492, 0.5695, 0.6585, 0.7605, 0.8775, 1.0115, 1.165, 1.3407, 1.5417, 1.7713, 2.0337, 2.333, 2.6742, 3.0628, 3.5047, 4.0064, 4.5754, 5.2192, 5.9463, 6.7656, 7.6863, 8.7179, 9.8701, 11.1522, 12.5732, 14.141, 15.8623, 17.7419, 19.782, 21.982, 24.3376, 26.8403, 29.4771, 32.2298, 35.075, 37.9843, 40.9241, 43.8561, 46.7384, 49.5265, 52.1742, 54.6356, 56.8662, 58.8256, 60.478, 61.7947, 62.7548, 63.3465, 63.5668, 63.422, 62.9271, 62.1042, 60.9817, 59.5927, 57.9731, 56.1602, 54.1915, 52.1031, 49.929, 47.7004, 45.4452, 43.1876, 40.9485, 38.7452, 36.5918, 34.4994, 32.4765, 30.5293, 28.6618, 26.8766, 25.1748, 23.5561, 22.0198, 20.5639, 19.1863, 17.8844, 16.6551, 15.4954, 14.402, 13.3718, 12.4016, 11.4882, 10.6287, 9.8201, 9.0599, 8.3455, 7.6746, 7.0451, 6.4549, 5.9023, 5.3856, 4.9034, 4.4542],
            90: [0.1791, 0.2098, 0.2453, 0.2861, 0.3331, 0.3873, 0.4495, 0.521, 0.603, 0.6972, 0.8053, 0.9292, 1.0711, 1.2336, 1.4197, 1.6325, 1.8757, 2.1535, 2.4705, 2.8318, 3.2432, 3.7112, 4.2425, 4.845, 5.5268, 6.2967, 7.1643, 8.1393, 9.2317, 10.4518, 11.8096, 13.3143, 14.9746, 16.7973, 18.7877, 20.9481, 23.2778, 25.7722, 28.4225, 31.2147, 34.1297, 37.1428, 40.2236, 43.3366, 46.4414, 49.4937, 52.4461, 55.2499, 57.8563, 60.2184, 62.2932, 64.0429, 65.4372, 66.4539, 67.0803, 67.3136, 67.1603, 66.6361, 65.7647, 64.576, 63.1051, 61.39, 59.4703, 57.3855, 55.174, 52.8718, 50.5119, 48.1237, 45.7331, 43.362, 41.0289, 38.7485, 36.5328, 34.3907, 32.3287, 30.3512, 28.4608, 26.6586, 24.9446, 23.3176, 21.776, 20.3172, 18.9385, 17.6368, 16.4087, 15.2509, 14.16, 13.1326, 12.1653, 11.2551, 10.3989, 9.5939, 8.8374, 8.127, 7.4603, 6.8353, 6.2502, 5.7031, 5.1924, 4.7168],
            95: [0.1891, 0.2215, 0.2589, 0.302, 0.3517, 0.4088, 0.4745, 0.5499, 0.6366, 0.736, 0.8501, 0.9809, 1.1307, 1.3023, 1.4987, 1.7234, 1.9801, 2.2734, 2.608, 2.9895, 3.4239, 3.9179, 4.4788, 5.1149, 5.8346, 6.6475, 7.5634, 8.5927, 9.746, 11.0341, 12.4675, 14.0561, 15.8089, 17.7333, 19.8345, 22.1153, 24.5748, 27.2083, 30.0063, 32.9541, 36.0316, 39.2125, 42.465, 45.7515, 49.0294, 52.2517, 55.3687, 58.3286, 61.0802, 63.5739, 65.7642, 67.6114, 69.0833, 70.1566, 70.8178, 71.064, 70.9021, 70.3487, 69.4287, 68.1738, 66.6209, 64.8102, 62.7835, 60.5826, 58.2479, 55.8174, 53.326, 50.8048, 48.281, 45.7778, 43.3147, 40.9073, 38.5682, 36.3067, 34.1298, 32.0421, 30.0464, 28.1438, 26.3343, 24.6167, 22.9892, 21.4492, 19.9936, 18.6194, 17.3229, 16.1006, 14.9489, 13.8642, 12.8431, 11.8822, 10.9783, 10.1285, 9.3298, 8.5798, 7.8759, 7.2161, 6.5984, 6.0208, 5.4817, 4.9796],
            100: [0.198, 0.2319, 0.271, 0.3161, 0.368, 0.4278, 0.4965, 0.5754, 0.666, 0.77, 0.8893, 1.026, 1.1827, 1.3621, 1.5675, 1.8024, 2.0709, 2.3776, 2.7275, 3.1264, 3.5806, 4.0972, 4.6837, 5.3488, 6.1014, 6.9514, 7.9092, 8.9855, 10.1915, 11.5384, 13.0372, 14.6984, 16.5312, 18.5434, 20.7407, 23.1256, 25.6975, 28.4512, 31.377, 34.4595, 37.6775, 41.0037, 44.4047, 47.8413, 51.2688, 54.6383, 57.8976, 60.9927, 63.8698, 66.4774, 68.7677, 70.6991, 72.2381, 73.3604, 74.0518, 74.3091, 74.1398, 73.561, 72.599, 71.2867, 69.6629, 67.7695, 65.6503, 63.3489, 60.9076, 58.3661, 55.7609, 53.1246, 50.4856, 47.8681, 45.2925, 42.7752, 40.3293, 37.9645, 35.6882, 33.5052, 31.4184, 29.4289, 27.5368, 25.7408, 24.0389, 22.4286, 20.9066, 19.4696, 18.1139, 16.8358, 15.6315, 14.4973, 13.4296, 12.4248, 11.4796, 10.5909, 9.7558, 8.9715, 8.2356, 7.5457, 6.8997, 6.2957, 5.732, 5.207]
        };

    function getClosestLevel(level, positions) {
        const availableLevels = Object.keys(positions).map(Number);
        let closestLevel = availableLevels[0];
        for (let i = 1; i < availableLevels.length; i++) {
            if (Math.abs(level - availableLevels[i]) < Math.abs(level - closestLevel)) {
                closestLevel = availableLevels[i];
            }
        }
        return closestLevel;
    }

    // Helper function to convert to dB
    function convertToDb(magnitudeArray) {
        return magnitudeArray.map(value => 20 * Math.log10(value));
    }

    // Convert all position datasets to dB
    [OverdrivePositions, LevelPositions].forEach((positions) => {
        Object.keys(positions).forEach((key) => {
            positions[key] = convertToDb(positions[key]);
        });
    });

function renderGraph(Overdrive, Level) {
    Plotly.newPlot('graph', [
        { x: frequency, y: OverdrivePositions[Overdrive], type: 'scatter', mode: 'lines', name: `Overdrive @ ${Overdrive}%` },
        { x: frequency, y: LevelPositions[Level], type: 'scatter', mode: 'lines', name: `Level @ ${Level}%` }
    ], {
        title: {
            text: `<a href='https://rhpfelectronics.com/rhpf-electronics-handmade-guitar-pedals-in-switzerland/rhpf-nerd-lab/' target='_blank'>RhPf Electronics</a> - Boss OD-1 - Overdrive: ${Overdrive}% | Level: ${Level}%`,
            font: {
                size: 8 // Adjust title font size here
            }
        },
        xaxis: {
            title: {
                text: 'Frequency (Hz)',
                font: { size: 8 } // Adjust x-axis title font size if needed
            },
            type: 'log',
            tickvals: [20, 32, 64, 128, 256, 512, 1000, 2000, 4000, 8000, 16000, 20000],
            ticktext: ["20", "32", "64", "128", "256", "512", "1k", "2k", "4k", "8k", "16k", "20k"]
        },
        yaxis: {
            title: {
                text: 'Overdrive (dB)',
                font: { size: 8 } // Adjust y-axis title font size if needed
            },
            range: [-40, 40] // Fixed Y-axis range
        },
        legend: {
            font: {
                size: 8 // Adjust legend font size here
            }
        }
    });
}

    function updatePointer(pointerId, angle) {
        const pointer = document.getElementById(pointerId);
        pointer.setAttribute('transform', `rotate(${angle} 0 0)`);
    }

    const knobs = {
        Overdrive: { element: document.getElementById('knob-Overdrive'), pointerId: 'Overdrive-pointer', angle: 0, positions: OverdrivePositions },
        Level: { element: document.getElementById('knob-Level'), pointerId: 'Level-pointer', angle: 0, positions: LevelPositions },
    };

    function updateKnob(knob, delta, pointerId, positions, setAngle) {
        knob.angle += delta;
        knob.angle = Math.max(-135, Math.min(135, knob.angle)); // Clamp angle
        const value = Math.round(((knob.angle + 135) / 270) * 100);
        setAngle(knob.angle);
        updatePointer(pointerId, knob.angle);

        // Update graph with all knob values
        const levels = Object.keys(knobs).reduce((acc, key) => {
            acc[key] = getClosestLevel(
                Math.round(((knobs[key].angle + 135) / 270) * 100),
                knobs[key].positions
            );
            return acc;
        }, {});

        renderGraph(levels.Overdrive, levels.Level);
    }

function addKnobListeners(knobKey) {
    const knob = knobs[knobKey];
    const { element, pointerId, positions } = knob;

    // Handle both mouse and touch start
    const startEvent = (event) => {
        const isTouch = event.type === "touchstart";
        const clientX = isTouch ? event.touches[0].clientX : event.clientX;
        const clientY = isTouch ? event.touches[0].clientY : event.clientY;

        const rect = element.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;

        const moveEvent = (e) => {
            const moveClientX = isTouch ? e.touches[0].clientX : e.clientX;
            const moveClientY = isTouch ? e.touches[0].clientY : e.clientY;
            const dx = moveClientX - cx;
            const dy = moveClientY - cy;
            const deltaAngle = Math.atan2(dy, dx) * (180 / Math.PI) + 90 - knob.angle;
            updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
        };

        const endEvent = () => {
            document.removeEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
            document.removeEventListener(isTouch ? "touchend" : "mouseup", endEvent);
        };

        document.addEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
        document.addEventListener(isTouch ? "touchend" : "mouseup", endEvent);
    };

    // Add event listeners for mouse and touch
    element.addEventListener("mousedown", startEvent);
    element.addEventListener("touchstart", startEvent, { passive: false }); // Passive false to prevent scrolling

    // Scroll wheel functionality
    element.addEventListener("wheel", (event) => {
        event.preventDefault();
        const delta = event.deltaY > 0 ? -5 : 5; // Scroll direction adjusts knob
        const deltaAngle = delta * (270 / 100); // Map delta to angle
        updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
    });
}

// Add event listeners to all knobs
Object.keys(knobs).forEach(addKnobListeners);

// Initialize pointers
Object.keys(knobs).forEach((key) => {
    updatePointer(knobs[key].pointerId, knobs[key].angle);
});

    // Initialize graph
    renderGraph(50, 50);
</script>
</body>
</html>
