<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RhPf Electronics Marshall Bluesbreaker Analysis Interactive Individual</title>
    <meta name="description" content="Interactive analysis tool for the Marshall Bluesbreaker.">
    <meta name="author" content="RhPf Electronics">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        if (!window.Plotly) {
            document.write('<script src="/path-to-local-plotly/plotly-latest.min.js"><\/script>');
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: row; /* Stack pedal and graph horizontally */
            justify-content: left;
            align-items: top;
            margin: 0;
            height: auto;
        }

        #pedal-container {
            width: 100%; /* Scale pedal container to fit the viewport */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #pedal-svg {
            width: 100%; /* Make the SVG scale with the container */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #graph {
            width: 100%; /* Take up most of the width */
            height: 100vh; /* Dynamically scale height relative to the viewport */
            margin: 0; /* Add some spacing between graph and pedal */
        }

    </style>
</head>
<body>
    <!-- Pedal with Knobs -->
    <div id="pedal-container">
        <svg id="pedal-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1884 3600">
            <!-- Background Image -->
            <image href="https://thomasbe86.github.io/plotly-plot/Marshall%20Bluesbreaker.png" x="0" y="0" width="1884" height="3600" />
<g id="knob-drive" transform="translate(510, 840)">
    <circle cx="0" cy="0" r="150" fill="#000" stroke="none" stroke-width="3" />
    <line id="drive-pointer" x1="0" y1="0" x2="0" y2="-130" stroke="#7CB9E8" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-volume" transform="translate(1380, 840)">
    <circle cx="0" cy="0" r="150" fill="#000" stroke="none" stroke-width="3" />
    <line id="volume-pointer" x1="0" y1="0" x2="0" y2="-130" stroke="#7CB9E8" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-tone" transform="translate(945, 840)">
    <circle cx="0" cy="0" r="150" fill="#000" stroke="none" stroke-width="3" />
    <line id="tone-pointer" x1="0" y1="0" x2="0" y2="-130" stroke="#7CB9E8" stroke-width="15" stroke-linecap="round" />
</g>
        </svg>
    </div>

    <!-- Graph -->
    <div id="graph"></div>

    <script>
        // Ensure Plotly resizes with window changes
        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('graph'));
        });
    </script>

    <script>
        // Frequency Data
        const frequency = [
            20, 21.44, 22.97, 24.62, 26.39, 28.28, 30.31, 32.49, 34.82, 37.32, 40,
            42.87, 45.95, 49.25, 52.78, 56.57, 60.63, 64.98, 69.64, 74.64, 80,
            85.74, 91.89, 98.49, 105.56, 113.13, 121.25, 129.96, 139.28, 149.29, 160,
            171.48, 183.79, 196.98, 211.12, 226.27, 242.51, 259.92, 278.58, 298.57,
            320, 342.97, 367.58, 393.97, 422.24, 452.55, 485.03, 519.84, 557.15,
            597.14, 640, 685.93, 735.17, 787.93, 844.49, 905.1, 970.06, 1039.68,
            1114.3, 1194.28, 1280, 1371.87, 1470.33, 1575.86, 1688.97, 1810.19,
            1940.12, 2079.37, 2228.61, 2388.56, 2560, 2743.74, 2940.67, 3151.73,
            3377.94, 3620.39, 3880.23, 4158.73, 4457.22, 4777.13, 5120, 5487.48,
            5881.34, 6303.46, 6755.88, 7240.77, 7760.47, 8317.46, 8914.44, 9554.26,
            10240, 10974.96, 11762.67, 12606.92, 13511.76, 14481.55, 15520.94,
            16634.93, 17828.88, 19108.52
        ];

        const drivePositions = {
            0: [0.374, 0.3926, 0.4102, 0.427, 0.4427, 0.4573, 0.4708, 0.4833, 0.4946, 0.5049, 0.5141, 0.5224, 0.5298, 0.5363, 0.542, 0.547, 0.5513, 0.5549, 0.558, 0.5606, 0.5626, 0.5641, 0.5652, 0.5658, 0.566, 0.5658, 0.5651, 0.564, 0.5625, 0.5605, 0.558, 0.555, 0.5514, 0.5473, 0.5426, 0.5373, 0.5313, 0.5246, 0.5172, 0.5091, 0.5002, 0.4907, 0.4804, 0.4694, 0.4577, 0.4455, 0.4327, 0.4195, 0.4059, 0.392, 0.3779, 0.3638, 0.3496, 0.3355, 0.3216, 0.3079, 0.2944, 0.2813, 0.2684, 0.256, 0.2439, 0.2322, 0.2209, 0.21, 0.1995, 0.1893, 0.1795, 0.17, 0.1609, 0.1522, 0.1438, 0.1357, 0.128, 0.1206, 0.1135, 0.1068, 0.1004, 0.0944, 0.0886, 0.0831, 0.078, 0.0731, 0.0685, 0.0642, 0.0602, 0.0563, 0.0527, 0.0494, 0.0462, 0.0432, 0.0404, 0.0378, 0.0354, 0.0331, 0.0309, 0.0289, 0.027, 0.0253, 0.0236, 0.0221],
            5: [0.3855, 0.4052, 0.424, 0.4419, 0.4587, 0.4744, 0.4889, 0.5023, 0.5146, 0.5257, 0.5357, 0.5447, 0.5527, 0.5599, 0.5661, 0.5716, 0.5763, 0.5804, 0.5838, 0.5867, 0.589, 0.5908, 0.5921, 0.593, 0.5934, 0.5934, 0.5929, 0.592, 0.5906, 0.5887, 0.5864, 0.5836, 0.5803, 0.5764, 0.5719, 0.5668, 0.561, 0.5546, 0.5475, 0.5398, 0.5313, 0.5221, 0.5123, 0.5018, 0.4907, 0.4791, 0.467, 0.4545, 0.4417, 0.4287, 0.4155, 0.4023, 0.3892, 0.3761, 0.3633, 0.3507, 0.3384, 0.3265, 0.3149, 0.3036, 0.2927, 0.2822, 0.2721, 0.2623, 0.2528, 0.2437, 0.2349, 0.2265, 0.2184, 0.2106, 0.2032, 0.1961, 0.1893, 0.1828, 0.1767, 0.1709, 0.1653, 0.16, 0.155, 0.1502, 0.1456, 0.1412, 0.1369, 0.1328, 0.1287, 0.1248, 0.1208, 0.1169, 0.113, 0.1091, 0.1052, 0.1012, 0.0973, 0.0934, 0.0894, 0.0855, 0.0815, 0.0777, 0.0738, 0.0701],
            10: [0.3975, 0.4184, 0.4385, 0.4577, 0.4757, 0.4926, 0.5084, 0.5228, 0.5361, 0.5482, 0.5592, 0.569, 0.5778, 0.5856, 0.5926, 0.5986, 0.6039, 0.6085, 0.6124, 0.6157, 0.6184, 0.6205, 0.6222, 0.6234, 0.6241, 0.6244, 0.6243, 0.6237, 0.6226, 0.6212, 0.6192, 0.6168, 0.614, 0.6105, 0.6066, 0.6021, 0.597, 0.5914, 0.5851, 0.5782, 0.5707, 0.5626, 0.5539, 0.5447, 0.535, 0.5248, 0.5143, 0.5035, 0.4924, 0.4813, 0.47, 0.4588, 0.4477, 0.4368, 0.426, 0.4156, 0.4054, 0.3955, 0.3859, 0.3766, 0.3676, 0.3589, 0.3505, 0.3424, 0.3345, 0.3269, 0.3195, 0.3123, 0.3054, 0.2987, 0.2922, 0.2859, 0.2799, 0.2741, 0.2685, 0.2631, 0.2579, 0.2528, 0.2478, 0.2428, 0.238, 0.2331, 0.2282, 0.2232, 0.2182, 0.213, 0.2077, 0.2022, 0.1966, 0.1908, 0.1847, 0.1786, 0.1722, 0.1658, 0.1592, 0.1526, 0.1459, 0.1392, 0.1326, 0.126],
            15: [0.41, 0.4323, 0.4538, 0.4744, 0.4938, 0.5121, 0.5292, 0.5449, 0.5594, 0.5726, 0.5846, 0.5955, 0.6052, 0.6139, 0.6216, 0.6284, 0.6343, 0.6395, 0.644, 0.6478, 0.651, 0.6537, 0.6558, 0.6575, 0.6587, 0.6594, 0.6598, 0.6597, 0.6592, 0.6583, 0.6571, 0.6553, 0.6532, 0.6506, 0.6476, 0.6441, 0.6401, 0.6357, 0.6307, 0.6253, 0.6194, 0.613, 0.6062, 0.5989, 0.5913, 0.5834, 0.5753, 0.5669, 0.5584, 0.5498, 0.5412, 0.5327, 0.5243, 0.516, 0.5079, 0.5, 0.4923, 0.4848, 0.4775, 0.4704, 0.4634, 0.4566, 0.4499, 0.4433, 0.4368, 0.4304, 0.4241, 0.4179, 0.4118, 0.4059, 0.4, 0.3942, 0.3885, 0.3829, 0.3774, 0.3719, 0.3665, 0.3611, 0.3556, 0.3501, 0.3444, 0.3387, 0.3327, 0.3265, 0.32, 0.3132, 0.3061, 0.2987, 0.2909, 0.2827, 0.2742, 0.2654, 0.2563, 0.2469, 0.2373, 0.2276, 0.2178, 0.2079, 0.198, 0.1882],
            20: [0.423, 0.4469, 0.47, 0.4921, 0.5131, 0.533, 0.5515, 0.5687, 0.5846, 0.5992, 0.6124, 0.6244, 0.6352, 0.6449, 0.6535, 0.6612, 0.668, 0.6739, 0.6791, 0.6836, 0.6875, 0.6908, 0.6936, 0.6958, 0.6977, 0.6991, 0.7001, 0.7008, 0.7011, 0.701, 0.7006, 0.6999, 0.6989, 0.6975, 0.6957, 0.6937, 0.6913, 0.6886, 0.6855, 0.6821, 0.6784, 0.6744, 0.6701, 0.6655, 0.6607, 0.6557, 0.6506, 0.6453, 0.64, 0.6346, 0.6292, 0.6239, 0.6186, 0.6133, 0.6081, 0.603, 0.5979, 0.5929, 0.5878, 0.5828, 0.5778, 0.5727, 0.5676, 0.5624, 0.5571, 0.5517, 0.5463, 0.5409, 0.5353, 0.5298, 0.5242, 0.5186, 0.5129, 0.5073, 0.5015, 0.4957, 0.4899, 0.4838, 0.4777, 0.4713, 0.4646, 0.4576, 0.4503, 0.4426, 0.4344, 0.4257, 0.4165, 0.4068, 0.3965, 0.3857, 0.3744, 0.3625, 0.3503, 0.3376, 0.3246, 0.3113, 0.2979, 0.2843, 0.2707, 0.2572],
            25: [0.4365, 0.4621, 0.4869, 0.5108, 0.5336, 0.5552, 0.5755, 0.5944, 0.6119, 0.628, 0.6427, 0.6561, 0.6682, 0.6791, 0.6889, 0.6976, 0.7054, 0.7122, 0.7183, 0.7237, 0.7284, 0.7325, 0.7361, 0.7392, 0.7418, 0.7441, 0.7461, 0.7477, 0.749, 0.7501, 0.7509, 0.7515, 0.7519, 0.7521, 0.7521, 0.752, 0.7517, 0.7512, 0.7506, 0.7498, 0.749, 0.7479, 0.7468, 0.7456, 0.7442, 0.7428, 0.7413, 0.7397, 0.7381, 0.7364, 0.7346, 0.7328, 0.7308, 0.7288, 0.7267, 0.7245, 0.7222, 0.7196, 0.7169, 0.7139, 0.7108, 0.7073, 0.7037, 0.6997, 0.6955, 0.691, 0.6864, 0.6814, 0.6763, 0.671, 0.6655, 0.6599, 0.6541, 0.6482, 0.6421, 0.6357, 0.6292, 0.6224, 0.6153, 0.6078, 0.5999, 0.5915, 0.5826, 0.5731, 0.5629, 0.5521, 0.5405, 0.5282, 0.5151, 0.5013, 0.4867, 0.4715, 0.4556, 0.4392, 0.4222, 0.4049, 0.3873, 0.3696, 0.3517, 0.3339],
            30: [0.4506, 0.478, 0.5047, 0.5306, 0.5554, 0.579, 0.6012, 0.6221, 0.6415, 0.6594, 0.6758, 0.6908, 0.7045, 0.7169, 0.728, 0.7381, 0.7471, 0.7551, 0.7623, 0.7687, 0.7745, 0.7796, 0.7842, 0.7884, 0.7921, 0.7955, 0.7986, 0.8015, 0.8041, 0.8067, 0.8091, 0.8114, 0.8137, 0.8159, 0.8182, 0.8204, 0.8228, 0.8252, 0.8276, 0.8301, 0.8327, 0.8353, 0.838, 0.8408, 0.8435, 0.8463, 0.849, 0.8516, 0.8541, 0.8565, 0.8587, 0.8607, 0.8625, 0.864, 0.8652, 0.866, 0.8664, 0.8664, 0.866, 0.8652, 0.8639, 0.8621, 0.8598, 0.857, 0.8538, 0.8502, 0.8461, 0.8416, 0.8368, 0.8316, 0.8261, 0.8203, 0.8143, 0.8079, 0.8012, 0.7942, 0.7869, 0.7791, 0.7709, 0.7621, 0.7528, 0.7428, 0.732, 0.7205, 0.7081, 0.6948, 0.6805, 0.6652, 0.6489, 0.6317, 0.6134, 0.5943, 0.5743, 0.5535, 0.532, 0.5101, 0.4877, 0.465, 0.4422, 0.4195],
            35: [0.4651, 0.4945, 0.5234, 0.5514, 0.5785, 0.6044, 0.6289, 0.652, 0.6736, 0.6936, 0.7121, 0.7291, 0.7446, 0.7588, 0.7716, 0.7832, 0.7937, 0.8032, 0.8118, 0.8196, 0.8266, 0.8331, 0.839, 0.8444, 0.8495, 0.8543, 0.8589, 0.8634, 0.8678, 0.8721, 0.8765, 0.881, 0.8856, 0.8905, 0.8955, 0.9008, 0.9064, 0.9122, 0.9184, 0.9249, 0.9316, 0.9386, 0.9458, 0.9532, 0.9607, 0.9682, 0.9757, 0.9831, 0.9903, 0.9973, 1.0039, 1.0101, 1.0159, 1.0211, 1.0258, 1.0298, 1.0332, 1.036, 1.038, 1.0393, 1.0399, 1.0397, 1.0389, 1.0373, 1.035, 1.0321, 1.0286, 1.0245, 1.0199, 1.0148, 1.0092, 1.0031, 0.9966, 0.9897, 0.9824, 0.9745, 0.9662, 0.9573, 0.9478, 0.9375, 0.9265, 0.9146, 0.9018, 0.888, 0.873, 0.8568, 0.8395, 0.8208, 0.8009, 0.7796, 0.7572, 0.7335, 0.7087, 0.6829, 0.6562, 0.6288, 0.6008, 0.5725, 0.5439, 0.5152],
            40: [0.4801, 0.5117, 0.5429, 0.5734, 0.603, 0.6314, 0.6585, 0.6842, 0.7084, 0.731, 0.7519, 0.7713, 0.7891, 0.8054, 0.8203, 0.8339, 0.8463, 0.8575, 0.8679, 0.8773, 0.886, 0.8941, 0.9016, 0.9088, 0.9156, 0.9222, 0.9287, 0.9351, 0.9416, 0.9483, 0.9552, 0.9624, 0.9699, 0.9779, 0.9863, 0.9953, 1.0048, 1.0149, 1.0255, 1.0367, 1.0484, 1.0605, 1.073, 1.0858, 1.0987, 1.1117, 1.1247, 1.1374, 1.1499, 1.1619, 1.1734, 1.1843, 1.1944, 1.2038, 1.2122, 1.2198, 1.2264, 1.2321, 1.2367, 1.2403, 1.2429, 1.2445, 1.2451, 1.2448, 1.2435, 1.2413, 1.2383, 1.2346, 1.2301, 1.2249, 1.2191, 1.2127, 1.2057, 1.1982, 1.19, 1.1812, 1.1717, 1.1614, 1.1504, 1.1384, 1.1255, 1.1115, 1.0962, 1.0797, 1.0618, 1.0423, 1.0214, 0.9988, 0.9746, 0.9488, 0.9214, 0.8925, 0.8621, 0.8304, 0.7976, 0.7638, 0.7293, 0.6941, 0.6587, 0.6231],
            45: [0.4954, 0.5294, 0.5631, 0.5963, 0.6288, 0.6601, 0.6903, 0.719, 0.7462, 0.7718, 0.7957, 0.8179, 0.8384, 0.8574, 0.8748, 0.8909, 0.9056, 0.9192, 0.9316, 0.9432, 0.954, 0.9641, 0.9738, 0.983, 0.992, 1.0009, 1.0097, 1.0187, 1.0279, 1.0374, 1.0474, 1.0579, 1.069, 1.0809, 1.0935, 1.1069, 1.1212, 1.1363, 1.1523, 1.169, 1.1865, 1.2047, 1.2233, 1.2423, 1.2616, 1.2809, 1.3001, 1.3189, 1.3373, 1.3551, 1.3721, 1.3881, 1.4032, 1.4171, 1.4298, 1.4412, 1.4514, 1.4602, 1.4677, 1.4739, 1.4787, 1.4821, 1.4843, 1.4853, 1.485, 1.4837, 1.4812, 1.4778, 1.4734, 1.4682, 1.4621, 1.4552, 1.4476, 1.4392, 1.43, 1.42, 1.4092, 1.3974, 1.3846, 1.3706, 1.3554, 1.3389, 1.3208, 1.3012, 1.2798, 1.2566, 1.2315, 1.2043, 1.1752, 1.144, 1.1108, 1.0757, 1.0387, 1.0001, 0.96, 0.9186, 0.8762, 0.8331, 0.7895, 0.7456],
            50: [0.511, 0.5475, 0.584, 0.6202, 0.6558, 0.6906, 0.7242, 0.7564, 0.7872, 0.8163, 0.8437, 0.8694, 0.8933, 0.9156, 0.9362, 0.9553, 0.973, 0.9894, 1.0047, 1.0189, 1.0324, 1.0452, 1.0574, 1.0694, 1.0811, 1.0928, 1.1047, 1.1168, 1.1293, 1.1424, 1.1562, 1.1709, 1.1864, 1.203, 1.2207, 1.2395, 1.2595, 1.2807, 1.303, 1.3264, 1.3508, 1.376, 1.4019, 1.4282, 1.4548, 1.4813, 1.5077, 1.5336, 1.5588, 1.5831, 1.6064, 1.6283, 1.6489, 1.668, 1.6855, 1.7014, 1.7155, 1.728, 1.7387, 1.7476, 1.7549, 1.7605, 1.7645, 1.7668, 1.7677, 1.7672, 1.7654, 1.7622, 1.7579, 1.7525, 1.7461, 1.7386, 1.7302, 1.7208, 1.7104, 1.6991, 1.6866, 1.673, 1.6581, 1.6418, 1.624, 1.6045, 1.5832, 1.5598, 1.5344, 1.5067, 1.4766, 1.4441, 1.4091, 1.3715, 1.3314, 1.2889, 1.2441, 1.1971, 1.1483, 1.0978, 1.0461, 0.9933, 0.9398, 0.8861],
            55: [0.5267, 0.566, 0.6055, 0.645, 0.6841, 0.7226, 0.7602, 0.7965, 0.8314, 0.8648, 0.8965, 0.9264, 0.9545, 0.9809, 1.0055, 1.0284, 1.0499, 1.07, 1.0888, 1.1065, 1.1234, 1.1396, 1.1553, 1.1707, 1.186, 1.2013, 1.217, 1.2331, 1.2498, 1.2674, 1.286, 1.3057, 1.3267, 1.3491, 1.373, 1.3984, 1.4254, 1.4539, 1.4839, 1.5152, 1.5478, 1.5814, 1.6158, 1.6507, 1.6859, 1.721, 1.7557, 1.7898, 1.823, 1.8549, 1.8854, 1.9143, 1.9413, 1.9664, 1.9895, 2.0104, 2.0292, 2.0457, 2.0601, 2.0723, 2.0824, 2.0904, 2.0964, 2.1004, 2.1026, 2.103, 2.1018, 2.099, 2.0947, 2.0891, 2.0821, 2.074, 2.0646, 2.054, 2.0422, 2.0292, 2.0148, 1.999, 1.9816, 1.9626, 1.9416, 1.9186, 1.8934, 1.8657, 1.8354, 1.8024, 1.7664, 1.7274, 1.6852, 1.64, 1.5916, 1.5402, 1.4858, 1.4288, 1.3694, 1.3079, 1.2447, 1.1802, 1.1149, 1.0492],
            60: [0.5424, 0.5846, 0.6273, 0.6704, 0.7135, 0.7561, 0.7982, 0.8392, 0.8791, 0.9175, 0.9543, 0.9894, 1.0227, 1.0541, 1.0838, 1.1117, 1.138, 1.1628, 1.1863, 1.2086, 1.23, 1.2506, 1.2708, 1.2907, 1.3106, 1.3306, 1.3512, 1.3724, 1.3945, 1.4178, 1.4424, 1.4685, 1.4964, 1.526, 1.5575, 1.591, 1.6265, 1.664, 1.7032, 1.7442, 1.7866, 1.8303, 1.875, 1.9202, 1.9657, 2.011, 2.0557, 2.0996, 2.1422, 2.1832, 2.2223, 2.2592, 2.2939, 2.3261, 2.3556, 2.3826, 2.4067, 2.4282, 2.4469, 2.463, 2.4764, 2.4872, 2.4955, 2.5015, 2.5051, 2.5066, 2.5061, 2.5036, 2.4994, 2.4934, 2.4859, 2.4768, 2.4663, 2.4543, 2.4408, 2.4257, 2.409, 2.3906, 2.3702, 2.3478, 2.323, 2.2958, 2.2658, 2.2328, 2.1967, 2.1571, 2.114, 2.0671, 2.0163, 1.9616, 1.9031, 1.8407, 1.7747, 1.7054, 1.6329, 1.5579, 1.4806, 1.4017, 1.3218, 1.2414],
            65: [0.5579, 0.6031, 0.6493, 0.6962, 0.7435, 0.7909, 0.8379, 0.8844, 0.93, 0.9744, 1.0174, 1.0588, 1.0985, 1.1364, 1.1725, 1.2068, 1.2394, 1.2705, 1.3001, 1.3284, 1.3558, 1.3824, 1.4085, 1.4344, 1.4603, 1.4866, 1.5136, 1.5415, 1.5706, 1.6012, 1.6336, 1.6679, 1.7043, 1.7431, 1.7842, 1.8279, 1.874, 1.9225, 1.9732, 2.0261, 2.0807, 2.1368, 2.1939, 2.2518, 2.3098, 2.3675, 2.4244, 2.4801, 2.5341, 2.5861, 2.6356, 2.6824, 2.7263, 2.767, 2.8045, 2.8386, 2.8694, 2.8967, 2.9207, 2.9413, 2.9587, 2.9729, 2.9841, 2.9923, 2.9978, 3.0005, 3.0008, 2.9988, 2.9945, 2.9882, 2.9799, 2.9697, 2.9577, 2.9439, 2.9283, 2.9108, 2.8912, 2.8695, 2.8455, 2.8188, 2.7894, 2.7569, 2.7211, 2.6816, 2.6382, 2.5906, 2.5385, 2.4818, 2.4204, 2.354, 2.2828, 2.2068, 2.1262, 2.0414, 1.9527, 1.8606, 1.7658, 1.669, 1.5708, 1.4721],
            70: [0.573, 0.6213, 0.671, 0.722, 0.7739, 0.8263, 0.8791, 0.9317, 0.9838, 1.0353, 1.0857, 1.1348, 1.1825, 1.2285, 1.2729, 1.3155, 1.3564, 1.3957, 1.4335, 1.4701, 1.5056, 1.5403, 1.5745, 1.6085, 1.6427, 1.6775, 1.7131, 1.7499, 1.7883, 1.8286, 1.8711, 1.9161, 1.9637, 2.0143, 2.0678, 2.1244, 2.1841, 2.2466, 2.312, 2.3798, 2.4497, 2.5214, 2.5943, 2.6679, 2.7416, 2.8147, 2.8869, 2.9573, 3.0256, 3.0912, 3.1537, 3.2128, 3.2681, 3.3195, 3.3668, 3.4099, 3.4488, 3.4834, 3.5139, 3.5402, 3.5626, 3.581, 3.5956, 3.6067, 3.6143, 3.6187, 3.6199, 3.6183, 3.614, 3.6072, 3.5979, 3.5863, 3.5725, 3.5565, 3.5381, 3.5175, 3.4943, 3.4685, 3.4398, 3.408, 3.3727, 3.3336, 3.2904, 3.2427, 3.1901, 3.1322, 3.0689, 2.9998, 2.9246, 2.8434, 2.756, 2.6626, 2.5635, 2.4589, 2.3494, 2.2357, 2.1186, 1.9988, 1.8776, 1.7557],
            75: [0.5874, 0.6388, 0.6921, 0.7473, 0.804, 0.862, 0.9208, 0.9803, 1.04, 1.0996, 1.1588, 1.2172, 1.2747, 1.331, 1.3859, 1.4394, 1.4913, 1.5417, 1.5907, 1.6385, 1.6853, 1.7313, 1.7768, 1.8223, 1.8681, 1.9146, 1.9622, 2.0114, 2.0626, 2.1161, 2.1724, 2.2318, 2.2945, 2.3608, 2.4308, 2.5045, 2.582, 2.663, 2.7474, 2.8347, 2.9246, 3.0165, 3.1098, 3.2037, 3.2977, 3.3908, 3.4825, 3.572, 3.6586, 3.7418, 3.8209, 3.8957, 3.9658, 4.0309, 4.0908, 4.1454, 4.1947, 4.2388, 4.2776, 4.3112, 4.3399, 4.3637, 4.3828, 4.3975, 4.4078, 4.4142, 4.4167, 4.4157, 4.4113, 4.4038, 4.3932, 4.3798, 4.3636, 4.3446, 4.3228, 4.2981, 4.2703, 4.2392, 4.2045, 4.1659, 4.123, 4.0753, 4.0225, 3.964, 3.8995, 3.8284, 3.7503, 3.6649, 3.5719, 3.4712, 3.3627, 3.2465, 3.123, 2.9925, 2.8558, 2.7138, 2.5674, 2.4178, 2.2665, 2.1146],
            80: [0.6009, 0.6552, 0.7122, 0.7716, 0.8333, 0.8969, 0.9623, 1.0292, 1.0972, 1.1661, 1.2354, 1.305, 1.3744, 1.4435, 1.5118, 1.5794, 1.6459, 1.7114, 1.7758, 1.8393, 1.902, 1.9642, 2.0261, 2.0881, 2.1507, 2.2142, 2.2793, 2.3463, 2.4159, 2.4883, 2.5643, 2.644, 2.7278, 2.8161, 2.9089, 3.0063, 3.1083, 3.2146, 3.3249, 3.4389, 3.5558, 3.675, 3.7958, 3.9173, 4.0385, 4.1586, 4.2766, 4.3916, 4.5029, 4.6096, 4.7111, 4.807, 4.8968, 4.9802, 5.057, 5.127, 5.1903, 5.2469, 5.2969, 5.3403, 5.3774, 5.4084, 5.4335, 5.453, 5.467, 5.476, 5.4803, 5.48, 5.4755, 5.467, 5.4547, 5.4388, 5.4194, 5.3965, 5.37, 5.3399, 5.3058, 5.2675, 5.2248, 5.177, 5.1238, 5.0646, 4.9988, 4.9259, 4.8452, 4.7561, 4.6581, 4.5507, 4.4336, 4.3065, 4.1692, 4.0221, 3.8654, 3.6999, 3.5263, 3.3458, 3.1599, 2.9702, 2.7783, 2.5861],
            85: [0.613, 0.6703, 0.7307, 0.7942, 0.8608, 0.9302, 1.0023, 1.0769, 1.1538, 1.2329, 1.3137, 1.396, 1.4796, 1.5641, 1.6492, 1.7348, 1.8206, 1.9064, 1.9921, 2.0778, 2.1634, 2.2491, 2.3353, 2.4221, 2.51, 2.5995, 2.691, 2.7852, 2.8827, 2.9838, 3.0893, 3.1995, 3.3149, 3.4358, 3.5623, 3.6945, 3.8322, 3.9753, 4.1233, 4.2757, 4.4316, 4.5901, 4.7504, 4.9112, 5.0714, 5.2298, 5.3853, 5.5367, 5.6829, 5.8231, 5.9564, 6.0822, 6.2, 6.3093, 6.41, 6.5019, 6.585, 6.6594, 6.7251, 6.7824, 6.8314, 6.8726, 6.9061, 6.9323, 6.9516, 6.9644, 6.9709, 6.9717, 6.967, 6.9572, 6.9425, 6.9232, 6.8992, 6.8707, 6.8377, 6.7998, 6.7569, 6.7086, 6.6543, 6.5937, 6.5259, 6.4504, 6.3663, 6.2728, 6.1692, 6.0546, 5.9283, 5.7896, 5.6381, 5.4733, 5.2952, 5.1041, 4.9003, 4.6847, 4.4587, 4.2238, 3.9819, 3.7353, 3.4863, 3.2374],
            90: [0.6236, 0.6835, 0.747, 0.8144, 0.8855, 0.9604, 1.0391, 1.1214, 1.2075, 1.297, 1.3901, 1.4864, 1.586, 1.6885, 1.7938, 1.9017, 2.0121, 2.1246, 2.2392, 2.3558, 2.4744, 2.5949, 2.7176, 2.8425, 2.9701, 3.1008, 3.2349, 3.3731, 3.5158, 3.6637, 3.8174, 3.9773, 4.1438, 4.3174, 4.4981, 4.686, 4.8809, 5.0824, 5.29, 5.5028, 5.7199, 5.9401, 6.1619, 6.384, 6.6048, 6.8228, 7.0363, 7.2439, 7.4442, 7.6361, 7.8184, 7.9903, 8.1511, 8.3004, 8.4379, 8.5633, 8.6769, 8.7785, 8.8684, 8.9469, 9.0144, 9.0711, 9.1176, 9.1542, 9.1815, 9.2, 9.2103, 9.2127, 9.2078, 9.196, 9.1777, 9.1531, 9.1223, 9.0855, 9.0424, 8.9929, 8.9366, 8.8729, 8.8014, 8.7211, 8.6312, 8.5308, 8.4188, 8.2941, 8.1556, 8.0021, 7.8327, 7.6463, 7.4423, 7.2202, 6.9798, 6.7214, 6.4458, 6.1543, 5.8485, 5.5309, 5.2041, 4.8715, 4.5363, 4.2022],
            95: [0.6323, 0.6944, 0.7607, 0.8313, 0.9065, 0.9863, 1.0709, 1.1605, 1.2551, 1.3549, 1.46, 1.5707, 1.6869, 1.8089, 1.9367, 2.0704, 2.2101, 2.3558, 2.5076, 2.6657, 2.8299, 3.0005, 3.1776, 3.3614, 3.5521, 3.7499, 3.9553, 4.1687, 4.3903, 4.6208, 4.8605, 5.1098, 5.369, 5.6383, 5.9176, 6.2069, 6.5056, 6.8131, 7.1284, 7.4504, 7.7776, 8.1082, 8.4403, 8.7718, 9.1005, 9.4241, 9.7406, 10.0477, 10.3436, 10.6266, 10.8952, 11.1483, 11.3849, 11.6043, 11.8064, 11.9907, 12.1576, 12.307, 12.4393, 12.555, 12.6546, 12.7386, 12.8078, 12.8628, 12.9043, 12.9331, 12.95, 12.9556, 12.9507, 12.9359, 12.9117, 12.8783, 12.8362, 12.7853, 12.7254, 12.6563, 12.5773, 12.4879, 12.387, 12.2735, 12.1462, 12.0037, 11.8444, 11.6667, 11.4689, 11.2493, 11.0066, 10.7391, 10.446, 10.1264, 9.7803, 9.408, 9.0107, 8.5904, 8.1498, 7.6926, 7.223, 6.7458, 6.2662, 5.7895],
            100: [0.6388, 0.7025, 0.7709, 0.8442, 0.9225, 1.0062, 1.0956, 1.191, 1.2927, 1.4012, 1.5169, 1.6402, 1.7716, 1.9118, 2.0613, 2.2208, 2.3909, 2.5724, 2.766, 2.9725, 3.1927, 3.4275, 3.6777, 3.9442, 4.2279, 4.5295, 4.8498, 5.1895, 5.5493, 5.9295, 6.3306, 6.7526, 7.1955, 7.6588, 8.142, 8.644, 9.1634, 9.6986, 10.2473, 10.8071, 11.3751, 11.9481, 12.5226, 13.0949, 13.6612, 14.2178, 14.761, 15.2873, 15.7935, 16.2769, 16.7352, 17.1664, 17.5692, 17.9425, 18.286, 18.5994, 18.8828, 19.1368, 19.362, 19.5592, 19.7294, 19.8737, 19.9931, 20.0889, 20.1625, 20.2151, 20.248, 20.2625, 20.2596, 20.2405, 20.2059, 20.1566, 20.0928, 20.0147, 19.922, 19.8143, 19.6907, 19.5499, 19.3907, 19.211, 19.009, 18.7822, 18.5282, 18.2443, 17.9278, 17.576, 17.1864, 16.7567, 16.2851, 15.7707, 15.2132, 14.6135, 13.9738, 13.2974, 12.5894, 11.8557, 11.1039, 10.3419, 9.5784, 8.8222]
        };

        const volumePositions = {
            0: [0.01, 0.0107, 0.0114, 0.0121, 0.0127, 0.0134, 0.014, 0.0146, 0.0151, 0.0157, 0.0162, 0.0167, 0.0171, 0.0175, 0.0179, 0.0182, 0.0186, 0.0189, 0.0192, 0.0194, 0.0197, 0.0199, 0.0201, 0.0204, 0.0206, 0.0208, 0.021, 0.0213, 0.0215, 0.0218, 0.022, 0.0223, 0.0226, 0.0229, 0.0232, 0.0236, 0.024, 0.0244, 0.0248, 0.0253, 0.0257, 0.0262, 0.0267, 0.0272, 0.0277, 0.0282, 0.0287, 0.0292, 0.0297, 0.0301, 0.0306, 0.031, 0.0313, 0.0317, 0.032, 0.0323, 0.0326, 0.0328, 0.033, 0.0331, 0.0332, 0.0333, 0.0334, 0.0334, 0.0334, 0.0334, 0.0333, 0.0333, 0.0332, 0.0331, 0.0329, 0.0328, 0.0326, 0.0324, 0.0322, 0.032, 0.0318, 0.0315, 0.0312, 0.0309, 0.0306, 0.0302, 0.0298, 0.0294, 0.0289, 0.0284, 0.0278, 0.0272, 0.0265, 0.0258, 0.025, 0.0242, 0.0234, 0.0225, 0.0216, 0.0207, 0.0197, 0.0187, 0.0177, 0.0167],
            5: [0.01, 0.0107, 0.0114, 0.0121, 0.0127, 0.0134, 0.014, 0.0146, 0.0151, 0.0157, 0.0162, 0.0167, 0.0171, 0.0175, 0.0179, 0.0182, 0.0186, 0.0189, 0.0192, 0.0194, 0.0197, 0.0199, 0.0201, 0.0204, 0.0206, 0.0208, 0.021, 0.0213, 0.0215, 0.0218, 0.022, 0.0223, 0.0226, 0.0229, 0.0232, 0.0236, 0.024, 0.0244, 0.0248, 0.0253, 0.0257, 0.0262, 0.0267, 0.0272, 0.0277, 0.0282, 0.0287, 0.0292, 0.0297, 0.0301, 0.0306, 0.031, 0.0313, 0.0317, 0.032, 0.0323, 0.0326, 0.0328, 0.033, 0.0331, 0.0332, 0.0333, 0.0334, 0.0334, 0.0334, 0.0334, 0.0333, 0.0333, 0.0332, 0.0331, 0.0329, 0.0328, 0.0326, 0.0324, 0.0322, 0.032, 0.0318, 0.0315, 0.0312, 0.0309, 0.0306, 0.0302, 0.0298, 0.0294, 0.0289, 0.0284, 0.0278, 0.0272, 0.0265, 0.0258, 0.025, 0.0242, 0.0234, 0.0225, 0.0216, 0.0207, 0.0197, 0.0187, 0.0177, 0.0167],
            10: [0.0209, 0.0223, 0.0238, 0.0252, 0.0267, 0.028, 0.0294, 0.0307, 0.0319, 0.0331, 0.0342, 0.0352, 0.0362, 0.0371, 0.0379, 0.0387, 0.0394, 0.04, 0.0406, 0.0412, 0.0418, 0.0423, 0.0428, 0.0432, 0.0437, 0.0442, 0.0447, 0.0452, 0.0457, 0.0462, 0.0467, 0.0473, 0.048, 0.0486, 0.0494, 0.0501, 0.0509, 0.0518, 0.0527, 0.0536, 0.0546, 0.0556, 0.0567, 0.0577, 0.0588, 0.0599, 0.0609, 0.062, 0.063, 0.064, 0.0649, 0.0658, 0.0666, 0.0674, 0.0681, 0.0687, 0.0692, 0.0697, 0.0702, 0.0705, 0.0708, 0.071, 0.0711, 0.0712, 0.0712, 0.0712, 0.0711, 0.071, 0.0708, 0.0705, 0.0703, 0.07, 0.0696, 0.0692, 0.0688, 0.0683, 0.0678, 0.0673, 0.0667, 0.066, 0.0653, 0.0645, 0.0637, 0.0627, 0.0617, 0.0606, 0.0594, 0.0581, 0.0566, 0.0551, 0.0535, 0.0518, 0.05, 0.0481, 0.0462, 0.0441, 0.042, 0.0399, 0.0378, 0.0356],
            15: [0.0358, 0.0383, 0.0408, 0.0433, 0.0458, 0.0482, 0.0505, 0.0528, 0.0549, 0.0569, 0.0588, 0.0606, 0.0623, 0.0638, 0.0653, 0.0666, 0.0678, 0.069, 0.07, 0.071, 0.0719, 0.0728, 0.0737, 0.0745, 0.0753, 0.0761, 0.077, 0.0778, 0.0787, 0.0796, 0.0806, 0.0816, 0.0827, 0.0838, 0.085, 0.0864, 0.0878, 0.0892, 0.0908, 0.0924, 0.0941, 0.0959, 0.0977, 0.0995, 0.1013, 0.1032, 0.105, 0.1068, 0.1086, 0.1103, 0.1119, 0.1134, 0.1148, 0.1161, 0.1173, 0.1184, 0.1194, 0.1203, 0.121, 0.1216, 0.1221, 0.1225, 0.1227, 0.1229, 0.1229, 0.1229, 0.1227, 0.1225, 0.1222, 0.1218, 0.1213, 0.1208, 0.1202, 0.1195, 0.1188, 0.118, 0.1171, 0.1162, 0.1152, 0.114, 0.1128, 0.1114, 0.1099, 0.1083, 0.1066, 0.1046, 0.1025, 0.1003, 0.0978, 0.0952, 0.0924, 0.0895, 0.0864, 0.0831, 0.0797, 0.0762, 0.0726, 0.069, 0.0653, 0.0615],
            20: [0.057, 0.061, 0.0651, 0.0691, 0.073, 0.0769, 0.0806, 0.0842, 0.0876, 0.0909, 0.0939, 0.0968, 0.0994, 0.1019, 0.1042, 0.1063, 0.1083, 0.1101, 0.1118, 0.1134, 0.1149, 0.1163, 0.1176, 0.119, 0.1203, 0.1216, 0.1229, 0.1242, 0.1256, 0.1271, 0.1286, 0.1302, 0.132, 0.1338, 0.1358, 0.1379, 0.1401, 0.1425, 0.145, 0.1476, 0.1503, 0.1531, 0.1559, 0.1589, 0.1618, 0.1648, 0.1677, 0.1706, 0.1734, 0.1761, 0.1786, 0.1811, 0.1834, 0.1855, 0.1874, 0.1891, 0.1907, 0.1921, 0.1932, 0.1942, 0.195, 0.1956, 0.196, 0.1963, 0.1964, 0.1963, 0.1961, 0.1957, 0.1952, 0.1946, 0.1939, 0.1931, 0.1921, 0.1911, 0.1899, 0.1886, 0.1872, 0.1857, 0.1841, 0.1823, 0.1803, 0.1781, 0.1757, 0.1731, 0.1703, 0.1672, 0.1639, 0.1603, 0.1564, 0.1522, 0.1478, 0.1431, 0.1381, 0.1329, 0.1275, 0.1219, 0.1161, 0.1102, 0.1043, 0.0984],
            25: [0.0868, 0.0929, 0.0991, 0.1053, 0.1113, 0.1172, 0.1229, 0.1283, 0.1335, 0.1385, 0.1431, 0.1475, 0.1515, 0.1553, 0.1588, 0.162, 0.165, 0.1678, 0.1704, 0.1728, 0.1751, 0.1772, 0.1793, 0.1813, 0.1833, 0.1853, 0.1873, 0.1894, 0.1915, 0.1937, 0.1961, 0.1985, 0.2012, 0.204, 0.207, 0.2102, 0.2136, 0.2172, 0.2209, 0.2249, 0.229, 0.2333, 0.2377, 0.2421, 0.2466, 0.2511, 0.2556, 0.26, 0.2643, 0.2684, 0.2723, 0.276, 0.2795, 0.2827, 0.2857, 0.2884, 0.2907, 0.2928, 0.2946, 0.2961, 0.2973, 0.2983, 0.2989, 0.2993, 0.2995, 0.2993, 0.299, 0.2985, 0.2977, 0.2968, 0.2957, 0.2944, 0.293, 0.2914, 0.2896, 0.2877, 0.2856, 0.2833, 0.2807, 0.278, 0.275, 0.2717, 0.268, 0.2641, 0.2598, 0.2551, 0.25, 0.2445, 0.2386, 0.2322, 0.2254, 0.2182, 0.2106, 0.2027, 0.1944, 0.1859, 0.1771, 0.1682, 0.1591, 0.15],
            30: [0.1325, 0.1419, 0.1514, 0.1608, 0.17, 0.179, 0.1877, 0.196, 0.204, 0.2115, 0.2186, 0.2253, 0.2315, 0.2372, 0.2426, 0.2475, 0.2521, 0.2564, 0.2603, 0.264, 0.2675, 0.2708, 0.274, 0.2771, 0.2801, 0.2831, 0.2862, 0.2893, 0.2926, 0.296, 0.2996, 0.3034, 0.3074, 0.3117, 0.3163, 0.3211, 0.3263, 0.3318, 0.3376, 0.3436, 0.35, 0.3565, 0.3632, 0.37, 0.3769, 0.3837, 0.3906, 0.3973, 0.4038, 0.4101, 0.4161, 0.4218, 0.4271, 0.432, 0.4365, 0.4406, 0.4443, 0.4475, 0.4502, 0.4525, 0.4544, 0.4558, 0.4569, 0.4575, 0.4577, 0.4575, 0.457, 0.4562, 0.4551, 0.4537, 0.452, 0.45, 0.4478, 0.4454, 0.4427, 0.4398, 0.4365, 0.433, 0.4291, 0.4249, 0.4203, 0.4153, 0.4097, 0.4037, 0.3971, 0.3899, 0.3822, 0.3737, 0.3647, 0.3549, 0.3446, 0.3336, 0.322, 0.3098, 0.2972, 0.2841, 0.2707, 0.2571, 0.2432, 0.2293],
            35: [0.1951, 0.2091, 0.223, 0.2368, 0.2504, 0.2637, 0.2765, 0.2888, 0.3005, 0.3117, 0.3221, 0.3319, 0.3411, 0.3496, 0.3574, 0.3647, 0.3715, 0.3777, 0.3835, 0.389, 0.3941, 0.399, 0.4037, 0.4082, 0.4127, 0.4172, 0.4217, 0.4263, 0.4311, 0.4361, 0.4414, 0.447, 0.4529, 0.4592, 0.466, 0.4732, 0.4808, 0.4889, 0.4974, 0.5063, 0.5156, 0.5253, 0.5351, 0.5452, 0.5553, 0.5654, 0.5755, 0.5854, 0.595, 0.6042, 0.6131, 0.6215, 0.6293, 0.6366, 0.6433, 0.6493, 0.6547, 0.6594, 0.6635, 0.6669, 0.6696, 0.6718, 0.6733, 0.6742, 0.6745, 0.6743, 0.6735, 0.6723, 0.6707, 0.6686, 0.6661, 0.6633, 0.6601, 0.6565, 0.6525, 0.6482, 0.6434, 0.6382, 0.6325, 0.6263, 0.6195, 0.6121, 0.6039, 0.595, 0.5853, 0.5747, 0.5633, 0.5509, 0.5375, 0.5232, 0.5079, 0.4916, 0.4746, 0.4566, 0.438, 0.4188, 0.399, 0.3789, 0.3585, 0.338],
            40: [0.2746, 0.2942, 0.3138, 0.3333, 0.3524, 0.371, 0.3891, 0.4064, 0.4229, 0.4386, 0.4533, 0.4671, 0.48, 0.4919, 0.503, 0.5132, 0.5227, 0.5316, 0.5398, 0.5474, 0.5546, 0.5615, 0.5681, 0.5745, 0.5808, 0.5871, 0.5935, 0.6, 0.6067, 0.6138, 0.6212, 0.629, 0.6374, 0.6463, 0.6558, 0.6659, 0.6766, 0.688, 0.7, 0.7126, 0.7257, 0.7392, 0.7531, 0.7672, 0.7815, 0.7957, 0.8099, 0.8238, 0.8373, 0.8504, 0.8629, 0.8746, 0.8857, 0.8959, 0.9053, 0.9138, 0.9214, 0.9281, 0.9338, 0.9386, 0.9425, 0.9455, 0.9476, 0.9489, 0.9493, 0.949, 0.948, 0.9463, 0.944, 0.9411, 0.9376, 0.9336, 0.9291, 0.924, 0.9185, 0.9123, 0.9056, 0.8983, 0.8903, 0.8816, 0.872, 0.8615, 0.8501, 0.8376, 0.8239, 0.809, 0.7929, 0.7754, 0.7566, 0.7364, 0.7149, 0.6921, 0.668, 0.6428, 0.6166, 0.5895, 0.5617, 0.5333, 0.5046, 0.4758],
            45: [0.3762, 0.4031, 0.43, 0.4567, 0.4829, 0.5084, 0.5332, 0.5569, 0.5796, 0.601, 0.6212, 0.6401, 0.6577, 0.6741, 0.6893, 0.7033, 0.7164, 0.7284, 0.7397, 0.7502, 0.7601, 0.7695, 0.7785, 0.7873, 0.796, 0.8046, 0.8133, 0.8222, 0.8315, 0.8411, 0.8513, 0.862, 0.8735, 0.8857, 0.8987, 0.9126, 0.9273, 0.9429, 0.9593, 0.9765, 0.9945, 1.013, 1.0321, 1.0514, 1.071, 1.0905, 1.1099, 1.129, 1.1475, 1.1654, 1.1825, 1.1987, 1.2139, 1.2279, 1.2408, 1.2524, 1.2629, 1.272, 1.2798, 1.2864, 1.2918, 1.2959, 1.2988, 1.3005, 1.3012, 1.3008, 1.2994, 1.2971, 1.2939, 1.2899, 1.2852, 1.2797, 1.2735, 1.2666, 1.2589, 1.2506, 1.2414, 1.2313, 1.2204, 1.2084, 1.1953, 1.1809, 1.1652, 1.1481, 1.1293, 1.109, 1.0868, 1.0629, 1.0371, 1.0094, 0.9799, 0.9486, 0.9156, 0.8811, 0.8452, 0.808, 0.7699, 0.7311, 0.6917, 0.6522],
            50: [0.511, 0.5475, 0.584, 0.6202, 0.6558, 0.6906, 0.7242, 0.7564, 0.7872, 0.8163, 0.8437, 0.8694, 0.8933, 0.9156, 0.9362, 0.9553, 0.973, 0.9894, 1.0047, 1.0189, 1.0324, 1.0452, 1.0574, 1.0694, 1.0811, 1.0928, 1.1047, 1.1168, 1.1293, 1.1424, 1.1562, 1.1709, 1.1864, 1.203, 1.2207, 1.2395, 1.2595, 1.2807, 1.303, 1.3264, 1.3508, 1.376, 1.4019, 1.4282, 1.4548, 1.4813, 1.5077, 1.5336, 1.5588, 1.5831, 1.6064, 1.6283, 1.6489, 1.668, 1.6855, 1.7014, 1.7155, 1.728, 1.7387, 1.7476, 1.7549, 1.7605, 1.7645, 1.7668, 1.7677, 1.7672, 1.7654, 1.7622, 1.7579, 1.7525, 1.7461, 1.7386, 1.7302, 1.7208, 1.7104, 1.6991, 1.6866, 1.673, 1.6581, 1.6418, 1.624, 1.6045, 1.5832, 1.5598, 1.5344, 1.5067, 1.4766, 1.4441, 1.4091, 1.3715, 1.3314, 1.2889, 1.2441, 1.1971, 1.1483, 1.0978, 1.0461, 0.9933, 0.9398, 0.8861],
            55: [0.6674, 0.7151, 0.7628, 0.8101, 0.8566, 0.902, 0.9459, 0.988, 1.0282, 1.0662, 1.102, 1.1356, 1.1669, 1.1959, 1.2229, 1.2478, 1.2709, 1.2923, 1.3123, 1.3309, 1.3485, 1.3652, 1.3812, 1.3968, 1.4122, 1.4275, 1.4429, 1.4588, 1.4751, 1.4923, 1.5103, 1.5294, 1.5497, 1.5714, 1.5945, 1.6191, 1.6453, 1.6729, 1.7021, 1.7327, 1.7646, 1.7975, 1.8313, 1.8657, 1.9004, 1.9351, 1.9696, 2.0034, 2.0364, 2.0682, 2.0986, 2.1273, 2.1543, 2.1792, 2.2021, 2.2229, 2.2414, 2.2576, 2.2716, 2.2834, 2.2929, 2.3002, 2.3054, 2.3086, 2.3097, 2.3091, 2.3067, 2.3026, 2.297, 2.2899, 2.2815, 2.2718, 2.2608, 2.2486, 2.235, 2.2202, 2.2039, 2.1861, 2.1666, 2.1454, 2.1221, 2.0966, 2.0688, 2.0383, 2.0051, 1.9689, 1.9296, 1.8871, 1.8413, 1.7922, 1.7398, 1.6842, 1.6257, 1.5644, 1.5005, 1.4346, 1.3669, 1.298, 1.2281, 1.1579],
            60: [0.8728, 0.9353, 0.9977, 1.0595, 1.1204, 1.1797, 1.2371, 1.2922, 1.3447, 1.3945, 1.4413, 1.4852, 1.5261, 1.5641, 1.5994, 1.632, 1.6622, 1.6902, 1.7163, 1.7407, 1.7637, 1.7855, 1.8065, 1.8269, 1.847, 1.867, 1.8872, 1.9079, 1.9294, 1.9518, 1.9754, 2.0004, 2.027, 2.0553, 2.0856, 2.1178, 2.152, 2.1882, 2.2264, 2.2665, 2.3081, 2.3513, 2.3955, 2.4405, 2.486, 2.5315, 2.5766, 2.6209, 2.6641, 2.7057, 2.7455, 2.7832, 2.8185, 2.8512, 2.8812, 2.9084, 2.9327, 2.954, 2.9723, 2.9878, 3.0002, 3.0099, 3.0167, 3.0209, 3.0225, 3.0217, 3.0185, 3.0133, 3.006, 2.9968, 2.9858, 2.9731, 2.9587, 2.9427, 2.9251, 2.9056, 2.8844, 2.8611, 2.8356, 2.8078, 2.7773, 2.744, 2.7076, 2.6677, 2.6242, 2.5769, 2.5254, 2.4698, 2.4099, 2.3456, 2.277, 2.2043, 2.1277, 2.0474, 1.9639, 1.8776, 1.7891, 1.6988, 1.6074, 1.5155],
            65: [1.1167, 1.1965, 1.2764, 1.3555, 1.4334, 1.5093, 1.5827, 1.6532, 1.7204, 1.7841, 1.844, 1.9002, 1.9525, 2.0012, 2.0463, 2.088, 2.1267, 2.1625, 2.1959, 2.2271, 2.2565, 2.2845, 2.3113, 2.3374, 2.3631, 2.3887, 2.4146, 2.4411, 2.4686, 2.4973, 2.5275, 2.5595, 2.5935, 2.6298, 2.6686, 2.7098, 2.7536, 2.8001, 2.849, 2.9003, 2.9537, 3.0089, 3.0656, 3.1233, 3.1815, 3.2398, 3.2976, 3.3545, 3.4098, 3.4632, 3.5142, 3.5626, 3.6078, 3.6498, 3.6883, 3.7232, 3.7543, 3.7817, 3.8053, 3.8251, 3.8412, 3.8536, 3.8625, 3.8679, 3.8701, 3.8691, 3.8651, 3.8584, 3.8491, 3.8374, 3.8234, 3.8072, 3.7889, 3.7684, 3.7458, 3.721, 3.6938, 3.664, 3.6315, 3.5958, 3.5569, 3.5142, 3.4675, 3.4165, 3.3608, 3.3002, 3.2344, 3.1631, 3.0864, 3.004, 2.9163, 2.8231, 2.725, 2.6222, 2.5153, 2.4047, 2.2913, 2.1757, 2.0586, 1.941],
            70: [1.4044, 1.5049, 1.6053, 1.7048, 1.8027, 1.8982, 1.9905, 2.0792, 2.1638, 2.2439, 2.3193, 2.3899, 2.4557, 2.5169, 2.5736, 2.6261, 2.6747, 2.7198, 2.7618, 2.8011, 2.8381, 2.8733, 2.9071, 2.9399, 2.9722, 3.0045, 3.0371, 3.0704, 3.105, 3.1411, 3.1791, 3.2195, 3.2623, 3.3081, 3.3568, 3.4088, 3.464, 3.5225, 3.5841, 3.6487, 3.716, 3.7856, 3.8571, 3.9298, 4.0033, 4.0768, 4.1497, 4.2214, 4.2912, 4.3586, 4.423, 4.484, 4.5411, 4.5942, 4.6428, 4.6869, 4.7263, 4.7609, 4.7908, 4.8159, 4.8363, 4.8521, 4.8634, 4.8704, 4.8733, 4.8722, 4.8673, 4.859, 4.8475, 4.8328, 4.8153, 4.795, 4.772, 4.7463, 4.718, 4.6867, 4.6525, 4.6151, 4.5741, 4.5293, 4.4803, 4.4266, 4.3678, 4.3036, 4.2335, 4.1571, 4.0742, 3.9845, 3.8878, 3.7841, 3.6735, 3.5562, 3.4326, 3.3031, 3.1684, 3.0292, 2.8863, 2.7407, 2.5933, 2.445],
            75: [1.7615, 1.8875, 2.0134, 2.1383, 2.2611, 2.3808, 2.4967, 2.6079, 2.714, 2.8144, 2.909, 2.9976, 3.0802, 3.1569, 3.2281, 3.2939, 3.3549, 3.4115, 3.4642, 3.5135, 3.5599, 3.604, 3.6464, 3.6876, 3.7282, 3.7687, 3.8096, 3.8516, 3.895, 3.9403, 3.9881, 4.0388, 4.0927, 4.1501, 4.2114, 4.2767, 4.3462, 4.4197, 4.4972, 4.5785, 4.6632, 4.7507, 4.8406, 4.9322, 5.0247, 5.1172, 5.2091, 5.2994, 5.3874, 5.4723, 5.5535, 5.6304, 5.7025, 5.7695, 5.8309, 5.8866, 5.9364, 5.9803, 6.0181, 6.05, 6.0759, 6.096, 6.1105, 6.1196, 6.1234, 6.1223, 6.1165, 6.1063, 6.092, 6.0738, 6.052, 6.0267, 5.9979, 5.9659, 5.9303, 5.8912, 5.8484, 5.8014, 5.75, 5.6938, 5.6322, 5.5647, 5.4909, 5.4102, 5.3221, 5.2262, 5.122, 5.0092, 4.8877, 4.7574, 4.6184, 4.471, 4.3155, 4.1528, 3.9834, 3.8084, 3.6288, 3.4457, 3.2603, 3.074],
            80: [2.032, 2.1773, 2.3225, 2.4666, 2.6082, 2.7464, 2.88, 3.0083, 3.1307, 3.2465, 3.3556, 3.4578, 3.5531, 3.6416, 3.7237, 3.7997, 3.8701, 3.9354, 3.9961, 4.053, 4.1066, 4.1575, 4.2064, 4.254, 4.3009, 4.3476, 4.3949, 4.4433, 4.4934, 4.5458, 4.601, 4.6596, 4.7218, 4.7882, 4.8591, 4.9346, 5.0149, 5.0999, 5.1895, 5.2835, 5.3815, 5.4828, 5.5868, 5.6928, 5.7998, 5.907, 6.0133, 6.118, 6.2199, 6.3183, 6.4124, 6.5016, 6.5852, 6.6629, 6.7342, 6.7989, 6.8568, 6.9078, 6.9518, 6.989, 7.0193, 7.0429, 7.0599, 7.0707, 7.0754, 7.0744, 7.068, 7.0565, 7.0402, 7.0194, 6.9944, 6.9653, 6.9323, 6.8954, 6.8545, 6.8095, 6.7601, 6.7059, 6.6466, 6.5817, 6.5106, 6.4327, 6.3475, 6.2542, 6.1524, 6.0416, 5.9211, 5.7908, 5.6504, 5.4997, 5.3391, 5.1686, 4.989, 4.8008, 4.6051, 4.4027, 4.1951, 3.9834, 3.7691, 3.5537],
            85: [2.2721, 2.4346, 2.5971, 2.7581, 2.9165, 3.071, 3.2204, 3.3639, 3.5007, 3.6303, 3.7523, 3.8665, 3.9731, 4.0721, 4.1639, 4.2489, 4.3276, 4.4006, 4.4686, 4.5322, 4.5921, 4.6491, 4.7039, 4.7571, 4.8095, 4.8618, 4.9147, 4.9689, 5.0251, 5.0837, 5.1456, 5.2111, 5.2809, 5.3553, 5.4347, 5.5193, 5.6092, 5.7045, 5.805, 5.9104, 6.0202, 6.1338, 6.2505, 6.3694, 6.4895, 6.6097, 6.7291, 6.8466, 6.961, 7.0716, 7.1773, 7.2775, 7.3716, 7.4589, 7.5391, 7.612, 7.6772, 7.7346, 7.7844, 7.8263, 7.8606, 7.8874, 7.9068, 7.9192, 7.9249, 7.924, 7.9172, 7.9045, 7.8866, 7.8636, 7.8358, 7.8035, 7.7667, 7.7256, 7.6799, 7.6296, 7.5744, 7.5139, 7.4475, 7.3749, 7.2953, 7.2081, 7.1127, 7.0083, 6.8943, 6.7701, 6.6351, 6.4891, 6.3318, 6.163, 5.983, 5.7921, 5.5908, 5.3799, 5.1605, 4.9338, 4.7011, 4.4639, 4.2238, 3.9824],
            90: [2.4461, 2.621, 2.796, 2.9694, 3.1399, 3.3062, 3.467, 3.6215, 3.7688, 3.9083, 4.0397, 4.1627, 4.2774, 4.384, 4.4828, 4.5743, 4.6591, 4.7377, 4.8109, 4.8794, 4.9439, 5.0053, 5.0643, 5.1216, 5.1781, 5.2344, 5.2915, 5.3498, 5.4103, 5.4736, 5.5402, 5.6109, 5.6861, 5.7663, 5.8519, 5.9431, 6.0401, 6.1429, 6.2513, 6.365, 6.4834, 6.606, 6.732, 6.8603, 6.9899, 7.1198, 7.2487, 7.3755, 7.4991, 7.6186, 7.7328, 7.8412, 7.9428, 8.0373, 8.1241, 8.2029, 8.2735, 8.3357, 8.3896, 8.4352, 8.4725, 8.5016, 8.5229, 8.5365, 8.5429, 8.5423, 8.5351, 8.5217, 8.5026, 8.478, 8.4483, 8.4136, 8.3742, 8.33, 8.2809, 8.2268, 8.1674, 8.1022, 8.0308, 7.9526, 7.8668, 7.7729, 7.67, 7.5575, 7.4346, 7.3007, 7.1552, 6.9978, 6.8282, 6.6462, 6.4521, 6.2462, 6.0291, 5.8017, 5.5652, 5.3207, 5.0697, 4.814, 4.555, 4.2947],
            95: [2.5933, 2.7787, 2.9641, 3.148, 3.3288, 3.5051, 3.6756, 3.8394, 3.9955, 4.1434, 4.2827, 4.4131, 4.5347, 4.6477, 4.7525, 4.8495, 4.9394, 5.0228, 5.1004, 5.173, 5.2415, 5.3065, 5.3691, 5.4299, 5.4898, 5.5496, 5.6101, 5.672, 5.7362, 5.8033, 5.874, 5.949, 6.0288, 6.114, 6.2048, 6.3017, 6.4047, 6.5138, 6.6289, 6.7496, 6.8754, 7.0057, 7.1394, 7.2757, 7.4135, 7.5515, 7.6885, 7.8233, 7.9547, 8.0817, 8.2033, 8.3185, 8.4266, 8.5271, 8.6195, 8.7034, 8.7786, 8.845, 8.9025, 8.9511, 8.9909, 9.0221, 9.045, 9.0597, 9.0667, 9.0663, 9.0589, 9.0449, 9.0248, 8.9989, 8.9676, 8.9309, 8.8892, 8.8424, 8.7905, 8.7332, 8.6702, 8.6012, 8.5254, 8.4425, 8.3515, 8.2518, 8.1427, 8.0233, 7.8929, 7.7507, 7.5964, 7.4293, 7.2492, 7.056, 6.8499, 6.6313, 6.4009, 6.1595, 5.9084, 5.6488, 5.3824, 5.1109, 4.836, 4.5595],
            100: [2.8319, 3.0344, 3.2369, 3.4377, 3.6351, 3.8276, 4.0139, 4.1928, 4.3633, 4.5248, 4.6769, 4.8193, 4.9521, 5.0755, 5.19, 5.2959, 5.3941, 5.4852, 5.5699, 5.6493, 5.7241, 5.7952, 5.8635, 5.93, 5.9954, 6.0608, 6.1269, 6.1947, 6.2649, 6.3383, 6.4157, 6.4977, 6.5851, 6.6782, 6.7777, 6.8837, 6.9965, 7.116, 7.242, 7.3743, 7.5121, 7.6548, 7.8014, 7.9509, 8.1019, 8.2532, 8.4036, 8.5515, 8.6958, 8.8352, 8.9687, 9.0952, 9.2141, 9.3246, 9.4263, 9.5186, 9.6015, 9.6747, 9.7381, 9.7918, 9.836, 9.8706, 9.8962, 9.9128, 9.9209, 9.921, 9.9133, 9.8985, 9.8769, 9.849, 9.815, 9.7753, 9.73, 9.6791, 9.6225, 9.56, 9.4913, 9.4159, 9.3332, 9.2425, 9.1431, 9.0341, 8.9147, 8.7841, 8.6414, 8.4859, 8.3169, 8.134, 7.9369, 7.7254, 7.4998, 7.2605, 7.0083, 6.744, 6.469, 6.1848, 5.8932, 5.5959, 5.2949, 4.9922]
        };

        const tonePositions = {
            0: [0.4624, 0.4954, 0.5284, 0.5611, 0.5932, 0.6245, 0.6548, 0.6838, 0.7114, 0.7375, 0.762, 0.7849, 0.8062, 0.8258, 0.8439, 0.8606, 0.8758, 0.8898, 0.9027, 0.9145, 0.9253, 0.9354, 0.9448, 0.9537, 0.9621, 0.9701, 0.978, 0.9856, 0.9932, 1.0008, 1.0085, 1.0163, 1.0243, 1.0324, 1.0407, 1.0492, 1.0578, 1.0665, 1.0752, 1.0838, 1.0922, 1.1003, 1.108, 1.1151, 1.1215, 1.127, 1.1315, 1.1349, 1.1371, 1.1379, 1.1374, 1.1353, 1.1317, 1.1265, 1.1198, 1.1114, 1.1014, 1.09, 1.077, 1.0626, 1.0469, 1.03, 1.012, 0.993, 0.973, 0.9523, 0.9308, 0.9087, 0.886, 0.8628, 0.8391, 0.8148, 0.79, 0.7647, 0.7388, 0.7123, 0.6853, 0.6578, 0.6297, 0.6012, 0.5723, 0.5431, 0.5137, 0.4843, 0.4549, 0.4258, 0.397, 0.3687, 0.3412, 0.3144, 0.2885, 0.2637, 0.2401, 0.2176, 0.1965, 0.1766, 0.1582, 0.141, 0.1252, 0.1108],
            5: [0.4669, 0.5002, 0.5335, 0.5665, 0.5989, 0.6305, 0.6611, 0.6904, 0.7183, 0.7447, 0.7695, 0.7926, 0.8141, 0.834, 0.8524, 0.8692, 0.8847, 0.8989, 0.912, 0.924, 0.9351, 0.9454, 0.9551, 0.9642, 0.9729, 0.9812, 0.9894, 0.9974, 1.0054, 1.0135, 1.0216, 1.03, 1.0385, 1.0473, 1.0563, 1.0655, 1.0749, 1.0844, 1.094, 1.1036, 1.1129, 1.122, 1.1307, 1.1387, 1.146, 1.1524, 1.1577, 1.1619, 1.1647, 1.1661, 1.166, 1.1642, 1.1608, 1.1556, 1.1487, 1.1401, 1.1297, 1.1176, 1.1038, 1.0885, 1.0717, 1.0536, 1.0342, 1.0137, 0.9922, 0.9698, 0.9466, 0.9227, 0.8982, 0.8732, 0.8477, 0.8219, 0.7956, 0.769, 0.7421, 0.715, 0.6877, 0.6603, 0.6328, 0.6053, 0.5779, 0.5508, 0.5239, 0.4975, 0.4715, 0.4462, 0.4214, 0.3974, 0.3741, 0.3517, 0.3301, 0.3093, 0.2894, 0.2704, 0.2522, 0.2349, 0.2184, 0.2027, 0.1878, 0.1737],
            10: [0.4714, 0.505, 0.5387, 0.572, 0.6048, 0.6367, 0.6676, 0.6972, 0.7254, 0.752, 0.7771, 0.8005, 0.8222, 0.8424, 0.8609, 0.878, 0.8937, 0.9081, 0.9214, 0.9336, 0.945, 0.9555, 0.9654, 0.9748, 0.9838, 0.9925, 1.001, 1.0094, 1.0178, 1.0263, 1.035, 1.0438, 1.053, 1.0624, 1.0721, 1.0821, 1.0924, 1.1028, 1.1133, 1.1238, 1.1342, 1.1444, 1.1541, 1.1632, 1.1716, 1.179, 1.1854, 1.1905, 1.1943, 1.1965, 1.1971, 1.1959, 1.193, 1.1883, 1.1817, 1.1732, 1.1629, 1.1508, 1.137, 1.1215, 1.1046, 1.0862, 1.0666, 1.0458, 1.0241, 1.0016, 0.9785, 0.9547, 0.9306, 0.9063, 0.8817, 0.857, 0.8324, 0.8078, 0.7834, 0.7592, 0.7352, 0.7115, 0.6882, 0.6653, 0.6428, 0.6207, 0.5991, 0.5779, 0.557, 0.5365, 0.5164, 0.4965, 0.4769, 0.4574, 0.4381, 0.4189, 0.3999, 0.3809, 0.362, 0.3433, 0.3247, 0.3063, 0.2881, 0.2703],
            15: [0.476, 0.51, 0.5439, 0.5776, 0.6107, 0.643, 0.6742, 0.7041, 0.7326, 0.7595, 0.7848, 0.8085, 0.8305, 0.8509, 0.8697, 0.887, 0.9029, 0.9176, 0.9311, 0.9435, 0.9551, 0.9659, 0.9761, 0.9857, 0.995, 1.004, 1.0129, 1.0217, 1.0305, 1.0395, 1.0487, 1.0581, 1.0679, 1.0781, 1.0885, 1.0994, 1.1105, 1.1219, 1.1335, 1.1451, 1.1567, 1.1681, 1.1791, 1.1895, 1.1991, 1.2079, 1.2156, 1.2219, 1.2269, 1.2303, 1.232, 1.2319, 1.23, 1.2262, 1.2205, 1.2128, 1.2033, 1.1919, 1.1789, 1.1641, 1.1479, 1.1304, 1.1116, 1.0919, 1.0713, 1.0501, 1.0284, 1.0064, 0.9843, 0.9622, 0.9401, 0.9183, 0.8968, 0.8757, 0.8549, 0.8346, 0.8148, 0.7953, 0.7763, 0.7576, 0.7392, 0.7211, 0.7031, 0.6851, 0.6672, 0.649, 0.6307, 0.6121, 0.5931, 0.5736, 0.5537, 0.5334, 0.5125, 0.4912, 0.4695, 0.4475, 0.4252, 0.4028, 0.3803, 0.3579],
            20: [0.4807, 0.515, 0.5493, 0.5834, 0.6168, 0.6494, 0.6809, 0.7111, 0.7399, 0.7671, 0.7927, 0.8167, 0.8389, 0.8596, 0.8786, 0.8962, 0.9123, 0.9272, 0.9409, 0.9536, 0.9654, 0.9765, 0.9869, 0.9969, 1.0065, 1.0158, 1.025, 1.0343, 1.0436, 1.053, 1.0628, 1.0729, 1.0833, 1.0942, 1.1056, 1.1173, 1.1295, 1.1419, 1.1547, 1.1676, 1.1804, 1.1932, 1.2056, 1.2175, 1.2288, 1.2391, 1.2483, 1.2563, 1.2628, 1.2678, 1.2711, 1.2725, 1.2721, 1.2698, 1.2655, 1.2593, 1.2512, 1.2413, 1.2297, 1.2166, 1.202, 1.1861, 1.1692, 1.1514, 1.1329, 1.1139, 1.0947, 1.0753, 1.056, 1.0368, 1.0179, 0.9993, 0.9812, 0.9635, 0.9462, 0.9293, 0.9129, 0.8966, 0.8807, 0.8648, 0.8489, 0.8329, 0.8167, 0.8001, 0.783, 0.7654, 0.747, 0.7279, 0.708, 0.6871, 0.6653, 0.6426, 0.619, 0.5946, 0.5695, 0.5438, 0.5175, 0.4909, 0.4641, 0.4372],
            25: [0.4855, 0.5202, 0.5548, 0.5892, 0.623, 0.6559, 0.6877, 0.7183, 0.7474, 0.7749, 0.8008, 0.825, 0.8475, 0.8684, 0.8877, 0.9055, 0.9219, 0.937, 0.951, 0.9639, 0.976, 0.9873, 0.998, 1.0083, 1.0182, 1.0279, 1.0375, 1.0472, 1.057, 1.067, 1.0773, 1.0881, 1.0993, 1.111, 1.1232, 1.1359, 1.1491, 1.1628, 1.1768, 1.1911, 1.2054, 1.2198, 1.2338, 1.2475, 1.2605, 1.2727, 1.2839, 1.2938, 1.3023, 1.3092, 1.3145, 1.318, 1.3196, 1.3193, 1.3171, 1.313, 1.307, 1.2993, 1.2899, 1.279, 1.2667, 1.2533, 1.2389, 1.2237, 1.2079, 1.1918, 1.1754, 1.159, 1.1426, 1.1265, 1.1106, 1.0951, 1.0799, 1.065, 1.0504, 1.0361, 1.0219, 1.0078, 0.9936, 0.9792, 0.9645, 0.9494, 0.9336, 0.9172, 0.8999, 0.8816, 0.8622, 0.8417, 0.82, 0.797, 0.7728, 0.7473, 0.7207, 0.6929, 0.6642, 0.6346, 0.6043, 0.5736, 0.5425, 0.5113],
            30: [0.4904, 0.5254, 0.5604, 0.5952, 0.6293, 0.6625, 0.6947, 0.7256, 0.755, 0.7828, 0.809, 0.8335, 0.8563, 0.8775, 0.897, 0.9151, 0.9317, 0.9471, 0.9613, 0.9745, 0.9868, 0.9984, 1.0094, 1.02, 1.0302, 1.0403, 1.0503, 1.0604, 1.0707, 1.0813, 1.0923, 1.1037, 1.1157, 1.1282, 1.1414, 1.1552, 1.1696, 1.1845, 1.2, 1.2157, 1.2318, 1.2478, 1.2638, 1.2794, 1.2945, 1.3089, 1.3223, 1.3345, 1.3454, 1.3548, 1.3626, 1.3686, 1.3728, 1.3751, 1.3756, 1.3742, 1.3709, 1.366, 1.3595, 1.3515, 1.3422, 1.3318, 1.3204, 1.3082, 1.2955, 1.2824, 1.2691, 1.2556, 1.2422, 1.2288, 1.2156, 1.2025, 1.1897, 1.1769, 1.1642, 1.1515, 1.1387, 1.1257, 1.1124, 1.0986, 1.0841, 1.069, 1.0529, 1.0358, 1.0175, 0.998, 0.9771, 0.9547, 0.9308, 0.9053, 0.8784, 0.8499, 0.82, 0.7887, 0.7563, 0.7229, 0.6886, 0.6537, 0.6184, 0.583],
            35: [0.4954, 0.5308, 0.5662, 0.6012, 0.6357, 0.6693, 0.7019, 0.7331, 0.7628, 0.791, 0.8174, 0.8422, 0.8653, 0.8867, 0.9065, 0.9248, 0.9417, 0.9573, 0.9718, 0.9852, 0.9978, 1.0097, 1.021, 1.0319, 1.0425, 1.053, 1.0634, 1.074, 1.0848, 1.096, 1.1076, 1.1198, 1.1326, 1.1461, 1.1603, 1.1752, 1.1909, 1.2072, 1.2241, 1.2416, 1.2594, 1.2774, 1.2955, 1.3134, 1.3309, 1.3477, 1.3638, 1.3788, 1.3925, 1.4048, 1.4156, 1.4247, 1.432, 1.4376, 1.4413, 1.4432, 1.4434, 1.4419, 1.4388, 1.4343, 1.4284, 1.4214, 1.4135, 1.4047, 1.3952, 1.3852, 1.3748, 1.3642, 1.3534, 1.3424, 1.3314, 1.3203, 1.3091, 1.2978, 1.2864, 1.2746, 1.2625, 1.2499, 1.2368, 1.2229, 1.2081, 1.1923, 1.1754, 1.1572, 1.1375, 1.1163, 1.0935, 1.0689, 1.0426, 1.0145, 0.9845, 0.9529, 0.9195, 0.8847, 0.8485, 0.8111, 0.7727, 0.7337, 0.6941, 0.6544],
            40: [0.5005, 0.5362, 0.572, 0.6074, 0.6423, 0.6763, 0.7091, 0.7407, 0.7708, 0.7992, 0.826, 0.8511, 0.8744, 0.8961, 0.9162, 0.9348, 0.9519, 0.9678, 0.9825, 0.9962, 1.0091, 1.0213, 1.0329, 1.0441, 1.0551, 1.0659, 1.0768, 1.0879, 1.0993, 1.1111, 1.1234, 1.1363, 1.15, 1.1645, 1.1798, 1.1959, 1.2129, 1.2308, 1.2494, 1.2687, 1.2885, 1.3087, 1.3291, 1.3495, 1.3696, 1.3894, 1.4084, 1.4266, 1.4436, 1.4594, 1.4737, 1.4865, 1.4976, 1.507, 1.5146, 1.5205, 1.5247, 1.5272, 1.5281, 1.5275, 1.5256, 1.5225, 1.5182, 1.5129, 1.5068, 1.4999, 1.4924, 1.4844, 1.4759, 1.4671, 1.4578, 1.4482, 1.4383, 1.4279, 1.4172, 1.4058, 1.3939, 1.3813, 1.3679, 1.3534, 1.3379, 1.3212, 1.303, 1.2833, 1.262, 1.2389, 1.2139, 1.1869, 1.1579, 1.1268, 1.0937, 1.0587, 1.0218, 0.9832, 0.943, 0.9015, 0.8589, 0.8156, 0.7717, 0.7275],
            45: [0.5057, 0.5418, 0.5779, 0.6138, 0.649, 0.6833, 0.7166, 0.7485, 0.7789, 0.8077, 0.8348, 0.8601, 0.8838, 0.9058, 0.9261, 0.9449, 0.9623, 0.9785, 0.9935, 1.0075, 1.0206, 1.0331, 1.045, 1.0566, 1.0679, 1.0792, 1.0906, 1.1022, 1.1141, 1.1266, 1.1396, 1.1534, 1.168, 1.1834, 1.1999, 1.2174, 1.2358, 1.2553, 1.2757, 1.2969, 1.3189, 1.3415, 1.3645, 1.3877, 1.4109, 1.4339, 1.4564, 1.4781, 1.499, 1.5188, 1.5372, 1.5543, 1.5698, 1.5837, 1.5959, 1.6064, 1.6152, 1.6224, 1.6279, 1.6318, 1.6342, 1.6352, 1.6349, 1.6334, 1.6307, 1.6269, 1.6223, 1.6167, 1.6104, 1.6033, 1.5955, 1.5871, 1.5781, 1.5683, 1.5578, 1.5466, 1.5345, 1.5215, 1.5075, 1.4922, 1.4757, 1.4576, 1.438, 1.4166, 1.3934, 1.3681, 1.3406, 1.311, 1.2791, 1.2449, 1.2085, 1.1698, 1.1291, 1.0865, 1.0421, 0.9963, 0.9493, 0.9014, 0.8529, 0.8041],
            50: [0.511, 0.5475, 0.584, 0.6202, 0.6558, 0.6906, 0.7242, 0.7564, 0.7872, 0.8163, 0.8437, 0.8694, 0.8933, 0.9156, 0.9362, 0.9553, 0.973, 0.9894, 1.0047, 1.0189, 1.0324, 1.0452, 1.0574, 1.0694, 1.0811, 1.0928, 1.1047, 1.1168, 1.1293, 1.1424, 1.1562, 1.1709, 1.1864, 1.203, 1.2207, 1.2395, 1.2595, 1.2807, 1.303, 1.3264, 1.3508, 1.376, 1.4019, 1.4282, 1.4548, 1.4813, 1.5077, 1.5336, 1.5588, 1.5831, 1.6064, 1.6283, 1.6489, 1.668, 1.6855, 1.7014, 1.7155, 1.728, 1.7387, 1.7476, 1.7549, 1.7605, 1.7645, 1.7668, 1.7677, 1.7672, 1.7654, 1.7622, 1.7579, 1.7525, 1.7461, 1.7386, 1.7302, 1.7208, 1.7104, 1.6991, 1.6866, 1.673, 1.6581, 1.6418, 1.624, 1.6045, 1.5832, 1.5598, 1.5344, 1.5067, 1.4766, 1.4441, 1.4091, 1.3715, 1.3314, 1.2889, 1.2441, 1.1971, 1.1483, 1.0978, 1.0461, 0.9933, 0.9398, 0.8861],
            55: [0.5164, 0.5533, 0.5902, 0.6268, 0.6628, 0.6979, 0.7319, 0.7645, 0.7956, 0.8251, 0.8529, 0.8788, 0.9031, 0.9256, 0.9465, 0.9659, 0.9839, 1.0006, 1.0161, 1.0307, 1.0444, 1.0575, 1.0701, 1.0824, 1.0946, 1.1067, 1.1191, 1.1317, 1.1449, 1.1587, 1.1733, 1.1888, 1.2054, 1.2231, 1.2421, 1.2624, 1.2841, 1.3071, 1.3315, 1.3572, 1.3841, 1.4122, 1.4412, 1.4709, 1.5012, 1.5318, 1.5625, 1.593, 1.6232, 1.6527, 1.6814, 1.709, 1.7354, 1.7605, 1.7841, 1.806, 1.8263, 1.8447, 1.8613, 1.8759, 1.8886, 1.8992, 1.9079, 1.9146, 1.9194, 1.9223, 1.9233, 1.9227, 1.9205, 1.9167, 1.9116, 1.905, 1.8972, 1.8881, 1.8777, 1.8661, 1.8531, 1.8387, 1.8228, 1.8053, 1.7861, 1.7649, 1.7417, 1.7162, 1.6884, 1.6581, 1.6251, 1.5894, 1.5509, 1.5096, 1.4655, 1.4188, 1.3695, 1.3178, 1.2641, 1.2086, 1.1516, 1.0935, 1.0347, 0.9755],
            60: [0.5219, 0.5593, 0.5966, 0.6336, 0.67, 0.7055, 0.7398, 0.7728, 0.8043, 0.8341, 0.8622, 0.8885, 0.9131, 0.9359, 0.9571, 0.9768, 0.995, 1.012, 1.0278, 1.0427, 1.0567, 1.0701, 1.0831, 1.0958, 1.1084, 1.121, 1.1338, 1.1471, 1.1609, 1.1754, 1.1908, 1.2073, 1.2249, 1.2438, 1.2642, 1.286, 1.3094, 1.3344, 1.361, 1.3892, 1.4189, 1.45, 1.4824, 1.5159, 1.5503, 1.5853, 1.6209, 1.6566, 1.6923, 1.7276, 1.7625, 1.7965, 1.8296, 1.8615, 1.892, 1.9209, 1.9481, 1.9734, 1.9967, 2.0177, 2.0365, 2.0529, 2.0669, 2.0784, 2.0875, 2.0942, 2.0986, 2.1007, 2.1008, 2.0989, 2.0951, 2.0896, 2.0824, 2.0736, 2.0632, 2.0513, 2.0377, 2.0225, 2.0056, 1.9868, 1.9659, 1.9429, 1.9176, 1.8898, 1.8594, 1.8261, 1.7899, 1.7507, 1.7084, 1.6629, 1.6144, 1.563, 1.5087, 1.4519, 1.3927, 1.3315, 1.2688, 1.2048, 1.14, 1.0748],
            65: [0.5276, 0.5653, 0.6031, 0.6405, 0.6773, 0.7132, 0.7479, 0.7813, 0.8131, 0.8433, 0.8717, 0.8984, 0.9232, 0.9464, 0.9679, 0.9878, 1.0064, 1.0236, 1.0397, 1.0549, 1.0693, 1.0831, 1.0964, 1.1094, 1.1224, 1.1355, 1.1489, 1.1627, 1.1772, 1.1925, 1.2088, 1.2262, 1.2449, 1.2651, 1.2868, 1.3103, 1.3355, 1.3626, 1.3916, 1.4224, 1.455, 1.4895, 1.5255, 1.5631, 1.602, 1.642, 1.6828, 1.7243, 1.7662, 1.8081, 1.8499, 1.8912, 1.9318, 1.9715, 2.0099, 2.0468, 2.0819, 2.1151, 2.146, 2.1745, 2.2003, 2.2233, 2.2434, 2.2605, 2.2746, 2.2858, 2.294, 2.2995, 2.3023, 2.3026, 2.3006, 2.2964, 2.2901, 2.2818, 2.2716, 2.2594, 2.2454, 2.2294, 2.2113, 2.1911, 2.1686, 2.1436, 2.1161, 2.0857, 2.0523, 2.0158, 1.976, 1.9328, 1.8862, 1.8361, 1.7827, 1.7259, 1.6661, 1.6033, 1.538, 1.4705, 1.4012, 1.3305, 1.259, 1.1871],
            70: [0.5334, 0.5715, 0.6097, 0.6475, 0.6847, 0.721, 0.7562, 0.7899, 0.8221, 0.8527, 0.8814, 0.9084, 0.9336, 0.9571, 0.9789, 0.9991, 1.018, 1.0355, 1.052, 1.0674, 1.0821, 1.0962, 1.1099, 1.1234, 1.1368, 1.1504, 1.1643, 1.1788, 1.1939, 1.21, 1.2271, 1.2456, 1.2654, 1.2869, 1.3101, 1.3353, 1.3624, 1.3917, 1.4231, 1.4568, 1.4926, 1.5305, 1.5706, 1.6125, 1.6563, 1.7016, 1.7483, 1.7962, 1.8449, 1.8942, 1.9437, 1.9932, 2.0424, 2.0908, 2.1383, 2.1843, 2.2286, 2.2709, 2.3107, 2.3477, 2.3818, 2.4126, 2.44, 2.4638, 2.484, 2.5006, 2.5136, 2.5233, 2.5296, 2.5329, 2.5332, 2.5309, 2.5259, 2.5185, 2.5088, 2.4967, 2.4824, 2.4657, 2.4466, 2.425, 2.4007, 2.3736, 2.3435, 2.3103, 2.2737, 2.2335, 2.1897, 2.142, 2.0906, 2.0352, 1.9761, 1.9133, 1.847, 1.7775, 1.7052, 1.6304, 1.5536, 1.4753, 1.396, 1.3162],
            75: [0.5393, 0.5779, 0.6165, 0.6547, 0.6924, 0.7291, 0.7646, 0.7988, 0.8314, 0.8623, 0.8914, 0.9187, 0.9443, 0.968, 0.9902, 1.0107, 1.0298, 1.0477, 1.0644, 1.0802, 1.0953, 1.1097, 1.1238, 1.1377, 1.1515, 1.1656, 1.1801, 1.1952, 1.211, 1.2279, 1.2459, 1.2654, 1.2864, 1.3093, 1.3341, 1.361, 1.3901, 1.4217, 1.4557, 1.4923, 1.5314, 1.5732, 1.6174, 1.6641, 1.7131, 1.7643, 1.8174, 1.8722, 1.9284, 1.9858, 2.044, 2.1027, 2.1615, 2.22, 2.2777, 2.3342, 2.3891, 2.4419, 2.4922, 2.5395, 2.5834, 2.6236, 2.6598, 2.6919, 2.7197, 2.7431, 2.7624, 2.7775, 2.7886, 2.7959, 2.7996, 2.8, 2.7973, 2.7915, 2.7828, 2.7713, 2.757, 2.7399, 2.7199, 2.697, 2.671, 2.6417, 2.6089, 2.5725, 2.5323, 2.488, 2.4396, 2.3868, 2.3298, 2.2683, 2.2026, 2.1328, 2.0591, 1.9817, 1.9012, 1.8179, 1.7323, 1.645, 1.5567, 1.4678],
            80: [0.5453, 0.5843, 0.6234, 0.6621, 0.7002, 0.7373, 0.7733, 0.8078, 0.8408, 0.8721, 0.9016, 0.9292, 0.9551, 0.9792, 1.0017, 1.0225, 1.042, 1.0601, 1.0772, 1.0933, 1.1087, 1.1235, 1.1379, 1.1522, 1.1666, 1.1811, 1.1962, 1.2119, 1.2285, 1.2462, 1.2652, 1.2857, 1.3079, 1.3322, 1.3585, 1.3873, 1.4185, 1.4524, 1.4892, 1.5289, 1.5715, 1.6173, 1.666, 1.7177, 1.7723, 1.8298, 1.8898, 1.9521, 2.0167, 2.083, 2.1508, 2.2197, 2.2893, 2.3591, 2.4286, 2.4972, 2.5644, 2.6296, 2.6922, 2.7517, 2.8075, 2.8592, 2.9065, 2.949, 2.9865, 3.019, 3.0464, 3.0689, 3.0867, 3.0998, 3.1085, 3.1132, 3.1139, 3.1108, 3.1042, 3.0941, 3.0806, 3.0637, 3.0433, 3.0193, 2.9917, 2.9602, 2.9246, 2.8847, 2.8404, 2.7915, 2.7378, 2.6791, 2.6155, 2.5469, 2.4735, 2.3953, 2.3127, 2.226, 2.1357, 2.0423, 1.9462, 1.8483, 1.7491, 1.6492],
            85: [0.5515, 0.591, 0.6304, 0.6696, 0.7081, 0.7457, 0.7821, 0.8171, 0.8504, 0.8821, 0.912, 0.94, 0.9662, 0.9907, 1.0134, 1.0346, 1.0544, 1.0728, 1.0902, 1.1067, 1.1224, 1.1375, 1.1524, 1.1671, 1.1819, 1.197, 1.2126, 1.229, 1.2463, 1.2648, 1.2848, 1.3064, 1.3299, 1.3555, 1.3836, 1.4142, 1.4476, 1.484, 1.5235, 1.5664, 1.6128, 1.6627, 1.7161, 1.7732, 1.8338, 1.8978, 1.9653, 2.0358, 2.1093, 2.1854, 2.2638, 2.3441, 2.4258, 2.5083, 2.5911, 2.6736, 2.7551, 2.8349, 2.9122, 2.9864, 3.0568, 3.1229, 3.1841, 3.24, 3.2903, 3.3348, 3.3735, 3.4064, 3.4335, 3.4551, 3.4714, 3.4826, 3.4889, 3.4906, 3.4878, 3.4806, 3.4691, 3.4534, 3.4334, 3.409, 3.3801, 3.3465, 3.3081, 3.2646, 3.2158, 3.1615, 3.1017, 3.0361, 2.9648, 2.8876, 2.8049, 2.7167, 2.6234, 2.5254, 2.4232, 2.3173, 2.2086, 2.0975, 1.9851, 1.8719],
            90: [0.5578, 0.5977, 0.6377, 0.6773, 0.7163, 0.7543, 0.7911, 0.8265, 0.8603, 0.8924, 0.9226, 0.951, 0.9776, 1.0023, 1.0254, 1.0469, 1.067, 1.0858, 1.1035, 1.1203, 1.1364, 1.1519, 1.1672, 1.1823, 1.1976, 1.2132, 1.2294, 1.2464, 1.2645, 1.2839, 1.3048, 1.3275, 1.3523, 1.3794, 1.4091, 1.4416, 1.4772, 1.5162, 1.5586, 1.6049, 1.655, 1.7092, 1.7676, 1.8302, 1.8971, 1.9682, 2.0435, 2.1228, 2.206, 2.2927, 2.3826, 2.4753, 2.5704, 2.6672, 2.7652, 2.8636, 2.9616, 3.0585, 3.1534, 3.2455, 3.3339, 3.418, 3.497, 3.5704, 3.6377, 3.6986, 3.7529, 3.8004, 3.8413, 3.8756, 3.9034, 3.9249, 3.9404, 3.95, 3.9539, 3.9523, 3.9452, 3.9326, 3.9146, 3.891, 3.8618, 3.8268, 3.7857, 3.7385, 3.6849, 3.6247, 3.5577, 3.4839, 3.4033, 3.3158, 3.2217, 3.1211, 3.0146, 2.9025, 2.7854, 2.6641, 2.5394, 2.412, 2.2829, 2.1528],
            95: [0.5643, 0.6047, 0.6451, 0.6852, 0.7246, 0.7631, 0.8003, 0.8362, 0.8704, 0.9028, 0.9335, 0.9622, 0.9892, 1.0143, 1.0377, 1.0596, 1.08, 1.0991, 1.1171, 1.1342, 1.1507, 1.1666, 1.1822, 1.1978, 1.2136, 1.2297, 1.2465, 1.2642, 1.283, 1.3033, 1.3252, 1.349, 1.3751, 1.4037, 1.4351, 1.4696, 1.5074, 1.5489, 1.5944, 1.644, 1.6981, 1.7568, 1.8202, 1.8886, 1.962, 2.0405, 2.1241, 2.2126, 2.306, 2.404, 2.5063, 2.6126, 2.7224, 2.8351, 2.95, 3.0664, 3.1836, 3.3005, 3.4163, 3.53, 3.6406, 3.7473, 3.8492, 3.9456, 4.0357, 4.1191, 4.1953, 4.264, 4.3251, 4.3786, 4.4243, 4.4624, 4.4929, 4.5161, 4.5319, 4.5405, 4.5419, 4.5362, 4.5234, 4.5033, 4.4759, 4.441, 4.3984, 4.348, 4.2895, 4.2228, 4.1477, 4.0642, 3.9723, 3.8721, 3.7637, 3.6476, 3.5242, 3.3941, 3.258, 3.1168, 2.9714, 2.8228, 2.672, 2.5201],
            100: [0.5703, 0.6112, 0.652, 0.6926, 0.7324, 0.7713, 0.809, 0.8453, 0.8799, 0.9127, 0.9437, 0.9728, 1.0001, 1.0255, 1.0493, 1.0714, 1.0921, 1.1115, 1.1299, 1.1473, 1.1641, 1.1803, 1.1964, 1.2124, 1.2286, 1.2452, 1.2626, 1.2809, 1.3004, 1.3214, 1.3442, 1.3691, 1.3964, 1.4263, 1.4593, 1.4956, 1.5356, 1.5795, 1.6277, 1.6805, 1.7382, 1.8011, 1.8693, 1.9431, 2.0227, 2.1082, 2.1996, 2.2969, 2.4002, 2.5091, 2.6235, 2.7432, 2.8675, 2.996, 3.1282, 3.2632, 3.4001, 3.5383, 3.6765, 3.8139, 3.9493, 4.0818, 4.2104, 4.3342, 4.4522, 4.5637, 4.668, 4.7646, 4.8531, 4.9331, 5.0043, 5.0666, 5.1198, 5.1639, 5.1988, 5.2244, 5.2407, 5.2477, 5.2453, 5.2333, 5.2117, 5.1802, 5.1387, 5.087, 5.025, 4.9524, 4.8693, 4.7755, 4.6711, 4.5564, 4.4315, 4.2971, 4.1536, 4.0019, 3.8427, 3.6773, 3.5067, 3.3321, 3.1547, 2.9759]
        };

    function getClosestLevel(level, positions) {
        const availableLevels = Object.keys(positions).map(Number);
        let closestLevel = availableLevels[0];
        for (let i = 1; i < availableLevels.length; i++) {
            if (Math.abs(level - availableLevels[i]) < Math.abs(level - closestLevel)) {
                closestLevel = availableLevels[i];
            }
        }
        return closestLevel;
    }

    // Helper function to convert to dB
    function convertToDb(magnitudeArray) {
        return magnitudeArray.map(value => 20 * Math.log10(value));
    }

    // Convert all position datasets to dB
    [drivePositions, volumePositions, tonePositions].forEach((positions) => {
        Object.keys(positions).forEach((key) => {
            positions[key] = convertToDb(positions[key]);
        });
    });

function renderGraph(drive, volume, tone) {
    Plotly.newPlot('graph', [
        { x: frequency, y: drivePositions[drive], type: 'scatter', mode: 'lines', name: `Drive @ ${drive}%` },
        { x: frequency, y: volumePositions[volume], type: 'scatter', mode: 'lines', name: `Volume @ ${volume}%` },
        { x: frequency, y: tonePositions[tone], type: 'scatter', mode: 'lines', name: `Tone @ ${tone}%` }
    ], {
        title: {
            text: `<a href='https://rhpfelectronics.com/rhpf-electronics-handmade-guitar-pedals-in-switzerland/rhpf-nerd-lab/' target='_blank'>RhPf Electronics</a> - Marshall Bluesbreaker - Drive: ${drive}% | Volume: ${volume}% | Tone: ${tone}%`,
            font: {
                size: 8 // Adjust title font size here
            }
        },
        xaxis: {
            title: {
                text: 'Frequency (Hz)',
                font: { size: 8 } // Adjust x-axis title font size if needed
            },
            type: 'log',
            tickvals: [20, 32, 64, 128, 256, 512, 1000, 2000, 4000, 8000, 16000, 20000],
            ticktext: ["20", "32", "64", "128", "256", "512", "1k", "2k", "4k", "8k", "16k", "20k"]
        },
        yaxis: {
            title: {
                text: 'Gain (dB)',
                font: { size: 8 } // Adjust y-axis title font size if needed
            },
            range: [-40, 30] // Fixed Y-axis range
        },
        legend: {
            font: {
                size: 8 // Adjust legend font size here
            }
        }
    });
}

    function updatePointer(pointerId, angle) {
        const pointer = document.getElementById(pointerId);
        pointer.setAttribute('transform', `rotate(${angle} 0 0)`);
    }

    const knobs = {
        drive: { element: document.getElementById('knob-drive'), pointerId: 'drive-pointer', angle: 0, positions: drivePositions },
        volume: { element: document.getElementById('knob-volume'), pointerId: 'volume-pointer', angle: 0, positions: volumePositions },
        tone: { element: document.getElementById('knob-tone'), pointerId: 'tone-pointer', angle: 0, positions: tonePositions },
    };

    function updateKnob(knob, delta, pointerId, positions, setAngle) {
        knob.angle += delta;
        knob.angle = Math.max(-135, Math.min(135, knob.angle)); // Clamp angle
        const value = Math.round(((knob.angle + 135) / 270) * 100);
        setAngle(knob.angle);
        updatePointer(pointerId, knob.angle);

        // Update graph with all knob values
        const levels = Object.keys(knobs).reduce((acc, key) => {
            acc[key] = getClosestLevel(
                Math.round(((knobs[key].angle + 135) / 270) * 100),
                knobs[key].positions
            );
            return acc;
        }, {});

        renderGraph(levels.drive, levels.volume, levels.tone);
    }

function addKnobListeners(knobKey) {
    const knob = knobs[knobKey];
    const { element, pointerId, positions } = knob;

    const startEvent = (event) => {
        const isTouch = event.type === "touchstart";
        const clientX = isTouch ? event.touches[0].clientX : event.clientX;
        const clientY = isTouch ? event.touches[0].clientY : event.clientY;

        const rect = element.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
	document.body.style.overflow = 'hidden';

const moveEvent = (e) => {
    const moveClientX = isTouch ? e.touches[0].clientX : e.clientX;
    const moveClientY = isTouch ? e.touches[0].clientY : e.clientY;
    const dx = moveClientX - cx;
    const dy = moveClientY - cy;

    let angle = Math.atan2(dy, dx) * (180 / Math.PI);
    angle = (angle + 360) % 360;

    if (angle >= 134 || angle <= 46) {
        if (angle <= 46) angle += 360;

        let newKnobAngle = angle - 135; // normalized 0270
        newKnobAngle = Math.max(0, Math.min(272, newKnobAngle)); // allow slight overshoot

        // Snap to exact min/max
        if (newKnobAngle < 2) newKnobAngle = 0;
        if (newKnobAngle > 268) newKnobAngle = 270;

        const desiredAngle = newKnobAngle - 135; // -135 to +135
        const delta = desiredAngle - knob.angle;
        updateKnob(knob, delta, pointerId, positions, (a) => (knob.angle = a));
    }
};



        const endEvent = () => {
            document.removeEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
            document.removeEventListener(isTouch ? "touchend" : "mouseup", endEvent);
        };

        document.addEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
        document.addEventListener(isTouch ? "touchend" : "mouseup", endEvent);
    };

    // Add event listeners for mouse and touch
    element.addEventListener("mousedown", startEvent);
    element.addEventListener("touchstart", startEvent, { passive: false }); // Passive false to prevent scrolling

    // Scroll wheel functionality
    element.addEventListener("wheel", (event) => {
        event.preventDefault();
        const delta = event.deltaY > 0 ? -5 : 5; // Scroll direction adjusts knob
        const deltaAngle = delta * (270 / 100); // Map delta to angle
        updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
    });
}

// Add event listeners to all knobs
Object.keys(knobs).forEach(addKnobListeners);

// Initialize pointers
Object.keys(knobs).forEach((key) => {
    updatePointer(knobs[key].pointerId, knobs[key].angle);
});

    // Initialize graph
    renderGraph(50, 50, 50);
</script>
</body>
</html>
