<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RhPf Electronics Shodhana Analysis Interactive Individual</title>
    <meta name="description" content="Interactive analysis tool for the Shodhana.">
    <meta name="author" content="RhPf Electronics">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        if (!window.Plotly) {
            document.write('<script src="/path-to-local-plotly/plotly-latest.min.js"><\/script>');
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: row; /* Stack pedal and graph horizontally */
            justify-content: left;
            align-items: top;
            margin: 0;
            height: auto;
        }

        #pedal-container {
            width: 100%; /* Scale pedal container to fit the viewport */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #pedal-svg {
            width: 100%; /* Make the SVG scale with the container */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #graph {
            width: 100%; /* Take up most of the width */
            height: 100vh; /* Dynamically scale height relative to the viewport */
            margin: 0; /* Add some spacing between graph and pedal */
        }

    </style>
</head>
<body>
    <!-- Pedal with Knobs -->
    <div id="pedal-container">
        <svg id="pedal-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1884 3600">
            <!-- Background Image -->
            <image href="https://thomasbe86.github.io/plotly-plot/Shodhana.png" x="0" y="0" width="1884" height="3600" />
<g id="knob-Drive" transform="translate(345, 655)">
    <circle cx="0" cy="0" r="170" fill="#FFF0CA" stroke="none" stroke-width="3" />
    <line id="Drive-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-Level" transform="translate(1540, 655)">
    <circle cx="0" cy="0" r="170" fill="#FFF0CA" stroke="none" stroke-width="3" />
    <line id="Level-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>
        </svg>
    </div>

    <!-- Graph -->
    <div id="graph"></div>

    <script>
        // Ensure Plotly resizes with window changes
        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('graph'));
        });
    </script>

    <script>
        // Frequency Data
        const frequency = [
            20, 21.44, 22.97, 24.62, 26.39, 28.28, 30.31, 32.49, 34.82, 37.32, 40,
            42.87, 45.95, 49.25, 52.78, 56.57, 60.63, 64.98, 69.64, 74.64, 80,
            85.74, 91.89, 98.49, 105.56, 113.13, 121.25, 129.96, 139.28, 149.29, 160,
            171.48, 183.79, 196.98, 211.12, 226.27, 242.51, 259.92, 278.58, 298.57,
            320, 342.97, 367.58, 393.97, 422.24, 452.55, 485.03, 519.84, 557.15,
            597.14, 640, 685.93, 735.17, 787.93, 844.49, 905.1, 970.06, 1039.68,
            1114.3, 1194.28, 1280, 1371.87, 1470.33, 1575.86, 1688.97, 1810.19,
            1940.12, 2079.37, 2228.61, 2388.56, 2560, 2743.74, 2940.67, 3151.73,
            3377.94, 3620.39, 3880.23, 4158.73, 4457.22, 4777.13, 5120, 5487.48,
            5881.34, 6303.46, 6755.88, 7240.77, 7760.47, 8317.46, 8914.44, 9554.26,
            10240, 10974.96, 11762.67, 12606.92, 13511.76, 14481.55, 15520.94,
            16634.93, 17828.88, 19108.52
        ];

        const DrivePositions = {
            0: [0.0099, 0.0109, 0.0121, 0.0133, 0.0147, 0.0162, 0.0177, 0.0195, 0.0213, 0.0233, 0.0255, 0.0278, 0.0303, 0.033, 0.0359, 0.039, 0.0423, 0.0459, 0.0497, 0.0537, 0.0581, 0.0627, 0.0675, 0.0727, 0.0782, 0.084, 0.0902, 0.0966, 0.1034, 0.1106, 0.1181, 0.126, 0.1343, 0.1429, 0.1519, 0.1613, 0.1711, 0.1811, 0.1916, 0.2024, 0.2135, 0.2249, 0.2366, 0.2485, 0.2606, 0.2729, 0.2853, 0.2977, 0.31, 0.3221, 0.3339, 0.3451, 0.3558, 0.3655, 0.3743, 0.3818, 0.388, 0.3927, 0.3959, 0.3976, 0.3977, 0.3963, 0.3936, 0.3897, 0.3846, 0.3785, 0.3716, 0.364, 0.3556, 0.3467, 0.3372, 0.3271, 0.3166, 0.3056, 0.2942, 0.2823, 0.27, 0.2573, 0.2442, 0.2309, 0.2173, 0.2036, 0.1899, 0.1762, 0.1626, 0.1494, 0.1365, 0.124, 0.1122, 0.101, 0.0905, 0.0807, 0.0717, 0.0635, 0.056, 0.0493, 0.0433, 0.0379, 0.0332, 0.0289],
            5: [0.0102, 0.0114, 0.0126, 0.014, 0.0155, 0.0172, 0.0189, 0.0209, 0.023, 0.0253, 0.0278, 0.0305, 0.0335, 0.0367, 0.0401, 0.0438, 0.0478, 0.052, 0.0566, 0.0615, 0.0667, 0.0722, 0.0781, 0.0843, 0.0909, 0.0979, 0.1052, 0.113, 0.1212, 0.1298, 0.1388, 0.1482, 0.1581, 0.1684, 0.1792, 0.1904, 0.202, 0.214, 0.2264, 0.2393, 0.2525, 0.266, 0.2799, 0.2941, 0.3085, 0.3231, 0.3377, 0.3524, 0.367, 0.3813, 0.3952, 0.4085, 0.421, 0.4324, 0.4427, 0.4514, 0.4586, 0.464, 0.4675, 0.4692, 0.469, 0.4671, 0.4634, 0.4583, 0.4518, 0.4441, 0.4354, 0.4257, 0.4151, 0.4038, 0.3918, 0.3791, 0.3659, 0.352, 0.3376, 0.3227, 0.3073, 0.2915, 0.2753, 0.2589, 0.2423, 0.2256, 0.2091, 0.1927, 0.1767, 0.1612, 0.1463, 0.1321, 0.1187, 0.1061, 0.0945, 0.0838, 0.074, 0.0652, 0.0573, 0.0502, 0.0438, 0.0383, 0.0333, 0.029],
            10: [0.0107, 0.012, 0.0134, 0.0149, 0.0166, 0.0185, 0.0205, 0.0227, 0.0252, 0.0279, 0.0308, 0.034, 0.0375, 0.0413, 0.0454, 0.0498, 0.0545, 0.0597, 0.0651, 0.071, 0.0772, 0.0838, 0.0909, 0.0983, 0.1062, 0.1146, 0.1234, 0.1327, 0.1425, 0.1527, 0.1635, 0.1748, 0.1865, 0.1988, 0.2116, 0.225, 0.2388, 0.2531, 0.2679, 0.2831, 0.2988, 0.3149, 0.3314, 0.3482, 0.3652, 0.3825, 0.3999, 0.4172, 0.4344, 0.4513, 0.4676, 0.4833, 0.4979, 0.5113, 0.5231, 0.5333, 0.5414, 0.5474, 0.5512, 0.5527, 0.552, 0.5491, 0.5441, 0.5373, 0.5289, 0.5189, 0.5077, 0.4952, 0.4817, 0.4673, 0.4519, 0.4358, 0.419, 0.4014, 0.3832, 0.3645, 0.3453, 0.3257, 0.3059, 0.2859, 0.2659, 0.246, 0.2265, 0.2074, 0.1889, 0.1712, 0.1544, 0.1385, 0.1237, 0.11, 0.0974, 0.086, 0.0756, 0.0663, 0.058, 0.0506, 0.0441, 0.0384, 0.0334, 0.029],
            15: [0.0115, 0.0129, 0.0145, 0.0163, 0.0183, 0.0204, 0.0228, 0.0255, 0.0284, 0.0317, 0.0352, 0.0391, 0.0433, 0.0479, 0.0529, 0.0583, 0.0641, 0.0704, 0.0771, 0.0843, 0.0919, 0.1, 0.1087, 0.1178, 0.1275, 0.1377, 0.1485, 0.1599, 0.1718, 0.1843, 0.1975, 0.2112, 0.2256, 0.2406, 0.2562, 0.2724, 0.2892, 0.3066, 0.3246, 0.3431, 0.3622, 0.3817, 0.4017, 0.422, 0.4427, 0.4635, 0.4845, 0.5054, 0.5261, 0.5464, 0.566, 0.5846, 0.602, 0.6178, 0.6317, 0.6434, 0.6526, 0.6592, 0.6629, 0.6638, 0.6619, 0.6572, 0.65, 0.6404, 0.6288, 0.6152, 0.5999, 0.5832, 0.5651, 0.5458, 0.5255, 0.5042, 0.4821, 0.4592, 0.4357, 0.4118, 0.3874, 0.3629, 0.3383, 0.3139, 0.2897, 0.2661, 0.2432, 0.2211, 0.2, 0.1801, 0.1613, 0.1439, 0.1278, 0.113, 0.0996, 0.0875, 0.0767, 0.067, 0.0584, 0.0508, 0.0442, 0.0384, 0.0333, 0.0289],
            20: [0.0127, 0.0144, 0.0163, 0.0185, 0.0208, 0.0235, 0.0265, 0.0298, 0.0334, 0.0374, 0.0418, 0.0467, 0.052, 0.0578, 0.0641, 0.0709, 0.0782, 0.0861, 0.0945, 0.1035, 0.1132, 0.1234, 0.1343, 0.1458, 0.158, 0.1709, 0.1844, 0.1987, 0.2137, 0.2295, 0.246, 0.2632, 0.2813, 0.3, 0.3196, 0.3399, 0.3609, 0.3827, 0.4052, 0.4283, 0.4521, 0.4764, 0.5013, 0.5266, 0.5522, 0.5781, 0.604, 0.6298, 0.6552, 0.68, 0.7039, 0.7265, 0.7474, 0.7661, 0.7824, 0.7957, 0.8058, 0.8124, 0.8153, 0.8145, 0.8099, 0.8018, 0.7904, 0.7759, 0.7587, 0.739, 0.7171, 0.6933, 0.6679, 0.6411, 0.6131, 0.5841, 0.5544, 0.524, 0.4932, 0.4623, 0.4313, 0.4006, 0.3704, 0.3408, 0.3121, 0.2844, 0.258, 0.2329, 0.2093, 0.1872, 0.1668, 0.148, 0.1308, 0.1152, 0.1011, 0.0885, 0.0773, 0.0673, 0.0585, 0.0508, 0.0441, 0.0382, 0.0331, 0.0287],
            25: [0.0146, 0.0167, 0.0191, 0.0218, 0.0248, 0.0282, 0.0319, 0.0361, 0.0407, 0.0459, 0.0516, 0.0578, 0.0646, 0.0721, 0.0801, 0.0889, 0.0983, 0.1085, 0.1194, 0.131, 0.1434, 0.1566, 0.1706, 0.1855, 0.2012, 0.2177, 0.2352, 0.2535, 0.2728, 0.293, 0.3142, 0.3363, 0.3594, 0.3835, 0.4085, 0.4345, 0.4614, 0.4892, 0.5179, 0.5474, 0.5776, 0.6085, 0.64, 0.672, 0.7044, 0.7369, 0.7694, 0.8015, 0.8331, 0.8636, 0.8928, 0.92, 0.9449, 0.9668, 0.9851, 0.9994, 1.0093, 1.0144, 1.0144, 1.0095, 0.9995, 0.9849, 0.9658, 0.9427, 0.9161, 0.8864, 0.854, 0.8195, 0.7832, 0.7455, 0.7068, 0.6674, 0.6277, 0.5879, 0.5484, 0.5093, 0.4711, 0.4338, 0.3978, 0.3631, 0.3301, 0.2987, 0.2692, 0.2415, 0.2158, 0.1921, 0.1703, 0.1505, 0.1325, 0.1163, 0.1018, 0.0889, 0.0774, 0.0673, 0.0584, 0.0507, 0.0439, 0.038, 0.0329, 0.0285],
            30: [0.0179, 0.0207, 0.0238, 0.0273, 0.0313, 0.0357, 0.0407, 0.0463, 0.0525, 0.0594, 0.067, 0.0753, 0.0845, 0.0945, 0.1053, 0.1171, 0.1298, 0.1434, 0.158, 0.1736, 0.1903, 0.208, 0.2268, 0.2467, 0.2677, 0.2899, 0.3132, 0.3378, 0.3636, 0.3906, 0.4189, 0.4485, 0.4793, 0.5113, 0.5446, 0.5792, 0.6149, 0.6517, 0.6896, 0.7285, 0.7682, 0.8088, 0.8499, 0.8915, 0.9333, 0.9751, 1.0165, 1.0572, 1.0966, 1.1343, 1.1695, 1.2018, 1.2302, 1.2541, 1.2727, 1.2853, 1.2915, 1.2908, 1.2831, 1.2683, 1.2468, 1.2191, 1.1856, 1.1471, 1.1045, 1.0583, 1.0095, 0.9588, 0.9068, 0.8542, 0.8014, 0.7489, 0.6972, 0.6466, 0.5974, 0.5499, 0.5042, 0.4606, 0.4192, 0.3801, 0.3433, 0.3089, 0.2768, 0.2472, 0.22, 0.1951, 0.1724, 0.1518, 0.1333, 0.1167, 0.1019, 0.0888, 0.0773, 0.0671, 0.0582, 0.0504, 0.0436, 0.0377, 0.0327, 0.0283],
            35: [0.0228, 0.0264, 0.0305, 0.0353, 0.0406, 0.0465, 0.0533, 0.0608, 0.0691, 0.0784, 0.0886, 0.0999, 0.1122, 0.1257, 0.1403, 0.1562, 0.1733, 0.1917, 0.2114, 0.2324, 0.2549, 0.2787, 0.304, 0.3308, 0.3591, 0.3889, 0.4203, 0.4532, 0.4878, 0.5241, 0.5619, 0.6014, 0.6426, 0.6853, 0.7296, 0.7755, 0.8227, 0.8713, 0.9211, 0.9721, 1.0239, 1.0764, 1.1293, 1.1824, 1.2353, 1.2874, 1.3385, 1.3877, 1.4345, 1.478, 1.5174, 1.5518, 1.5801, 1.6014, 1.6148, 1.6195, 1.6151, 1.6013, 1.5781, 1.5458, 1.5052, 1.4572, 1.4027, 1.3431, 1.2795, 1.2131, 1.145, 1.0762, 1.0076, 0.9398, 0.8735, 0.809, 0.7469, 0.6872, 0.6303, 0.5763, 0.5252, 0.477, 0.4319, 0.3898, 0.3506, 0.3143, 0.2808, 0.25, 0.2218, 0.1962, 0.1731, 0.1521, 0.1334, 0.1166, 0.1017, 0.0886, 0.077, 0.0668, 0.0579, 0.0501, 0.0434, 0.0375, 0.0324, 0.0281],
            40: [0.0292, 0.034, 0.0394, 0.0457, 0.0527, 0.0606, 0.0695, 0.0794, 0.0905, 0.1028, 0.1164, 0.1313, 0.1477, 0.1656, 0.185, 0.206, 0.2287, 0.2531, 0.2792, 0.3071, 0.3368, 0.3684, 0.4018, 0.4373, 0.4746, 0.514, 0.5554, 0.5989, 0.6444, 0.692, 0.7417, 0.7934, 0.8471, 0.9028, 0.9603, 1.0196, 1.0805, 1.1427, 1.2062, 1.2706, 1.3355, 1.4008, 1.4658, 1.5301, 1.5932, 1.6542, 1.7126, 1.7674, 1.8176, 1.8622, 1.9, 1.93, 1.951, 1.962, 1.9622, 1.9509, 1.9279, 1.8934, 1.8479, 1.7923, 1.7278, 1.656, 1.5784, 1.4966, 1.4123, 1.3269, 1.2415, 1.1574, 1.0752, 0.9956, 0.9191, 0.846, 0.7766, 0.7109, 0.649, 0.5908, 0.5364, 0.4856, 0.4383, 0.3945, 0.354, 0.3166, 0.2824, 0.251, 0.2224, 0.1965, 0.1731, 0.152, 0.1332, 0.1164, 0.1015, 0.0883, 0.0767, 0.0665, 0.0576, 0.0499, 0.0431, 0.0373, 0.0323, 0.0279],
            45: [0.0376, 0.0439, 0.0511, 0.0592, 0.0684, 0.0788, 0.0905, 0.1036, 0.1181, 0.1343, 0.1521, 0.1718, 0.1933, 0.2167, 0.2422, 0.2699, 0.2996, 0.3316, 0.3659, 0.4025, 0.4414, 0.4828, 0.5266, 0.5728, 0.6216, 0.6729, 0.7268, 0.7833, 0.8423, 0.9039, 0.968, 1.0345, 1.1033, 1.1742, 1.2472, 1.3218, 1.398, 1.4752, 1.5532, 1.6313, 1.7092, 1.7862, 1.8615, 1.9344, 2.0041, 2.0695, 2.1297, 2.1835, 2.2297, 2.2672, 2.2949, 2.3114, 2.316, 2.3078, 2.2863, 2.2515, 2.2036, 2.1433, 2.0719, 1.9908, 1.9018, 1.8069, 1.7079, 1.6066, 1.5049, 1.4041, 1.3053, 1.2096, 1.1177, 1.0298, 0.9465, 0.8678, 0.7937, 0.7242, 0.6592, 0.5986, 0.5422, 0.4899, 0.4414, 0.3967, 0.3554, 0.3175, 0.2829, 0.2512, 0.2225, 0.1964, 0.1729, 0.1518, 0.1329, 0.1161, 0.1012, 0.088, 0.0764, 0.0663, 0.0574, 0.0497, 0.043, 0.0372, 0.0321, 0.0278],
            50: [0.0489, 0.0572, 0.0666, 0.0773, 0.0895, 0.1032, 0.1185, 0.1357, 0.1549, 0.1761, 0.1996, 0.2254, 0.2537, 0.2846, 0.3181, 0.3544, 0.3934, 0.4354, 0.4803, 0.5282, 0.5792, 0.6332, 0.6904, 0.7506, 0.8141, 0.8807, 0.9504, 1.0232, 1.0991, 1.1779, 1.2594, 1.3436, 1.4302, 1.5187, 1.609, 1.7004, 1.7925, 1.8847, 1.9763, 2.0664, 2.1542, 2.2388, 2.3192, 2.3943, 2.463, 2.5242, 2.5767, 2.6194, 2.6512, 2.6711, 2.6781, 2.6715, 2.6509, 2.616, 2.567, 2.5042, 2.4287, 2.3416, 2.2447, 2.1398, 2.029, 1.9143, 1.7978, 1.6813, 1.5663, 1.4542, 1.346, 1.2423, 1.1437, 1.0504, 0.9626, 0.8803, 0.8033, 0.7315, 0.6647, 0.6026, 0.5451, 0.4919, 0.4428, 0.3975, 0.3559, 0.3178, 0.2829, 0.2511, 0.2222, 0.1961, 0.1726, 0.1515, 0.1326, 0.1158, 0.1009, 0.0877, 0.0762, 0.0661, 0.0572, 0.0495, 0.0428, 0.037, 0.032, 0.0277],
            55: [0.0621, 0.0727, 0.0847, 0.0985, 0.114, 0.1314, 0.1511, 0.173, 0.1975, 0.2246, 0.2546, 0.2875, 0.3236, 0.3629, 0.4056, 0.4518, 0.5015, 0.5548, 0.6118, 0.6725, 0.737, 0.8052, 0.8773, 0.953, 1.0326, 1.1157, 1.2025, 1.2927, 1.3862, 1.4828, 1.582, 1.6836, 1.787, 1.8917, 1.9971, 2.1024, 2.2067, 2.309, 2.4085, 2.504, 2.5943, 2.6783, 2.7548, 2.8227, 2.8809, 2.9284, 2.9642, 2.9875, 2.9976, 2.994, 2.9761, 2.9439, 2.8974, 2.8367, 2.7626, 2.6759, 2.5777, 2.4698, 2.3539, 2.2319, 2.106, 1.9782, 1.8503, 1.7241, 1.6009, 1.482, 1.3681, 1.2598, 1.1574, 1.0611, 0.9708, 0.8865, 0.808, 0.735, 0.6672, 0.6044, 0.5463, 0.4927, 0.4432, 0.3977, 0.3559, 0.3177, 0.2827, 0.2509, 0.222, 0.1959, 0.1723, 0.1512, 0.1323, 0.1156, 0.1007, 0.0876, 0.076, 0.0659, 0.0571, 0.0494, 0.0427, 0.037, 0.032, 0.0276],
            60: [0.0795, 0.0931, 0.1085, 0.1261, 0.146, 0.1685, 0.1936, 0.2218, 0.2532, 0.2879, 0.3263, 0.3684, 0.4146, 0.4648, 0.5193, 0.5781, 0.6414, 0.7092, 0.7815, 0.8584, 0.9398, 1.0257, 1.116, 1.2107, 1.3096, 1.4125, 1.5191, 1.6292, 1.7423, 1.8579, 1.9755, 2.0944, 2.2137, 2.3325, 2.4498, 2.5645, 2.6753, 2.7811, 2.8805, 2.9723, 3.0553, 3.1283, 3.1904, 3.2407, 3.2784, 3.303, 3.314, 3.3112, 3.2943, 3.2634, 3.2186, 3.1602, 3.0884, 3.004, 2.9077, 2.8005, 2.684, 2.5595, 2.429, 2.2943, 2.1573, 2.0201, 1.8843, 1.7514, 1.6227, 1.4993, 1.3817, 1.2703, 1.1655, 1.0673, 0.9755, 0.89, 0.8105, 0.7368, 0.6684, 0.6052, 0.5468, 0.4929, 0.4432, 0.3976, 0.3557, 0.3174, 0.2824, 0.2506, 0.2217, 0.1956, 0.1721, 0.151, 0.1321, 0.1154, 0.1005, 0.0874, 0.0759, 0.0658, 0.057, 0.0493, 0.0427, 0.0369, 0.0319, 0.0276],
            65: [0.0999, 0.117, 0.1365, 0.1586, 0.1837, 0.2119, 0.2435, 0.2789, 0.3183, 0.3619, 0.41, 0.4628, 0.5205, 0.5833, 0.6513, 0.7246, 0.8033, 0.8873, 0.9767, 1.0715, 1.1714, 1.2764, 1.3863, 1.5008, 1.6195, 1.7422, 1.8682, 1.9969, 2.1277, 2.2597, 2.392, 2.5234, 2.6528, 2.779, 2.9005, 3.016, 3.1242, 3.2236, 3.3131, 3.3916, 3.4581, 3.5119, 3.5524, 3.5792, 3.5921, 3.5912, 3.5765, 3.5481, 3.5065, 3.4519, 3.3846, 3.3052, 3.2141, 3.112, 2.9998, 2.8785, 2.7495, 2.6141, 2.474, 2.3312, 2.1874, 2.0443, 1.9037, 1.7668, 1.6349, 1.5088, 1.389, 1.276, 1.1698, 1.0705, 0.9779, 0.8917, 0.8117, 0.7375, 0.6689, 0.6054, 0.5468, 0.4928, 0.4431, 0.3974, 0.3555, 0.3172, 0.2822, 0.2503, 0.2215, 0.1954, 0.1719, 0.1508, 0.132, 0.1152, 0.1004, 0.0873, 0.0758, 0.0657, 0.0569, 0.0492, 0.0426, 0.0368, 0.0319, 0.0276],
            70: [0.1238, 0.1449, 0.1691, 0.1964, 0.2274, 0.2623, 0.3014, 0.3451, 0.3936, 0.4474, 0.5066, 0.5715, 0.6423, 0.7192, 0.8023, 0.8917, 0.9873, 1.0891, 1.1971, 1.3109, 1.4303, 1.555, 1.6847, 1.8187, 1.9564, 2.0972, 2.2402, 2.3844, 2.5287, 2.6719, 2.8128, 2.9498, 3.0817, 3.2068, 3.3237, 3.4312, 3.5278, 3.6126, 3.6846, 3.7432, 3.7879, 3.8185, 3.8349, 3.8374, 3.8261, 3.8016, 3.7642, 3.7144, 3.6527, 3.5795, 3.4952, 3.4004, 3.2955, 3.1811, 3.0581, 2.9273, 2.7899, 2.6474, 2.5014, 2.3534, 2.2053, 2.0586, 1.915, 1.7758, 1.6419, 1.5141, 1.3931, 1.2791, 1.1721, 1.0721, 0.979, 0.8924, 0.8121, 0.7378, 0.669, 0.6054, 0.5467, 0.4927, 0.4429, 0.3972, 0.3553, 0.317, 0.282, 0.2501, 0.2213, 0.1952, 0.1717, 0.1506, 0.1318, 0.1151, 0.1003, 0.0872, 0.0757, 0.0656, 0.0568, 0.0492, 0.0425, 0.0368, 0.0318, 0.0275],
            75: [0.1525, 0.1786, 0.2083, 0.242, 0.28, 0.3229, 0.3708, 0.4244, 0.4838, 0.5495, 0.6217, 0.7007, 0.7867, 0.8799, 0.9802, 1.0878, 1.2023, 1.3237, 1.4516, 1.5857, 1.7254, 1.8701, 2.019, 2.1713, 2.3259, 2.4819, 2.6379, 2.7926, 2.9445, 3.0922, 3.2341, 3.3686, 3.4943, 3.6098, 3.7138, 3.8053, 3.8834, 3.9476, 3.9973, 4.0326, 4.0535, 4.0602, 4.0532, 4.0331, 4.0003, 3.9555, 3.8994, 3.8324, 3.755, 3.6676, 3.5707, 3.4647, 3.3499, 3.2269, 3.0963, 2.959, 2.8161, 2.6688, 2.5187, 2.3674, 2.2164, 2.0675, 1.922, 1.7811, 1.646, 1.5173, 1.3954, 1.2808, 1.1733, 1.073, 0.9795, 0.8928, 0.8123, 0.7378, 0.6689, 0.6053, 0.5466, 0.4925, 0.4427, 0.397, 0.3551, 0.3167, 0.2818, 0.25, 0.2211, 0.195, 0.1716, 0.1505, 0.1317, 0.115, 0.1002, 0.0871, 0.0756, 0.0656, 0.0568, 0.0491, 0.0425, 0.0368, 0.0318, 0.0275],
            80: [0.1737, 0.2033, 0.2371, 0.2753, 0.3186, 0.3672, 0.4216, 0.4822, 0.5494, 0.6236, 0.7051, 0.7941, 0.8908, 0.9953, 1.1076, 1.2274, 1.3548, 1.4891, 1.6301, 1.777, 1.9292, 2.0858, 2.2457, 2.408, 2.5712, 2.7341, 2.8952, 3.053, 3.2058, 3.352, 3.4902, 3.6188, 3.7365, 3.842, 3.9345, 4.0131, 4.0773, 4.1269, 4.1619, 4.1823, 4.1887, 4.1814, 4.1612, 4.1285, 4.0842, 4.0289, 3.9631, 3.8874, 3.8022, 3.708, 3.6051, 3.4937, 3.3743, 3.2472, 3.1132, 2.9729, 2.8275, 2.6781, 2.5262, 2.3734, 2.2212, 2.0712, 1.9249, 1.7834, 1.6477, 1.5185, 1.3963, 1.2814, 1.1737, 1.0732, 0.9797, 0.8928, 0.8123, 0.7377, 0.6688, 0.6051, 0.5464, 0.4923, 0.4426, 0.3969, 0.355, 0.3166, 0.2817, 0.2499, 0.221, 0.1949, 0.1715, 0.1504, 0.1317, 0.1149, 0.1001, 0.0871, 0.0756, 0.0655, 0.0568, 0.0491, 0.0425, 0.0367, 0.0318, 0.0275],
            85: [0.1919, 0.2246, 0.2618, 0.304, 0.3516, 0.4051, 0.465, 0.5316, 0.6054, 0.6868, 0.776, 0.8734, 0.9789, 1.0926, 1.2146, 1.3444, 1.4818, 1.6264, 1.7773, 1.934, 2.0953, 2.2604, 2.4279, 2.5965, 2.7648, 2.9312, 3.0942, 3.2521, 3.4033, 3.5462, 3.6793, 3.8012, 3.9108, 4.0071, 4.0894, 4.1572, 4.2103, 4.2486, 4.2723, 4.2818, 4.2777, 4.2605, 4.231, 4.1898, 4.1377, 4.0753, 4.0032, 3.9219, 3.8317, 3.7331, 3.6263, 3.5116, 3.3893, 3.2597, 3.1235, 2.9814, 2.8344, 2.6837, 2.5307, 2.3769, 2.224, 2.0734, 1.9265, 1.7846, 1.6486, 1.5192, 1.3968, 1.2817, 1.1739, 1.0733, 0.9797, 0.8928, 0.8122, 0.7377, 0.6687, 0.6051, 0.5463, 0.4922, 0.4425, 0.3968, 0.3549, 0.3165, 0.2816, 0.2498, 0.2209, 0.1949, 0.1714, 0.1504, 0.1316, 0.1149, 0.1001, 0.087, 0.0756, 0.0655, 0.0567, 0.0491, 0.0425, 0.0367, 0.0318, 0.0275],
            90: [0.2048, 0.2396, 0.2793, 0.3242, 0.3749, 0.4318, 0.4955, 0.5663, 0.6446, 0.7309, 0.8255, 0.9285, 1.04, 1.16, 1.2884, 1.4249, 1.569, 1.7201, 1.8774, 2.0402, 2.2071, 2.3772, 2.549, 2.721, 2.8917, 3.0595, 3.2227, 3.3796, 3.5287, 3.6683, 3.7971, 3.9139, 4.0176, 4.1074, 4.1827, 4.2433, 4.289, 4.32, 4.3367, 4.3395, 4.3289, 4.3058, 4.2707, 4.2246, 4.1679, 4.1014, 4.0256, 3.9411, 3.8481, 3.747, 3.638, 3.5214, 3.3975, 3.2665, 3.1291, 2.986, 2.8382, 2.6867, 2.5331, 2.3789, 2.2255, 2.0746, 1.9274, 1.7853, 1.6491, 1.5196, 1.3971, 1.2819, 1.174, 1.0734, 0.9797, 0.8928, 0.8122, 0.7376, 0.6687, 0.605, 0.5463, 0.4922, 0.4424, 0.3967, 0.3548, 0.3165, 0.2815, 0.2497, 0.2209, 0.1949, 0.1714, 0.1504, 0.1316, 0.1149, 0.1001, 0.087, 0.0756, 0.0655, 0.0567, 0.0491, 0.0425, 0.0367, 0.0318, 0.0275],
            95: [0.2153, 0.252, 0.2936, 0.3408, 0.394, 0.4537, 0.5205, 0.5947, 0.6767, 0.7671, 0.8659, 0.9735, 1.0898, 1.2148, 1.3483, 1.49, 1.6393, 1.7955, 1.9577, 2.125, 2.2961, 2.4697, 2.6444, 2.8186, 2.9907, 3.159, 3.3217, 3.4773, 3.6241, 3.7607, 3.8857, 3.9981, 4.0968, 4.1813, 4.2511, 4.3061, 4.3462, 4.3717, 4.383, 4.3807, 4.3655, 4.3379, 4.2989, 4.2491, 4.1891, 4.1197, 4.0414, 3.9545, 3.8595, 3.7567, 3.6462, 3.5283, 3.4032, 3.2712, 3.133, 2.9892, 2.8407, 2.6888, 2.5348, 2.3802, 2.2265, 2.0753, 1.928, 1.7858, 1.6494, 1.5198, 1.3972, 1.282, 1.1741, 1.0734, 0.9797, 0.8928, 0.8122, 0.7376, 0.6686, 0.6049, 0.5462, 0.4921, 0.4424, 0.3967, 0.3548, 0.3165, 0.2815, 0.2497, 0.2209, 0.1948, 0.1714, 0.1503, 0.1316, 0.1149, 0.1001, 0.087, 0.0755, 0.0655, 0.0567, 0.0491, 0.0425, 0.0367, 0.0318, 0.0275],
            100: [0.2321, 0.2715, 0.3163, 0.367, 0.4241, 0.4883, 0.5598, 0.6393, 0.7271, 0.8236, 0.9291, 1.0437, 1.1673, 1.2999, 1.4412, 1.5906, 1.7475, 1.9111, 2.0803, 2.2539, 2.4306, 2.609, 2.7873, 2.9639, 3.1372, 3.3052, 3.4664, 3.6191, 3.7617, 3.893, 4.0117, 4.117, 4.2081, 4.2845, 4.346, 4.3926, 4.4245, 4.4421, 4.4459, 4.4365, 4.4147, 4.3811, 4.3366, 4.2818, 4.2174, 4.144, 4.0622, 3.9723, 3.8746, 3.7694, 3.6569, 3.5372, 3.4106, 3.2774, 3.1381, 2.9933, 2.8441, 2.6915, 2.5369, 2.3819, 2.2278, 2.0764, 1.9288, 1.7863, 1.6499, 1.5201, 1.3974, 1.2821, 1.1742, 1.0734, 0.9797, 0.8927, 0.8121, 0.7375, 0.6686, 0.6049, 0.5462, 0.4921, 0.4423, 0.3966, 0.3547, 0.3164, 0.2815, 0.2497, 0.2208, 0.1948, 0.1713, 0.1503, 0.1315, 0.1148, 0.1001, 0.087, 0.0755, 0.0655, 0.0567, 0.0491, 0.0425, 0.0367, 0.0318, 0.0275]
        };

        const LevelPositions = {
            0: [0.0026, 0.003, 0.0035, 0.0041, 0.0047, 0.0054, 0.0063, 0.0072, 0.0082, 0.0093, 0.0105, 0.0119, 0.0134, 0.015, 0.0168, 0.0187, 0.0207, 0.023, 0.0253, 0.0279, 0.0305, 0.0334, 0.0364, 0.0396, 0.0429, 0.0464, 0.0501, 0.054, 0.058, 0.0621, 0.0664, 0.0709, 0.0754, 0.0801, 0.0848, 0.0897, 0.0945, 0.0994, 0.1042, 0.109, 0.1136, 0.118, 0.1223, 0.1262, 0.1299, 0.1331, 0.1358, 0.1381, 0.1398, 0.1408, 0.1412, 0.1408, 0.1397, 0.1379, 0.1353, 0.132, 0.128, 0.1234, 0.1183, 0.1128, 0.1069, 0.1009, 0.0947, 0.0886, 0.0825, 0.0766, 0.0709, 0.0655, 0.0603, 0.0553, 0.0507, 0.0464, 0.0423, 0.0385, 0.035, 0.0318, 0.0287, 0.0259, 0.0233, 0.0209, 0.0188, 0.0167, 0.0149, 0.0132, 0.0117, 0.0103, 0.0091, 0.008, 0.007, 0.0061, 0.0053, 0.0046, 0.004, 0.0035, 0.003, 0.0026, 0.0023, 0.002, 0.0017, 0.0015],
            5: [0.0034, 0.004, 0.0046, 0.0054, 0.0062, 0.0072, 0.0082, 0.0094, 0.0108, 0.0122, 0.0139, 0.0157, 0.0176, 0.0198, 0.0221, 0.0246, 0.0274, 0.0303, 0.0334, 0.0367, 0.0403, 0.044, 0.048, 0.0522, 0.0566, 0.0612, 0.0661, 0.0712, 0.0764, 0.0819, 0.0876, 0.0934, 0.0994, 0.1056, 0.1119, 0.1182, 0.1246, 0.131, 0.1374, 0.1437, 0.1498, 0.1557, 0.1612, 0.1665, 0.1712, 0.1755, 0.1791, 0.1821, 0.1843, 0.1857, 0.1862, 0.1857, 0.1843, 0.1818, 0.1784, 0.174, 0.1688, 0.1627, 0.156, 0.1487, 0.141, 0.133, 0.1249, 0.1168, 0.1088, 0.101, 0.0935, 0.0863, 0.0795, 0.073, 0.0669, 0.0612, 0.0558, 0.0508, 0.0462, 0.0419, 0.0379, 0.0342, 0.0308, 0.0276, 0.0247, 0.0221, 0.0197, 0.0174, 0.0154, 0.0136, 0.012, 0.0105, 0.0092, 0.008, 0.007, 0.0061, 0.0053, 0.0046, 0.004, 0.0034, 0.003, 0.0026, 0.0022, 0.0019],
            10: [0.0044, 0.0051, 0.006, 0.0069, 0.008, 0.0092, 0.0106, 0.0122, 0.0139, 0.0158, 0.0179, 0.0202, 0.0227, 0.0255, 0.0285, 0.0317, 0.0352, 0.039, 0.043, 0.0473, 0.0519, 0.0567, 0.0618, 0.0672, 0.0729, 0.0789, 0.0851, 0.0916, 0.0984, 0.1055, 0.1128, 0.1203, 0.1281, 0.136, 0.1441, 0.1523, 0.1605, 0.1688, 0.177, 0.185, 0.1929, 0.2005, 0.2077, 0.2144, 0.2205, 0.226, 0.2307, 0.2345, 0.2373, 0.2391, 0.2397, 0.2391, 0.2373, 0.2342, 0.2298, 0.2241, 0.2174, 0.2096, 0.2009, 0.1915, 0.1816, 0.1713, 0.1609, 0.1505, 0.1402, 0.1301, 0.1204, 0.1112, 0.1023, 0.094, 0.0861, 0.0788, 0.0719, 0.0655, 0.0595, 0.0539, 0.0488, 0.044, 0.0396, 0.0356, 0.0318, 0.0284, 0.0253, 0.0225, 0.0199, 0.0175, 0.0154, 0.0136, 0.0119, 0.0104, 0.009, 0.0079, 0.0068, 0.0059, 0.0051, 0.0044, 0.0038, 0.0033, 0.0029, 0.0025],
            15: [0.0057, 0.0067, 0.0078, 0.009, 0.0105, 0.0121, 0.0139, 0.0159, 0.0181, 0.0206, 0.0233, 0.0264, 0.0297, 0.0333, 0.0372, 0.0414, 0.046, 0.0509, 0.0562, 0.0618, 0.0677, 0.0741, 0.0807, 0.0878, 0.0952, 0.103, 0.1111, 0.1197, 0.1285, 0.1377, 0.1473, 0.1571, 0.1672, 0.1776, 0.1882, 0.1988, 0.2096, 0.2204, 0.2311, 0.2416, 0.2519, 0.2618, 0.2712, 0.2799, 0.288, 0.2951, 0.3013, 0.3062, 0.3099, 0.3123, 0.3131, 0.3123, 0.3099, 0.3058, 0.3, 0.2927, 0.2839, 0.2737, 0.2623, 0.2501, 0.2371, 0.2237, 0.2101, 0.1965, 0.183, 0.1699, 0.1573, 0.1452, 0.1336, 0.1227, 0.1125, 0.1029, 0.0939, 0.0855, 0.0777, 0.0704, 0.0637, 0.0575, 0.0517, 0.0464, 0.0416, 0.0371, 0.0331, 0.0293, 0.026, 0.0229, 0.0202, 0.0177, 0.0155, 0.0135, 0.0118, 0.0103, 0.0089, 0.0077, 0.0067, 0.0058, 0.005, 0.0043, 0.0037, 0.0032],
            20: [0.0076, 0.0089, 0.0104, 0.0121, 0.014, 0.0161, 0.0185, 0.0212, 0.0242, 0.0275, 0.0311, 0.0352, 0.0396, 0.0444, 0.0496, 0.0553, 0.0613, 0.0679, 0.0749, 0.0824, 0.0903, 0.0987, 0.1076, 0.117, 0.1269, 0.1373, 0.1482, 0.1595, 0.1714, 0.1837, 0.1964, 0.2095, 0.223, 0.2368, 0.2509, 0.2651, 0.2795, 0.2938, 0.3081, 0.3222, 0.3358, 0.349, 0.3616, 0.3733, 0.384, 0.3935, 0.4017, 0.4083, 0.4132, 0.4163, 0.4174, 0.4164, 0.4132, 0.4077, 0.4, 0.3903, 0.3785, 0.3649, 0.3498, 0.3334, 0.3162, 0.2983, 0.2801, 0.262, 0.2441, 0.2266, 0.2097, 0.1936, 0.1782, 0.1637, 0.15, 0.1372, 0.1252, 0.114, 0.1036, 0.0939, 0.0849, 0.0766, 0.069, 0.0619, 0.0555, 0.0495, 0.0441, 0.0391, 0.0346, 0.0306, 0.0269, 0.0236, 0.0207, 0.018, 0.0157, 0.0137, 0.0119, 0.0103, 0.0089, 0.0077, 0.0067, 0.0058, 0.005, 0.0043],
            25: [0.0103, 0.012, 0.014, 0.0163, 0.0189, 0.0217, 0.025, 0.0286, 0.0326, 0.0371, 0.0421, 0.0475, 0.0535, 0.06, 0.067, 0.0747, 0.0829, 0.0917, 0.1012, 0.1113, 0.122, 0.1334, 0.1455, 0.1582, 0.1715, 0.1856, 0.2002, 0.2156, 0.2316, 0.2482, 0.2654, 0.2831, 0.3013, 0.32, 0.339, 0.3583, 0.3777, 0.3971, 0.4164, 0.4353, 0.4538, 0.4717, 0.4886, 0.5044, 0.5189, 0.5317, 0.5428, 0.5518, 0.5584, 0.5626, 0.5641, 0.5627, 0.5583, 0.551, 0.5406, 0.5274, 0.5115, 0.4931, 0.4727, 0.4506, 0.4273, 0.4031, 0.3786, 0.354, 0.3298, 0.3062, 0.2834, 0.2616, 0.2408, 0.2212, 0.2027, 0.1853, 0.1691, 0.154, 0.14, 0.1269, 0.1148, 0.1036, 0.0932, 0.0837, 0.0749, 0.0669, 0.0596, 0.0529, 0.0468, 0.0413, 0.0363, 0.0319, 0.0279, 0.0244, 0.0212, 0.0185, 0.016, 0.0139, 0.012, 0.0104, 0.009, 0.0078, 0.0067, 0.0058],
            30: [0.0144, 0.0169, 0.0197, 0.0228, 0.0264, 0.0304, 0.035, 0.04, 0.0457, 0.052, 0.0589, 0.0665, 0.0748, 0.0839, 0.0938, 0.1045, 0.1161, 0.1284, 0.1417, 0.1558, 0.1708, 0.1868, 0.2036, 0.2214, 0.2401, 0.2598, 0.2803, 0.3018, 0.3242, 0.3474, 0.3715, 0.3963, 0.4218, 0.448, 0.4746, 0.5015, 0.5287, 0.5559, 0.5829, 0.6095, 0.6353, 0.6603, 0.684, 0.7061, 0.7264, 0.7444, 0.7599, 0.7724, 0.7818, 0.7876, 0.7897, 0.7877, 0.7816, 0.7713, 0.7568, 0.7383, 0.716, 0.6904, 0.6618, 0.6308, 0.5982, 0.5643, 0.53, 0.4956, 0.4617, 0.4287, 0.3968, 0.3662, 0.3371, 0.3096, 0.2838, 0.2595, 0.2368, 0.2156, 0.1959, 0.1776, 0.1607, 0.145, 0.1305, 0.1172, 0.1049, 0.0937, 0.0834, 0.074, 0.0655, 0.0578, 0.0509, 0.0446, 0.0391, 0.0341, 0.0297, 0.0259, 0.0225, 0.0195, 0.0169, 0.0146, 0.0126, 0.0109, 0.0094, 0.0082],
            35: [0.0201, 0.0235, 0.0274, 0.0318, 0.0368, 0.0424, 0.0487, 0.0558, 0.0636, 0.0724, 0.082, 0.0926, 0.1042, 0.1169, 0.1307, 0.1456, 0.1616, 0.1789, 0.1973, 0.217, 0.2379, 0.2601, 0.2836, 0.3084, 0.3344, 0.3618, 0.3904, 0.4203, 0.4515, 0.4839, 0.5174, 0.5519, 0.5875, 0.6239, 0.6609, 0.6985, 0.7363, 0.7742, 0.8118, 0.8488, 0.8848, 0.9196, 0.9526, 0.9834, 1.0116, 1.0367, 1.0583, 1.0758, 1.0888, 1.097, 1.0998, 1.0971, 1.0886, 1.0743, 1.0541, 1.0283, 0.9973, 0.9615, 0.9217, 0.8786, 0.8331, 0.786, 0.7382, 0.6903, 0.6431, 0.5971, 0.5526, 0.51, 0.4696, 0.4313, 0.3952, 0.3614, 0.3298, 0.3003, 0.2729, 0.2474, 0.2238, 0.202, 0.1818, 0.1632, 0.1461, 0.1305, 0.1161, 0.1031, 0.0912, 0.0805, 0.0709, 0.0622, 0.0544, 0.0475, 0.0414, 0.036, 0.0313, 0.0271, 0.0235, 0.0203, 0.0176, 0.0152, 0.0132, 0.0114],
            40: [0.0273, 0.0319, 0.0372, 0.0432, 0.05, 0.0576, 0.0662, 0.0758, 0.0865, 0.0983, 0.1114, 0.1258, 0.1416, 0.1588, 0.1776, 0.1978, 0.2196, 0.243, 0.2681, 0.2949, 0.3233, 0.3535, 0.3853, 0.419, 0.4544, 0.4916, 0.5305, 0.5711, 0.6135, 0.6574, 0.703, 0.75, 0.7983, 0.8477, 0.8981, 0.9491, 1.0005, 1.052, 1.103, 1.1533, 1.2023, 1.2496, 1.2944, 1.3363, 1.3746, 1.4088, 1.438, 1.4618, 1.4796, 1.4906, 1.4945, 1.4908, 1.4793, 1.4598, 1.4324, 1.3974, 1.3552, 1.3066, 1.2525, 1.194, 1.1321, 1.0681, 1.0031, 0.9381, 0.8739, 0.8114, 0.751, 0.6931, 0.6381, 0.5861, 0.5371, 0.4911, 0.4482, 0.4081, 0.3709, 0.3362, 0.3041, 0.2745, 0.247, 0.2218, 0.1986, 0.1773, 0.1578, 0.1401, 0.124, 0.1094, 0.0963, 0.0845, 0.074, 0.0646, 0.0563, 0.049, 0.0425, 0.0369, 0.0319, 0.0276, 0.0239, 0.0207, 0.0179, 0.0155],
            45: [0.0366, 0.0427, 0.0498, 0.0578, 0.0669, 0.0771, 0.0886, 0.1015, 0.1158, 0.1317, 0.1492, 0.1685, 0.1897, 0.2128, 0.2378, 0.2649, 0.2942, 0.3255, 0.3591, 0.3949, 0.433, 0.4734, 0.5162, 0.5612, 0.6086, 0.6584, 0.7105, 0.765, 0.8217, 0.8806, 0.9416, 1.0045, 1.0692, 1.1355, 1.2029, 1.2713, 1.3401, 1.4091, 1.4775, 1.5449, 1.6105, 1.6738, 1.7339, 1.79, 1.8413, 1.8871, 1.9263, 1.9582, 1.9819, 1.9967, 2.002, 1.9971, 1.9817, 1.9556, 1.9189, 1.8719, 1.8154, 1.7503, 1.6779, 1.5995, 1.5166, 1.4309, 1.3438, 1.2567, 1.1708, 1.087, 1.006, 0.9286, 0.8548, 0.7851, 0.7195, 0.658, 0.6004, 0.5468, 0.4968, 0.4504, 0.4075, 0.3677, 0.331, 0.2971, 0.266, 0.2375, 0.2114, 0.1877, 0.1661, 0.1466, 0.129, 0.1132, 0.0991, 0.0865, 0.0754, 0.0656, 0.0569, 0.0494, 0.0428, 0.037, 0.032, 0.0277, 0.0239, 0.0207],
            50: [0.0489, 0.0572, 0.0666, 0.0773, 0.0895, 0.1032, 0.1185, 0.1357, 0.1549, 0.1761, 0.1996, 0.2254, 0.2537, 0.2846, 0.3181, 0.3544, 0.3934, 0.4354, 0.4803, 0.5282, 0.5792, 0.6332, 0.6904, 0.7506, 0.8141, 0.8807, 0.9504, 1.0232, 1.0991, 1.1779, 1.2594, 1.3436, 1.4302, 1.5187, 1.609, 1.7004, 1.7925, 1.8847, 1.9763, 2.0664, 2.1542, 2.2388, 2.3192, 2.3943, 2.463, 2.5242, 2.5767, 2.6194, 2.6512, 2.6711, 2.6781, 2.6715, 2.6509, 2.616, 2.567, 2.5042, 2.4287, 2.3416, 2.2447, 2.1398, 2.029, 1.9143, 1.7978, 1.6813, 1.5663, 1.4542, 1.346, 1.2423, 1.1437, 1.0504, 0.9626, 0.8803, 0.8033, 0.7315, 0.6647, 0.6026, 0.5451, 0.4919, 0.4428, 0.3975, 0.3559, 0.3178, 0.2829, 0.2511, 0.2222, 0.1961, 0.1726, 0.1515, 0.1326, 0.1158, 0.1009, 0.0877, 0.0762, 0.0661, 0.0572, 0.0495, 0.0428, 0.037, 0.032, 0.0277],
            55: [0.0633, 0.074, 0.0862, 0.1001, 0.1158, 0.1336, 0.1534, 0.1757, 0.2005, 0.228, 0.2584, 0.2918, 0.3284, 0.3684, 0.4117, 0.4587, 0.5093, 0.5636, 0.6217, 0.6838, 0.7497, 0.8196, 0.8936, 0.9716, 1.0537, 1.1399, 1.2302, 1.3244, 1.4226, 1.5246, 1.6302, 1.7392, 1.8512, 1.9659, 2.0827, 2.2011, 2.3203, 2.4397, 2.5582, 2.6748, 2.7886, 2.8981, 3.0022, 3.0995, 3.1885, 3.2677, 3.3357, 3.391, 3.4322, 3.4579, 3.4671, 3.4586, 3.432, 3.3869, 3.3234, 3.2422, 3.1444, 3.0317, 2.9062, 2.7705, 2.627, 2.4786, 2.3278, 2.1769, 2.0281, 1.8829, 1.7427, 1.6085, 1.4808, 1.3601, 1.2464, 1.1398, 1.0401, 0.9472, 0.8607, 0.7803, 0.7058, 0.6369, 0.5733, 0.5147, 0.4608, 0.4114, 0.3663, 0.3251, 0.2878, 0.2539, 0.2235, 0.1961, 0.1717, 0.1499, 0.1306, 0.1136, 0.0987, 0.0855, 0.0741, 0.0641, 0.0555, 0.048, 0.0415, 0.0359],
            60: [0.0823, 0.0962, 0.1121, 0.1302, 0.1506, 0.1737, 0.1995, 0.2285, 0.2607, 0.2965, 0.336, 0.3794, 0.427, 0.479, 0.5354, 0.5964, 0.6622, 0.7328, 0.8084, 0.8891, 0.9748, 1.0658, 1.162, 1.2634, 1.3702, 1.4822, 1.5996, 1.7222, 1.8499, 1.9825, 2.1198, 2.2615, 2.4072, 2.5563, 2.7082, 2.8622, 3.0173, 3.1725, 3.3266, 3.4784, 3.6263, 3.7688, 3.9043, 4.0308, 4.1466, 4.2497, 4.3382, 4.4102, 4.4639, 4.4974, 4.5094, 4.4986, 4.464, 4.4054, 4.3229, 4.2173, 4.0902, 3.9436, 3.7805, 3.6039, 3.4174, 3.2243, 3.0282, 2.8319, 2.6383, 2.4495, 2.2672, 2.0926, 1.9265, 1.7694, 1.6215, 1.4829, 1.3532, 1.2322, 1.1197, 1.0152, 0.9183, 0.8287, 0.7459, 0.6696, 0.5995, 0.5353, 0.4765, 0.423, 0.3744, 0.3304, 0.2907, 0.2552, 0.2234, 0.1951, 0.17, 0.1478, 0.1283, 0.1113, 0.0964, 0.0834, 0.0722, 0.0624, 0.054, 0.0467],
            65: [0.1048, 0.1226, 0.1428, 0.1658, 0.1919, 0.2212, 0.2542, 0.291, 0.3321, 0.3776, 0.428, 0.4833, 0.544, 0.6101, 0.682, 0.7597, 0.8435, 0.9335, 1.0298, 1.1325, 1.2417, 1.3576, 1.4801, 1.6093, 1.7453, 1.8881, 2.0376, 2.1938, 2.3564, 2.5254, 2.7003, 2.8809, 3.0664, 3.2564, 3.45, 3.6461, 3.8437, 4.0415, 4.2379, 4.4313, 4.6199, 4.8015, 4.9742, 5.1355, 5.2831, 5.4146, 5.5276, 5.6195, 5.688, 5.7309, 5.7463, 5.7327, 5.6888, 5.6142, 5.5092, 5.3748, 5.2129, 5.0263, 4.8185, 4.5935, 4.3558, 4.1098, 3.8598, 3.6098, 3.363, 3.1224, 2.89, 2.6674, 2.4557, 2.2555, 2.0671, 1.8903, 1.725, 1.5708, 1.4274, 1.2941, 1.1706, 1.0564, 0.9509, 0.8536, 0.7643, 0.6824, 0.6075, 0.5392, 0.4773, 0.4212, 0.3706, 0.3253, 0.2847, 0.2487, 0.2167, 0.1884, 0.1636, 0.1419, 0.1229, 0.1063, 0.092, 0.0795, 0.0688, 0.0595],
            70: [0.1314, 0.1537, 0.179, 0.2079, 0.2405, 0.2773, 0.3186, 0.3648, 0.4163, 0.4734, 0.5365, 0.6059, 0.6819, 0.7648, 0.8549, 0.9524, 1.0574, 1.1702, 1.2909, 1.4197, 1.5567, 1.7019, 1.8555, 2.0175, 2.188, 2.367, 2.5544, 2.7502, 2.9541, 3.1659, 3.3853, 3.6117, 3.8444, 4.0826, 4.3253, 4.5713, 4.8191, 5.0672, 5.3136, 5.5562, 5.7928, 6.0208, 6.2374, 6.4399, 6.6253, 6.7905, 6.9324, 7.0479, 7.1342, 7.1883, 7.208, 7.1912, 7.1364, 7.0432, 6.9117, 6.7434, 6.5405, 6.3066, 6.0461, 5.764, 5.4659, 5.1573, 4.8437, 4.53, 4.2204, 3.9185, 3.6269, 3.3477, 3.082, 2.8308, 2.5943, 2.3724, 2.165, 1.9715, 1.7915, 1.6243, 1.4693, 1.3259, 1.1934, 1.0714, 0.9593, 0.8565, 0.7625, 0.6768, 0.599, 0.5286, 0.4652, 0.4083, 0.3574, 0.3121, 0.272, 0.2365, 0.2054, 0.1781, 0.1542, 0.1335, 0.1155, 0.0998, 0.0863, 0.0747],
            75: [0.1639, 0.1916, 0.2233, 0.2592, 0.2999, 0.3458, 0.3973, 0.4549, 0.5191, 0.5903, 0.669, 0.7555, 0.8503, 0.9537, 1.066, 1.1876, 1.3186, 1.4592, 1.6098, 1.7704, 1.9411, 2.1222, 2.3138, 2.5158, 2.7285, 2.9517, 3.1854, 3.4296, 3.684, 3.9482, 4.2218, 4.5042, 4.7945, 5.0917, 5.3946, 5.7016, 6.0109, 6.3205, 6.6282, 6.9311, 7.2266, 7.5114, 7.7821, 8.0353, 8.2672, 8.4739, 8.6516, 8.7964, 8.9048, 8.9731, 8.9984, 8.9781, 8.9105, 8.7948, 8.6313, 8.4216, 8.1689, 7.8772, 7.5523, 7.2003, 6.8283, 6.4431, 6.0517, 5.6599, 5.2734, 4.8963, 4.532, 4.1832, 3.8514, 3.5375, 3.242, 2.9648, 2.7056, 2.4638, 2.2389, 2.0299, 1.8362, 1.657, 1.4915, 1.3391, 1.1989, 1.0704, 0.9529, 0.8459, 0.7487, 0.6607, 0.5814, 0.5103, 0.4467, 0.3901, 0.3399, 0.2956, 0.2567, 0.2225, 0.1928, 0.1668, 0.1443, 0.1248, 0.1079, 0.0933],
            80: [0.1879, 0.2198, 0.2561, 0.2973, 0.3439, 0.3965, 0.4556, 0.5217, 0.5953, 0.6769, 0.7672, 0.8664, 0.9751, 1.0937, 1.2225, 1.3619, 1.5121, 1.6734, 1.846, 2.0302, 2.226, 2.4337, 2.6534, 2.8851, 3.129, 3.385, 3.6531, 3.9332, 4.225, 4.5281, 4.842, 5.1659, 5.499, 5.8401, 6.1877, 6.54, 6.8951, 7.2506, 7.6039, 7.9519, 8.2913, 8.6186, 8.9299, 9.2211, 9.488, 9.726, 9.9309, 10.0981, 10.2234, 10.3029, 10.3329, 10.3106, 10.234, 10.102, 9.9151, 9.6752, 9.3855, 9.0512, 8.6785, 8.2746, 7.8476, 7.4054, 6.9558, 6.5059, 6.0618, 5.6285, 5.21, 4.8092, 4.4278, 4.0671, 3.7274, 3.4088, 3.1108, 2.8329, 2.5743, 2.334, 2.1113, 1.9053, 1.715, 1.5397, 1.3786, 1.2308, 1.0958, 0.9727, 0.8609, 0.7597, 0.6686, 0.5868, 0.5136, 0.4485, 0.3908, 0.3399, 0.2951, 0.2559, 0.2216, 0.1918, 0.1659, 0.1435, 0.1241, 0.1073],
            85: [0.2086, 0.2439, 0.2842, 0.33, 0.3817, 0.4401, 0.5057, 0.579, 0.6607, 0.7513, 0.8514, 0.9616, 1.0822, 1.2138, 1.3568, 1.5115, 1.6782, 1.8572, 2.0488, 2.2532, 2.4706, 2.7011, 2.945, 3.2022, 3.4729, 3.7571, 4.0548, 4.3657, 4.6897, 5.0262, 5.3748, 5.7346, 6.1046, 6.4835, 6.8696, 7.2612, 7.6559, 8.0511, 8.4439, 8.8311, 9.2088, 9.5732, 9.92, 10.2446, 10.5422, 10.8081, 11.0371, 11.2244, 11.3653, 11.4552, 11.4901, 11.4669, 11.3833, 11.238, 11.0315, 10.7659, 10.4449, 10.074, 9.6601, 9.2115, 8.7369, 8.2453, 7.7453, 7.2449, 6.7508, 6.2686, 5.8028, 5.3566, 4.932, 4.5304, 4.1522, 3.7973, 3.4655, 3.156, 2.8679, 2.6003, 2.3522, 2.1227, 1.9108, 1.7155, 1.5359, 1.3713, 1.2208, 1.0837, 0.9592, 0.8465, 0.7449, 0.6538, 0.5723, 0.4997, 0.4355, 0.3787, 0.3288, 0.2851, 0.247, 0.2137, 0.1849, 0.1599, 0.1382, 0.1196],
            90: [0.2229, 0.2606, 0.3036, 0.3525, 0.4079, 0.4702, 0.5403, 0.6186, 0.7059, 0.8027, 0.9097, 1.0273, 1.1562, 1.2968, 1.4495, 1.6148, 1.7929, 1.9842, 2.1889, 2.4073, 2.6396, 2.8859, 3.1464, 3.4213, 3.7106, 4.0143, 4.3324, 4.6648, 5.011, 5.3708, 5.7435, 6.1282, 6.5238, 6.929, 7.3421, 7.761, 8.1834, 8.6065, 9.0272, 9.4419, 9.8467, 10.2375, 10.6095, 10.958, 11.2779, 11.5639, 11.8107, 12.0129, 12.1656, 12.2638, 12.3032, 12.2804, 12.1927, 12.039, 11.8196, 11.5367, 11.1943, 10.7982, 10.3559, 9.8761, 9.3683, 8.8421, 8.3066, 7.7705, 7.2411, 6.7244, 6.2251, 5.7467, 5.2915, 4.8608, 4.4551, 4.0746, 3.7186, 3.3866, 3.0775, 2.7904, 2.5243, 2.278, 2.0506, 1.841, 1.6483, 1.4717, 1.3102, 1.1631, 1.0294, 0.9085, 0.7995, 0.7016, 0.6142, 0.5364, 0.4674, 0.4065, 0.3529, 0.306, 0.265, 0.2294, 0.1984, 0.1716, 0.1484, 0.1283],
            95: [0.2342, 0.2738, 0.319, 0.3704, 0.4285, 0.494, 0.5676, 0.6499, 0.7415, 0.8432, 0.9556, 1.0792, 1.2146, 1.3623, 1.5227, 1.6963, 1.8835, 2.0844, 2.2995, 2.5289, 2.7729, 3.0317, 3.3055, 3.5943, 3.8983, 4.2175, 4.5518, 4.9011, 5.265, 5.6433, 6.0351, 6.4396, 6.8557, 7.282, 7.7167, 8.1576, 8.6023, 9.048, 9.4912, 9.9285, 10.3555, 10.768, 11.1611, 11.5296, 11.8683, 12.1715, 12.4337, 12.6493, 12.8127, 12.919, 12.9633, 12.9421, 12.8525, 12.6932, 12.4645, 12.1685, 11.8096, 11.3938, 10.929, 10.4243, 9.8897, 9.3355, 8.7712, 8.2061, 7.6478, 7.1027, 6.5759, 6.071, 5.5904, 5.1357, 4.7073, 4.3054, 3.9295, 3.5787, 3.2522, 2.9489, 2.6677, 2.4075, 2.1672, 1.9457, 1.7421, 1.5555, 1.3848, 1.2293, 1.088, 0.9602, 0.845, 0.7416, 0.6492, 0.5669, 0.494, 0.4296, 0.373, 0.3235, 0.2802, 0.2425, 0.2097, 0.1814, 0.1568, 0.1356],
            100: [0.2487, 0.2908, 0.3388, 0.3933, 0.455, 0.5245, 0.6026, 0.6899, 0.7872, 0.8952, 1.0145, 1.1457, 1.2894, 1.4462, 1.6165, 1.8008, 1.9995, 2.2128, 2.4412, 2.6848, 2.944, 3.2189, 3.5097, 3.8166, 4.1396, 4.4789, 4.8344, 5.2059, 5.5931, 5.9957, 6.413, 6.844, 7.2877, 7.7426, 8.2068, 8.6782, 9.1542, 9.6319, 10.1078, 10.578, 11.0383, 11.484, 11.91, 12.3108, 12.6808, 13.0138, 13.3039, 13.5449, 13.7307, 13.8556, 13.9146, 13.9031, 13.8181, 13.6577, 13.422, 13.1132, 12.7356, 12.2956, 11.8015, 11.2633, 10.6917, 10.0976, 9.4918, 8.884, 8.2828, 7.6952, 7.1267, 6.5813, 6.0619, 5.5701, 5.1065, 4.6713, 4.2641, 3.884, 3.5301, 3.2012, 2.8962, 2.6139, 2.3532, 2.1128, 1.8919, 1.6892, 1.5039, 1.3351, 1.1817, 1.0429, 0.9178, 0.8055, 0.7051, 0.6158, 0.5366, 0.4667, 0.4052, 0.3514, 0.3043, 0.2634, 0.2278, 0.197, 0.1704, 0.1473]
        };

    function getClosestLevel(level, positions) {
        const availableLevels = Object.keys(positions).map(Number);
        let closestLevel = availableLevels[0];
        for (let i = 1; i < availableLevels.length; i++) {
            if (Math.abs(level - availableLevels[i]) < Math.abs(level - closestLevel)) {
                closestLevel = availableLevels[i];
            }
        }
        return closestLevel;
    }

    // Helper function to convert to dB
    function convertToDb(magnitudeArray) {
        return magnitudeArray.map(value => 20 * Math.log10(value));
    }

    // Convert all position datasets to dB
    [DrivePositions, LevelPositions].forEach((positions) => {
        Object.keys(positions).forEach((key) => {
            positions[key] = convertToDb(positions[key]);
        });
    });

function renderGraph(Drive, Level) {
    Plotly.newPlot('graph', [
        { x: frequency, y: DrivePositions[Drive], type: 'scatter', mode: 'lines', name: `Drive @ ${Drive}%` },
        { x: frequency, y: LevelPositions[Level], type: 'scatter', mode: 'lines', name: `Level @ ${Level}%` }
    ], {
        title: {
            text: `<a href='https://rhpfelectronics.com/rhpf-electronics-handmade-guitar-pedals-in-switzerland/rhpf-nerd-lab/' target='_blank'>RhPf Electronics</a> - Shodhana - Drive: ${Drive}% | Level: ${Level}%`,
            font: {
                size: 8 // Adjust title font size here
            }
        },
        xaxis: {
            title: {
                text: 'Frequency (Hz)',
                font: { size: 8 } // Adjust x-axis title font size if needed
            },
            type: 'log',
            tickvals: [20, 32, 64, 128, 256, 512, 1000, 2000, 4000, 8000, 16000, 20000],
            ticktext: ["20", "32", "64", "128", "256", "512", "1k", "2k", "4k", "8k", "16k", "20k"]
        },
        yaxis: {
            title: {
                text: 'Drive (dB)',
                font: { size: 8 } // Adjust y-axis title font size if needed
            },
            range: [-35, 35] // Fixed Y-axis range
        },
        legend: {
            font: {
                size: 8 // Adjust legend font size here
            }
        }
    });
}

    function updatePointer(pointerId, angle) {
        const pointer = document.getElementById(pointerId);
        pointer.setAttribute('transform', `rotate(${angle} 0 0)`);
    }

    const knobs = {
        Drive: { element: document.getElementById('knob-Drive'), pointerId: 'Drive-pointer', angle: 0, positions: DrivePositions },
        Level: { element: document.getElementById('knob-Level'), pointerId: 'Level-pointer', angle: 0, positions: LevelPositions },
    };

    function updateKnob(knob, delta, pointerId, positions, setAngle) {
        knob.angle += delta;
        knob.angle = Math.max(-135, Math.min(135, knob.angle)); // Clamp angle
        const value = Math.round(((knob.angle + 135) / 270) * 100);
        setAngle(knob.angle);
        updatePointer(pointerId, knob.angle);

        // Update graph with all knob values
        const levels = Object.keys(knobs).reduce((acc, key) => {
            acc[key] = getClosestLevel(
                Math.round(((knobs[key].angle + 135) / 270) * 100),
                knobs[key].positions
            );
            return acc;
        }, {});

        renderGraph(levels.Drive, levels.Level);
    }

function addKnobListeners(knobKey) {
    const knob = knobs[knobKey];
    const { element, pointerId, positions } = knob;

    // Handle both mouse and touch start
    const startEvent = (event) => {
        const isTouch = event.type === "touchstart";
        const clientX = isTouch ? event.touches[0].clientX : event.clientX;
        const clientY = isTouch ? event.touches[0].clientY : event.clientY;

        const rect = element.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
	document.body.style.overflow = 'hidden';

const moveEvent = (e) => {
    const moveClientX = isTouch ? e.touches[0].clientX : e.clientX;
    const moveClientY = isTouch ? e.touches[0].clientY : e.clientY;
    const dx = moveClientX - cx;
    const dy = moveClientY - cy;

    let angle = Math.atan2(dy, dx) * (180 / Math.PI);
    angle = (angle + 360) % 360;

    if (angle >= 134 || angle <= 46) {
        if (angle <= 46) angle += 360;

        let newKnobAngle = angle - 135; // normalized 0–270°
        newKnobAngle = Math.max(0, Math.min(272, newKnobAngle)); // allow slight overshoot

        // Snap to exact min/max
        if (newKnobAngle < 2) newKnobAngle = 0;
        if (newKnobAngle > 268) newKnobAngle = 270;

        const desiredAngle = newKnobAngle - 135; // -135 to +135
        const delta = desiredAngle - knob.angle;
        updateKnob(knob, delta, pointerId, positions, (a) => (knob.angle = a));
    }
};

        const endEvent = () => {
            document.removeEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
            document.removeEventListener(isTouch ? "touchend" : "mouseup", endEvent);
        };

        document.addEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
        document.addEventListener(isTouch ? "touchend" : "mouseup", endEvent);
    };

    // Add event listeners for mouse and touch
    element.addEventListener("mousedown", startEvent);
    element.addEventListener("touchstart", startEvent, { passive: false }); // Passive false to prevent scrolling

    // Scroll wheel functionality
    element.addEventListener("wheel", (event) => {
        event.preventDefault();
        const delta = event.deltaY > 0 ? -5 : 5; // Scroll direction adjusts knob
        const deltaAngle = delta * (270 / 100); // Map delta to angle
        updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
    });
}

// Add event listeners to all knobs
Object.keys(knobs).forEach(addKnobListeners);

// Initialize pointers
Object.keys(knobs).forEach((key) => {
    updatePointer(knobs[key].pointerId, knobs[key].angle);
});

    // Initialize graph
    renderGraph(50, 50);
</script>
</body>
</html>
