<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RhPf Electronics Shodhana Analysis Interactive Individual</title>
    <meta name="description" content="Interactive analysis tool for the Shodhana.">
    <meta name="author" content="RhPf Electronics">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        if (!window.Plotly) {
            document.write('<script src="/path-to-local-plotly/plotly-latest.min.js"><\/script>');
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: row; /* Stack pedal and graph horizontally */
            justify-content: left;
            align-items: top;
            margin: 0;
            height: auto;
        }

        #pedal-container {
            width: 100%; /* Scale pedal container to fit the viewport */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #pedal-svg {
            width: 100%; /* Make the SVG scale with the container */
            height: 100vh; /* Maintain aspect ratio */
            margin: 0;
        }

        #graph {
            width: 100%; /* Take up most of the width */
            height: 100vh; /* Dynamically scale height relative to the viewport */
            margin: 0; /* Add some spacing between graph and pedal */
        }

    </style>
</head>
<body>
    <!-- Pedal with Knobs -->
    <div id="pedal-container">
        <svg id="pedal-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1884 3600">
            <!-- Background Image -->
            <image href="https://thomasbe86.github.io/plotly-plot/Shodhana.png" x="0" y="0" width="1884" height="3600" />
<g id="knob-Drive" transform="translate(345, 655)">
    <circle cx="0" cy="0" r="170" fill="#FFF0CA" stroke="none" stroke-width="3" />
    <line id="Drive-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>

<g id="knob-Level" transform="translate(1540, 655)">
    <circle cx="0" cy="0" r="170" fill="#FFF0CA" stroke="none" stroke-width="3" />
    <line id="Level-pointer" x1="0" y1="0" x2="0" y2="-150" stroke="#000" stroke-width="15" stroke-linecap="round" />
</g>
        </svg>
    </div>

    <!-- Graph -->
    <div id="graph"></div>

    <script>
        // Ensure Plotly resizes with window changes
        window.addEventListener('resize', () => {
            Plotly.Plots.resize(document.getElementById('graph'));
        });
    </script>

    <script>
        // Frequency Data
        const frequency = [
            20, 21.44, 22.97, 24.62, 26.39, 28.28, 30.31, 32.49, 34.82, 37.32, 40,
            42.87, 45.95, 49.25, 52.78, 56.57, 60.63, 64.98, 69.64, 74.64, 80,
            85.74, 91.89, 98.49, 105.56, 113.13, 121.25, 129.96, 139.28, 149.29, 160,
            171.48, 183.79, 196.98, 211.12, 226.27, 242.51, 259.92, 278.58, 298.57,
            320, 342.97, 367.58, 393.97, 422.24, 452.55, 485.03, 519.84, 557.15,
            597.14, 640, 685.93, 735.17, 787.93, 844.49, 905.1, 970.06, 1039.68,
            1114.3, 1194.28, 1280, 1371.87, 1470.33, 1575.86, 1688.97, 1810.19,
            1940.12, 2079.37, 2228.61, 2388.56, 2560, 2743.74, 2940.67, 3151.73,
            3377.94, 3620.39, 3880.23, 4158.73, 4457.22, 4777.13, 5120, 5487.48,
            5881.34, 6303.46, 6755.88, 7240.77, 7760.47, 8317.46, 8914.44, 9554.26,
            10240, 10974.96, 11762.67, 12606.92, 13511.76, 14481.55, 15520.94,
            16634.93, 17828.88, 19108.52
        ];

        const DrivePositions = {
            0: [7.7873, 7.8553, 7.9157, 7.9691, 8.0164, 8.0581, 8.0949, 8.1274, 8.1561, 8.1814, 8.2037, 8.2234, 8.2407, 8.2561, 8.2698, 8.2818, 8.2926, 8.3022, 8.3107, 8.3183, 8.3252, 8.3313, 8.3369, 8.3419, 8.3464, 8.3504, 8.3541, 8.3573, 8.3602, 8.3627, 8.3649, 8.3667, 8.3682, 8.3693, 8.3701, 8.3706, 8.3707, 8.3705, 8.37, 8.3691, 8.3679, 8.3663, 8.3643, 8.3621, 8.3594, 8.3565, 8.3532, 8.3495, 8.3456, 8.3413, 8.3368, 8.3321, 8.3273, 8.3224, 8.3175, 8.3126, 8.308, 8.3035, 8.2994, 8.2956, 8.2922, 8.2892, 8.2867, 8.2845, 8.2826, 8.2811, 8.2798, 8.2787, 8.2778, 8.2769, 8.276, 8.2751, 8.2741, 8.2729, 8.2714, 8.2697, 8.2676, 8.2651, 8.262, 8.2583, 8.2539, 8.2486, 8.2423, 8.2349, 8.2263, 8.2161, 8.2043, 8.1906, 8.1747, 8.1564, 8.1353, 8.1112, 8.0836, 8.0522, 8.0163, 7.9757, 7.9297, 7.8777, 7.8193, 7.7536],
            5: [7.7758, 7.8478, 7.9125, 7.9708, 8.0234, 8.0709, 8.114, 8.1531, 8.1889, 8.2216, 8.2517, 8.2794, 8.305, 8.3287, 8.3506, 8.3709, 8.3895, 8.4065, 8.4218, 8.4353, 8.4468, 8.4563, 8.4633, 8.4678, 8.4693, 8.4675, 8.4621, 8.4527, 8.4389, 8.4203, 8.3964, 8.3668, 8.3311, 8.2887, 8.2391, 8.1815, 8.1154, 8.0398, 7.9539, 7.8566, 7.7469, 7.6236, 7.4853, 7.3307, 7.1583, 6.9669, 6.7549, 6.5212, 6.2647, 5.9847, 5.6808, 5.3533, 5.0031, 4.6321, 4.2429, 3.8395, 3.4273, 3.0132, 2.6065, 2.22, 1.8723, 1.5906, 1.4115, 1.3679, 1.461, 1.6573, 1.9152, 2.2047, 2.5076, 2.8137, 3.1172, 3.4149, 3.705, 3.9863, 4.2581, 4.5198, 4.7709, 5.011, 5.2394, 5.4555, 5.6588, 5.8487, 6.0246, 6.186, 6.3327, 6.4644, 6.5811, 6.683, 6.7705, 6.8439, 6.9038, 6.9508, 6.9857, 7.009, 7.0214, 7.0234, 7.0155, 6.9979, 6.971, 6.9348],
            10: [7.7583, 7.8335, 7.9016, 7.9637, 8.0203, 8.072, 8.1196, 8.1633, 8.2037, 8.2412, 8.2759, 8.3081, 8.3379, 8.3655, 8.3909, 8.4141, 8.435, 8.4537, 8.47, 8.4838, 8.4949, 8.5033, 8.5087, 8.5111, 8.5102, 8.5059, 8.4981, 8.4866, 8.4713, 8.452, 8.4287, 8.4011, 8.369, 8.3322, 8.2904, 8.2432, 8.1901, 8.1308, 8.0645, 7.9906, 7.9084, 7.8171, 7.7157, 7.6034, 7.4792, 7.3424, 7.1921, 7.0277, 6.8486, 6.6546, 6.446, 6.2234, 5.9882, 5.7422, 5.4883, 5.2301, 4.9721, 4.7194, 4.4778, 4.2536, 4.053, 3.8818, 3.7449, 3.6459, 3.5866, 3.5669, 3.5848, 3.6371, 3.7193, 3.827, 3.9555, 4.1004, 4.2579, 4.4244, 4.5968, 4.7725, 4.9489, 5.1239, 5.2953, 5.4614, 5.6205, 5.771, 5.9117, 6.0414, 6.1593, 6.2649, 6.3577, 6.4377, 6.505, 6.5601, 6.6033, 6.6353, 6.6568, 6.6684, 6.6708, 6.6647, 6.6504, 6.6284, 6.5988, 6.5619],
            15: [7.7313, 7.809, 7.88, 7.945, 8.0046, 8.0594, 8.11, 8.1567, 8.1999, 8.2398, 8.2767, 8.3106, 8.3417, 8.37, 8.3956, 8.4185, 8.4388, 8.4565, 8.4716, 8.4843, 8.4947, 8.503, 8.5093, 8.5139, 8.5169, 8.5188, 8.5197, 8.5199, 8.5197, 8.5196, 8.5196, 8.5202, 8.5217, 8.5243, 8.5282, 8.5338, 8.5412, 8.5507, 8.5623, 8.5763, 8.5926, 8.6112, 8.6321, 8.6552, 8.6799, 8.706, 8.7328, 8.7594, 8.7847, 8.8076, 8.8265, 8.8398, 8.8458, 8.8429, 8.8295, 8.8043, 8.7664, 8.7154, 8.6516, 8.5757, 8.4889, 8.3932, 8.2906, 8.1834, 8.074, 7.9648, 7.8577, 7.7547, 7.6574, 7.5668, 7.4838, 7.4091, 7.3428, 7.2849, 7.2351, 7.1929, 7.1576, 7.1283, 7.1042, 7.0841, 7.0669, 7.0516, 7.0369, 7.022, 7.006, 6.988, 6.9676, 6.9443, 6.918, 6.8884, 6.8558, 6.8201, 6.7816, 6.7405, 6.6968, 6.6507, 6.6022, 6.5512, 6.4976, 6.4411],
            20: [7.6923, 7.7718, 7.8447, 7.9115, 7.973, 8.0295, 8.0816, 8.1295, 8.1736, 8.214, 8.2509, 8.2846, 8.315, 8.3424, 8.367, 8.389, 8.4087, 8.4264, 8.4425, 8.4576, 8.4722, 8.4868, 8.5022, 8.5189, 8.5377, 8.5594, 8.5845, 8.6139, 8.6483, 8.6884, 8.7352, 8.7892, 8.8514, 8.9227, 9.0037, 9.0953, 9.1984, 9.3137, 9.4419, 9.5834, 9.7388, 9.9082, 10.0915, 10.2882, 10.4975, 10.7181, 10.948, 11.1848, 11.4253, 11.6659, 11.9022, 12.1295, 12.3426, 12.5365, 12.7061, 12.8469, 12.9551, 13.0281, 13.0644, 13.0636, 13.0268, 12.9563, 12.8549, 12.7264, 12.5748, 12.4042, 12.2185, 12.0213, 11.8158, 11.6046, 11.3899, 11.1736, 10.9569, 10.7408, 10.5262, 10.3136, 10.1035, 9.896, 9.6915, 9.4903, 9.2926, 9.0987, 8.9089, 8.7234, 8.5428, 8.3672, 8.1973, 8.0332, 7.8754, 7.7241, 7.5796, 7.4419, 7.3112, 7.1871, 7.0696, 6.9581, 6.8523, 6.7514, 6.6548, 6.5615],
            25: [7.6426, 7.7232, 7.797, 7.8649, 7.9271, 7.9844, 8.0369, 8.0851, 8.1293, 8.1696, 8.2064, 8.2399, 8.2705, 8.2985, 8.3245, 8.3489, 8.3725, 8.396, 8.4202, 8.446, 8.4745, 8.5067, 8.5436, 8.5864, 8.636, 8.6938, 8.7607, 8.8381, 8.927, 9.0286, 9.1442, 9.2751, 9.4224, 9.5875, 9.7716, 9.976, 10.2017, 10.4497, 10.7209, 11.0158, 11.3347, 11.6773, 12.0432, 12.431, 12.8389, 13.2643, 13.7037, 14.1528, 14.6065, 15.0586, 15.5023, 15.93, 16.3339, 16.7059, 17.0383, 17.3241, 17.5576, 17.7344, 17.852, 17.9098, 17.909, 17.8525, 17.7447, 17.5905, 17.3958, 17.1662, 16.9075, 16.6246, 16.3223, 16.0043, 15.6738, 15.3334, 14.9851, 14.6305, 14.2707, 13.907, 13.5401, 13.1711, 12.8009, 12.4305, 12.0612, 11.6942, 11.331, 10.9731, 10.6222, 10.28, 9.9481, 9.628, 9.3212, 9.0287, 8.7516, 8.4903, 8.2453, 8.0165, 7.8035, 7.6059, 7.4226, 7.2526, 7.0947, 6.9474],
            30: [7.5825, 7.664, 7.7388, 7.8077, 7.871, 7.9293, 7.9831, 8.0327, 8.0785, 8.1211, 8.1607, 8.198, 8.2337, 8.2684, 8.303, 8.3385, 8.376, 8.4167, 8.4619, 8.5129, 8.5713, 8.6383, 8.7157, 8.8049, 8.9075, 9.025, 9.1591, 9.3115, 9.4837, 9.6775, 9.8945, 10.1365, 10.405, 10.7018, 11.0283, 11.386, 11.7761, 12.1996, 12.6573, 13.1494, 13.6758, 14.2357, 14.8278, 15.4499, 16.0989, 16.7706, 17.4601, 18.1609, 18.8655, 19.5653, 20.2505, 20.9107, 21.5346, 22.1113, 22.6299, 23.0807, 23.4557, 23.7488, 23.9566, 24.0779, 24.1145, 24.0703, 23.9508, 23.7632, 23.5152, 23.2146, 22.869, 22.4854, 22.07, 21.628, 21.1638, 20.6807, 20.1814, 19.6682, 19.1428, 18.6067, 18.0612, 17.5079, 16.9481, 16.3838, 15.8169, 15.2497, 14.6847, 14.1247, 13.5727, 13.0316, 12.5046, 11.9945, 11.5038, 11.0349, 10.5897, 10.1694, 9.775, 9.4067, 9.0644, 8.7475, 8.4548, 8.1849, 7.936, 7.7062],
            35: [7.5277, 7.6111, 7.6881, 7.7595, 7.8259, 7.8878, 7.9458, 8.0005, 8.0525, 8.1024, 8.1512, 8.1995, 8.2484, 8.299, 8.3526, 8.4106, 8.4745, 8.5459, 8.6265, 8.7182, 8.8229, 8.9425, 9.0789, 9.2344, 9.4109, 9.6106, 9.8356, 10.0881, 10.3703, 10.6843, 11.0322, 11.4161, 11.838, 12.2999, 12.8034, 13.3501, 13.9412, 14.5776, 15.2599, 15.9881, 16.7614, 17.5786, 18.4373, 19.3345, 20.2656, 21.2252, 22.206, 23.1997, 24.196, 25.1835, 26.1492, 27.079, 27.9583, 28.7722, 29.5064, 30.1482, 30.6867, 31.1138, 31.4249, 31.6185, 31.6967, 31.6645, 31.5295, 31.3008, 30.9885, 30.603, 30.1544, 29.6517, 29.103, 28.5153, 27.8941, 27.244, 26.5685, 25.8704, 25.1521, 24.4155, 23.6625, 22.895, 22.1153, 21.3259, 20.5296, 19.7297, 18.93, 18.1345, 17.3477, 16.5739, 15.8177, 15.0833, 14.3747, 13.6954, 13.0482, 12.4353, 11.8582, 11.3175, 10.8134, 10.345, 9.9113, 9.5102, 9.1398, 8.7974],
            40: [7.4895, 7.5767, 7.6581, 7.7348, 7.8073, 7.8765, 7.943, 8.0078, 8.0716, 8.1354, 8.2003, 8.2675, 8.3383, 8.4142, 8.497, 8.5883, 8.6901, 8.8046, 8.9338, 9.0801, 9.246, 9.4339, 9.6464, 9.8861, 10.1557, 10.4581, 10.7958, 11.1717, 11.5884, 12.0486, 12.555, 13.1099, 13.7157, 14.3746, 15.0884, 15.8587, 16.6869, 17.5736, 18.5193, 19.5236, 20.5853, 21.7023, 22.8717, 24.0891, 25.3485, 26.6428, 27.9627, 29.2971, 30.633, 31.9555, 33.2479, 34.4921, 35.6691, 36.7597, 37.7457, 38.6102, 39.3393, 39.9225, 40.3537, 40.6308, 40.7564, 40.737, 40.5819, 40.3031, 39.9135, 39.4262, 38.8542, 38.2092, 37.5016, 36.7401, 35.9319, 35.0828, 34.1973, 33.2791, 32.331, 31.3555, 30.3553, 29.3328, 28.291, 27.2333, 26.1636, 25.0863, 24.0067, 22.9303, 21.8631, 20.8113, 19.781, 18.7782, 17.8084, 16.8764, 15.9862, 15.1409, 14.3428, 13.5929, 12.8915, 12.2379, 11.6308, 11.0679, 10.5469, 10.0647],
            45: [7.4708, 7.5644, 7.6534, 7.7388, 7.8216, 7.9027, 7.983, 8.0637, 8.146, 8.231, 8.3202, 8.4152, 8.5177, 8.6295, 8.7528, 8.8899, 9.043, 9.215, 9.4084, 9.6263, 9.8717, 10.1477, 10.4576, 10.8048, 11.1927, 11.6247, 12.1044, 12.6351, 13.2201, 13.8628, 14.5662, 15.3331, 16.1665, 17.0685, 18.0414, 19.0869, 20.2063, 21.4003, 22.6689, 24.0115, 25.4264, 26.9108, 28.4605, 30.0699, 31.7314, 33.4357, 35.171, 36.9232, 38.6756, 40.4093, 42.1028, 43.7331, 45.2759, 46.7068, 48.0021, 49.1404, 50.1037, 50.8783, 51.4562, 51.8346, 52.0166, 52.0103, 51.8275, 51.4831, 50.9937, 50.3761, 49.6464, 48.8197, 47.9091, 46.9257, 45.8786, 44.7751, 43.6209, 42.4206, 41.1778, 39.8959, 38.578, 37.2275, 35.8484, 34.4452, 33.0232, 31.5886, 30.1483, 28.71, 27.2819, 25.8724, 24.4901, 23.1431, 21.839, 20.5845, 19.3852, 18.2456, 17.1686, 16.1563, 15.209, 14.3261, 13.5062, 12.7467, 12.0447, 11.3964],
            50: [7.4741, 7.5778, 7.6786, 7.7777, 7.8762, 7.9755, 8.0767, 8.1813, 8.2908, 8.4068, 8.5311, 8.6658, 8.8129, 8.975, 9.1546, 9.3546, 9.5779, 9.8279, 10.108, 10.422, 10.7736, 11.167, 11.6063, 12.0958, 12.6398, 13.2427, 13.9089, 14.6425, 15.4478, 16.3288, 17.2891, 18.3323, 19.4615, 20.6797, 21.9891, 23.3917, 24.8888, 26.481, 28.1682, 29.9492, 31.8217, 33.7819, 35.8244, 37.9419, 40.1246, 42.3605, 44.6345, 46.9285, 49.2213, 51.4886, 53.703, 55.8348, 57.8528, 59.7256, 61.4226, 62.916, 64.1824, 65.2039, 65.9698, 66.4762, 66.7267, 66.7312, 66.5048, 66.0664, 65.4369, 64.6376, 63.6894, 62.6113, 61.4199, 60.1293, 58.7513, 57.2948, 55.7673, 54.1745, 52.5211, 50.8115, 49.05, 47.2413, 45.3907, 43.5046, 41.5908, 39.6578, 37.7157, 35.7753, 33.8485, 31.9472, 30.0837, 28.2695, 26.5154, 24.831, 23.2243, 21.7015, 20.2668, 18.9229, 17.6703, 16.5081, 15.434, 14.4445, 13.5351, 12.7009],
            55: [7.4979, 7.6146, 7.7305, 7.847, 7.9655, 8.0876, 8.2149, 8.3491, 8.4922, 8.6461, 8.8132, 8.9959, 9.1969, 9.4191, 9.6658, 9.9404, 10.2466, 10.5886, 10.9705, 11.397, 11.8729, 12.4031, 12.9929, 13.6476, 14.3725, 15.1731, 16.0548, 17.0226, 18.0818, 19.2371, 20.4931, 21.8539, 23.3233, 24.9045, 26.6002, 28.4127, 30.3432, 32.3923, 34.5597, 36.8435, 39.2408, 41.7467, 44.3542, 47.0541, 49.8344, 52.6798, 55.5716, 58.4871, 61.3998, 64.2792, 67.091, 69.798, 72.361, 74.7402, 76.8969, 78.7959, 80.4072, 81.7079, 82.6837, 83.3294, 83.6488, 83.6538, 83.3631, 82.7998, 81.99, 80.9602, 79.7363, 78.3418, 76.7976, 75.1212, 73.3269, 71.4263, 69.4284, 67.3407, 65.1693, 62.9201, 60.5991, 58.2131, 55.7699, 53.279, 50.7515, 48.2001, 45.6396, 43.0856, 40.555, 38.0651, 35.6329, 33.2746, 31.0051, 28.837, 26.7808, 24.844, 23.0316, 21.3457, 19.786, 18.3498, 17.0327, 15.8288, 14.7312, 13.7322],
            60: [7.5429, 7.6779, 7.8149, 7.9556, 8.1017, 8.2554, 8.4185, 8.5934, 8.7823, 8.9879, 9.213, 9.4606, 9.7341, 10.0371, 10.3736, 10.7479, 11.1647, 11.6291, 12.1462, 12.7219, 13.3621, 14.0731, 14.8614, 15.7337, 16.6967, 17.7571, 18.9217, 20.1969, 21.589, 23.1039, 24.7472, 26.5239, 28.4384, 30.4947, 32.6958, 35.0443, 37.5415, 40.188, 42.9827, 45.9235, 49.0062, 52.2246, 55.5698, 59.03, 62.5901, 66.2308, 69.9284, 73.6545, 77.3756, 81.0532, 84.6438, 88.1002, 91.3724, 94.4096, 97.1621, 99.5846, 101.638, 103.2923, 104.5284, 105.3384, 105.7263, 105.7063, 105.3013, 104.54, 103.4549, 102.0794, 100.4456, 98.5834, 96.5189, 94.2742, 91.8676, 89.3138, 86.625, 83.8111, 80.8813, 77.8445, 74.7104, 71.4899, 68.1962, 64.8444, 61.4524, 58.0405, 54.6309, 51.2476, 47.9152, 44.6585, 41.501, 38.4644, 35.5674, 32.8254, 30.2496, 27.8474, 25.6217, 23.5721, 21.6945, 19.9824, 18.427, 17.0181, 15.7447, 14.5951],
            65: [7.5997, 7.7572, 7.9201, 8.0905, 8.2706, 8.4629, 8.6699, 8.8942, 9.139, 9.4072, 9.7025, 10.0286, 10.3896, 10.7899, 11.2344, 11.7285, 12.2778, 12.8885, 13.5671, 14.3207, 15.1567, 16.0828, 17.107, 18.2377, 19.483, 20.8515, 22.3512, 23.9903, 25.7765, 27.7169, 29.8182, 32.0866, 34.5273, 37.1449, 39.9431, 42.9245, 46.0906, 49.4417, 52.9764, 56.6915, 60.5818, 64.6392, 68.8526, 73.2074, 77.6844, 82.2599, 86.9044, 91.5826, 96.2526, 100.8664, 105.3697, 109.7032, 113.8037, 117.6071, 121.0502, 124.0749, 126.6308, 128.6788, 130.1931, 131.1624, 131.5902, 131.4928, 130.8978, 129.8405, 128.3608, 126.4999, 124.2981, 121.7926, 119.0164, 115.9976, 112.76, 109.3235, 105.7051, 101.9199, 97.9826, 93.9082, 89.7136, 85.4178, 81.043, 76.6142, 72.1599, 67.711, 63.3005, 58.962, 54.7292, 50.6337, 46.7046, 42.9666, 39.4397, 36.1383, 33.071, 30.241, 27.6465, 25.2809, 23.1346, 21.1949, 19.4474, 17.8768, 16.4672, 15.2029],
            70: [7.6529, 7.8376, 8.0319, 8.2382, 8.4593, 8.6982, 8.9579, 9.2419, 9.5538, 9.8974, 10.2769, 10.697, 11.1627, 11.6794, 12.2529, 12.8897, 13.5967, 14.3815, 15.2519, 16.2166, 17.2846, 18.4653, 19.7687, 21.2048, 22.7837, 24.5159, 26.4113, 28.4798, 30.7306, 33.1726, 35.8139, 38.6615, 41.722, 45.0004, 48.501, 52.2267, 56.179, 60.3578, 64.761, 69.3845, 74.2213, 79.2614, 84.4911, 89.8919, 95.4406, 101.1076, 106.8569, 112.6448, 118.4198, 124.1224, 129.6852, 135.0342, 140.0907, 144.7736, 149.0033, 152.7055, 155.8158, 158.2828, 160.0723, 161.1678, 161.5714, 161.3018, 160.3919, 158.8845, 156.8287, 154.2757, 151.2761, 147.8769, 144.1206, 140.0447, 135.6816, 131.0601, 126.2061, 121.1443, 115.8999, 110.4993, 104.9716, 99.3492, 93.6677, 87.9664, 82.2868, 76.6724, 71.1669, 65.8127, 60.6497, 55.7131, 51.0328, 46.6321, 42.527, 38.7265, 35.2326, 32.0409, 29.142, 26.5218, 24.1633, 22.0474, 20.1538, 18.4618, 16.9514, 15.6031],
            75: [7.6604, 7.8793, 8.1128, 8.3641, 8.6367, 8.9341, 9.2602, 9.619, 10.0151, 10.4531, 10.9382, 11.476, 12.0726, 12.7345, 13.4689, 14.2836, 15.1869, 16.1879, 17.2964, 18.5228, 19.8782, 21.3741, 23.0226, 24.8361, 26.8271, 29.0082, 31.3917, 33.9896, 36.8133, 39.8733, 43.1794, 46.74, 50.5626, 54.6534, 59.0168, 63.656, 68.5724, 73.7651, 79.2314, 84.9653, 90.9581, 97.197, 103.6648, 110.3387, 117.1899, 124.1819, 131.2704, 138.4015, 145.5113, 152.5261, 159.3619, 165.9261, 172.1195, 177.8395, 182.9847, 187.4596, 191.1805, 194.0801, 196.112, 197.2525, 197.5015, 196.8804, 195.429, 193.2004, 190.2566, 186.6634, 182.4862, 177.788, 172.6266, 167.055, 161.1217, 154.8713, 148.3464, 141.5892, 134.6428, 127.5521, 120.3649, 113.1318, 105.9056, 98.741, 91.6928, 84.8145, 78.1568, 71.7656, 65.6808, 59.9349, 54.5522, 49.5485, 44.931, 40.6989, 36.8445, 33.3537, 30.2078, 27.3846, 24.8596, 22.6072, 20.6016, 18.8175, 17.2311, 15.8198],
            80: [7.5707, 7.8154, 8.0788, 8.3646, 8.6767, 9.019, 9.396, 9.8124, 10.2732, 10.7838, 11.3501, 11.9783, 12.6754, 13.4486, 14.3062, 15.2568, 16.3099, 17.4759, 18.7658, 20.1913, 21.7651, 23.5003, 25.4106, 27.5101, 29.8132, 32.3341, 35.0868, 38.0849, 41.3413, 44.8679, 48.6755, 52.7736, 57.1704, 61.8725, 66.8847, 72.2103, 77.8501, 83.8029, 90.065, 96.6294, 103.4855, 110.6184, 118.0083, 125.6289, 133.4472, 141.4216, 149.5011, 157.624, 165.7173, 173.6959, 181.4631, 188.9115, 195.926, 202.3869, 208.1753, 213.1788, 217.2981, 220.4529, 222.5869, 223.6707, 223.7026, 222.7065, 220.7284, 217.8308, 214.0874, 209.5772, 204.3803, 198.5742, 192.2323, 185.423, 178.2105, 170.6551, 162.8155, 154.7497, 146.5162, 138.175, 129.7878, 121.4173, 113.1267, 104.9787, 97.0335, 89.3472, 81.9708, 74.948, 68.3146, 62.0975, 56.3142, 50.9731, 46.074, 41.6087, 37.5622, 33.9141, 30.6399, 27.7122, 25.1022, 22.7805, 20.7184, 18.8881, 17.2635, 15.8206],
            85: [7.331, 7.5985, 7.8886, 8.2054, 8.553, 8.936, 9.3593, 9.8281, 10.3479, 10.9246, 11.5647, 12.2752, 13.0635, 13.9377, 14.9069, 15.9805, 17.169, 18.4837, 19.9368, 21.5413, 23.311, 25.2606, 27.4052, 29.7604, 32.3421, 35.166, 38.2476, 41.602, 45.2433, 49.1844, 53.4373, 58.0122, 62.9178, 68.1612, 73.7473, 79.6791, 85.9573, 92.5802, 99.5429, 106.8374, 114.4515, 122.3683, 130.5655, 139.0138, 147.6763, 156.5067, 165.4483, 174.4323, 183.3771, 192.1878, 200.7557, 208.9605, 216.6721, 223.7552, 230.0748, 235.5028, 239.9256, 243.2509, 245.4134, 246.3789, 246.1444, 244.737, 242.2094, 238.6341, 234.0969, 228.6911, 222.5116, 215.6519, 208.2015, 200.245, 191.8626, 183.1305, 174.1228, 164.9122, 155.571, 146.1713, 136.7853, 127.4843, 118.3379, 109.4123, 100.7693, 92.4645, 84.546, 77.0536, 70.0175, 63.4586, 57.3878, 51.807, 46.7094, 42.0807, 37.9006, 34.1436, 30.7809, 27.7814, 25.113, 22.7439, 20.6431, 18.7811, 17.1304, 15.6659],
            90: [6.9369, 7.2209, 7.5308, 7.8707, 8.2453, 8.6593, 9.118, 9.6269, 10.1919, 10.8194, 11.5162, 12.2896, 13.1477, 14.099, 15.153, 16.32, 17.6109, 19.0378, 20.6138, 22.3525, 24.269, 26.3787, 28.6979, 31.2433, 34.0318, 37.0803, 40.4054, 44.023, 47.9482, 52.1949, 56.7755, 61.7009, 66.9801, 72.6204, 78.6267, 85.002, 91.7466, 98.8581, 106.3312, 114.1567, 122.3213, 130.8066, 139.5884, 148.6351, 157.9069, 167.3541, 176.9156, 186.5176, 196.0722, 205.4769, 214.6145, 223.3545, 231.5562, 239.0723, 245.7559, 251.4671, 256.0816, 259.4982, 261.6454, 262.485, 262.0142, 260.2628, 257.2893, 253.1745, 248.0146, 241.9142, 234.9809, 227.321, 219.0371, 210.2267, 200.9825, 191.3931, 181.5437, 171.5176, 161.3962, 151.2598, 141.1866, 131.2526, 121.5301, 112.0865, 102.9831, 94.2737, 86.0034, 78.2081, 70.9138, 64.1367, 57.883, 52.1499, 46.9265, 42.1943, 37.9295, 34.1035, 30.6845, 27.6393, 24.9338, 22.5345, 20.409, 18.5268, 16.8594, 15.3811],
            95: [6.2403, 6.5387, 6.8664, 7.2277, 7.6276, 8.071, 8.5634, 9.1106, 9.7188, 10.3947, 11.1454, 11.9785, 12.9024, 13.9262, 15.0597, 16.3134, 17.6992, 19.2295, 20.9181, 22.7795, 24.8293, 27.0839, 29.5606, 32.2769, 35.2507, 38.4999, 42.0419, 45.8936, 50.0708, 54.588, 59.4582, 64.6928, 70.301, 76.2901, 82.6652, 89.4289, 96.5813, 104.1195, 112.0373, 120.3247, 128.9673, 137.9455, 147.2331, 156.7967, 166.594, 176.572, 186.6661, 196.7979, 206.874, 216.7853, 226.4072, 235.6005, 244.2147, 252.0925, 259.0763, 265.016, 269.778, 273.2535, 275.3653, 276.0727, 275.3728, 273.2984, 269.9139, 265.3079, 259.5861, 252.8641, 245.261, 236.895, 227.8805, 218.3267, 208.3374, 198.0117, 187.4444, 176.7275, 165.9495, 155.1968, 144.5521, 134.0942, 123.8971, 114.0281, 104.5476, 95.5071, 86.949, 78.9057, 71.3997, 64.4429, 58.0381, 52.1786, 46.8501, 42.0312, 37.6949, 33.8102, 30.3434, 27.2592, 24.5221, 22.097, 19.9505, 18.0512, 16.3699, 14.8803],
            100: [2.1648, 2.4616, 2.8012, 3.1883, 3.6278, 4.1251, 4.6856, 5.3155, 6.0211, 6.8091, 7.687, 8.6626, 9.7446, 10.9423, 12.2661, 13.7272, 15.3381, 17.1123, 19.0647, 21.2112, 23.5689, 26.156, 28.9915, 32.0949, 35.4861, 39.1848, 43.2104, 47.5812, 52.3146, 57.4262, 62.9299, 68.8374, 75.1584, 81.8999, 89.0664, 96.6597, 104.6785, 113.1186, 121.9718, 131.2259, 140.8639, 150.8627, 161.1929, 171.8164, 182.6857, 193.7417, 204.9122, 216.1096, 227.2299, 238.1513, 248.7342, 258.8227, 268.2476, 276.8318, 284.3975, 290.775, 295.813, 299.3881, 301.4132, 301.8428, 300.6749, 297.9489, 293.7409, 288.1554, 281.3175, 273.3641, 264.437, 254.6774, 244.2226, 233.2036, 221.7452, 209.9655, 197.9768, 185.8862, 173.7954, 161.8009, 149.9934, 138.4571, 127.2689, 116.4971, 106.201, 96.4298, 87.2221, 78.606, 70.5988, 63.2074, 56.4288, 50.2514, 44.6553, 39.6144, 35.097, 31.0679, 27.4891, 24.3216, 21.5264, 19.0653, 16.902, 15.0022, 13.3344, 11.8698]
        };

        const LevelPositions = {
            0: [1.5478, 1.5693, 1.5902, 1.6107, 1.6311, 1.6516, 1.6726, 1.6943, 1.7169, 1.741, 1.7667, 1.7946, 1.8251, 1.8586, 1.8958, 1.9372, 1.9835, 2.0353, 2.0933, 2.1583, 2.2311, 2.3126, 2.4036, 2.5049, 2.6176, 2.7424, 2.8804, 3.0323, 3.1991, 3.3815, 3.5804, 3.7964, 4.0303, 4.2826, 4.5537, 4.8442, 5.1542, 5.484, 5.8334, 6.2022, 6.59, 6.9959, 7.4189, 7.8574, 8.3094, 8.7725, 9.2434, 9.7184, 10.1933, 10.6628, 11.1214, 11.5629, 11.9808, 12.3686, 12.72, 13.0293, 13.2916, 13.5031, 13.6617, 13.7666, 13.8185, 13.8194, 13.7725, 13.6817, 13.5514, 13.3858, 13.1895, 12.9662, 12.7195, 12.4522, 12.1668, 11.8652, 11.5489, 11.219, 10.8766, 10.5226, 10.1578, 9.7832, 9.4, 9.0094, 8.6131, 8.2128, 7.8106, 7.4087, 7.0097, 6.616, 6.23, 5.8543, 5.4911, 5.1423, 4.8095, 4.4942, 4.1971, 3.9187, 3.6593, 3.4187, 3.1962, 2.9913, 2.803, 2.6302],
            5: [1.6529, 1.6758, 1.6981, 1.72, 1.7418, 1.7637, 1.7861, 1.8093, 1.8335, 1.8591, 1.8866, 1.9164, 1.9489, 1.9848, 2.0245, 2.0687, 2.1181, 2.1734, 2.2353, 2.3048, 2.3825, 2.4695, 2.5667, 2.6749, 2.7952, 2.9286, 3.0759, 3.2381, 3.4162, 3.611, 3.8234, 4.0541, 4.3038, 4.5732, 4.8628, 5.173, 5.504, 5.8562, 6.2293, 6.6231, 7.0372, 7.4707, 7.9224, 8.3907, 8.8734, 9.3678, 9.8707, 10.378, 10.8851, 11.3865, 11.8762, 12.3476, 12.7939, 13.208, 13.5833, 13.9136, 14.1936, 14.4195, 14.5889, 14.7009, 14.7563, 14.7573, 14.7072, 14.6103, 14.4711, 14.2943, 14.0846, 13.8462, 13.5827, 13.2973, 12.9926, 12.6705, 12.3327, 11.9804, 11.6148, 11.2367, 10.8472, 10.4472, 10.0379, 9.6209, 9.1976, 8.7701, 8.3406, 7.9115, 7.4854, 7.065, 6.6529, 6.2517, 5.8638, 5.4913, 5.1359, 4.7992, 4.4819, 4.1847, 3.9077, 3.6507, 3.4132, 3.1943, 2.9932, 2.8087],
            10: [1.778, 1.8026, 1.8266, 1.8502, 1.8736, 1.8973, 1.9213, 1.9462, 1.9723, 1.9999, 2.0294, 2.0615, 2.0965, 2.135, 2.1778, 2.2253, 2.2784, 2.3379, 2.4046, 2.4792, 2.5629, 2.6565, 2.761, 2.8774, 3.0068, 3.1503, 3.3087, 3.4832, 3.6748, 3.8844, 4.1128, 4.361, 4.6296, 4.9194, 5.2309, 5.5645, 5.9207, 6.2994, 6.7008, 7.1245, 7.5699, 8.0362, 8.5221, 9.0258, 9.5451, 10.0769, 10.6179, 11.1636, 11.709, 12.2484, 12.7752, 13.2823, 13.7623, 14.2078, 14.6115, 14.9668, 15.268, 15.5111, 15.6933, 15.8137, 15.8733, 15.8744, 15.8205, 15.7162, 15.5665, 15.3764, 15.1508, 14.8943, 14.6109, 14.3039, 13.9761, 13.6296, 13.2662, 12.8873, 12.494, 12.0873, 11.6683, 11.238, 10.7978, 10.3491, 9.8938, 9.434, 8.972, 8.5104, 8.0521, 7.5998, 7.1565, 6.7249, 6.3076, 5.9069, 5.5247, 5.1625, 4.8212, 4.5015, 4.2035, 3.927, 3.6715, 3.4361, 3.2198, 3.0214],
            15: [1.9492, 1.9762, 2.0025, 2.0284, 2.0541, 2.08, 2.1064, 2.1336, 2.1622, 2.1924, 2.2249, 2.26, 2.2984, 2.3406, 2.3875, 2.4396, 2.4978, 2.563, 2.6361, 2.718, 2.8097, 2.9123, 3.0269, 3.1545, 3.2964, 3.4536, 3.6273, 3.8187, 4.0287, 4.2584, 4.5089, 4.7809, 5.0754, 5.3931, 5.7346, 6.1004, 6.4908, 6.9061, 7.3461, 7.8105, 8.2989, 8.8101, 9.3428, 9.895, 10.4642, 11.0473, 11.6404, 12.2386, 12.8366, 13.4279, 14.0054, 14.5613, 15.0876, 15.576, 16.0186, 16.408, 16.7383, 17.0047, 17.2045, 17.3365, 17.4019, 17.403, 17.344, 17.2297, 17.0655, 16.857, 16.6098, 16.3286, 16.0179, 15.6813, 15.3219, 14.9421, 14.5437, 14.1283, 13.6971, 13.2513, 12.7919, 12.3202, 11.8376, 11.3457, 10.8466, 10.3425, 9.836, 9.33, 8.8274, 8.3316, 7.8456, 7.3725, 6.915, 6.4758, 6.0567, 5.6596, 5.2854, 4.935, 4.6083, 4.3052, 4.0251, 3.767, 3.5299, 3.3123],
            20: [2.1928, 2.2233, 2.2528, 2.2819, 2.3108, 2.3399, 2.3696, 2.4003, 2.4325, 2.4665, 2.503, 2.5425, 2.5856, 2.6332, 2.6859, 2.7446, 2.8101, 2.8834, 2.9656, 3.0577, 3.1609, 3.2763, 3.4052, 3.5488, 3.7084, 3.8853, 4.0808, 4.296, 4.5323, 4.7907, 5.0725, 5.3785, 5.7099, 6.0673, 6.4514, 6.8629, 7.3022, 7.7693, 8.2643, 8.7869, 9.3362, 9.9113, 10.5106, 11.1318, 11.7722, 12.4282, 13.0954, 13.7685, 14.4412, 15.1063, 15.756, 16.3815, 16.9736, 17.523, 18.0209, 18.459, 18.8306, 19.1303, 19.355, 19.5036, 19.5771, 19.5784, 19.512, 19.3834, 19.1987, 18.9642, 18.686, 18.3697, 18.0201, 17.6415, 17.2372, 16.8098, 16.3617, 15.8944, 15.4093, 14.9077, 14.3909, 13.8602, 13.3173, 12.7639, 12.2024, 11.6353, 11.0655, 10.4962, 9.9309, 9.3731, 8.8263, 8.294, 7.7794, 7.2852, 6.8138, 6.367, 5.9461, 5.5518, 5.1843, 4.8433, 4.5282, 4.2379, 3.9711, 3.7263],
            25: [2.5353, 2.5704, 2.6046, 2.6382, 2.6717, 2.7053, 2.7397, 2.7752, 2.8123, 2.8516, 2.8938, 2.9395, 2.9894, 3.0444, 3.1053, 3.1731, 3.2489, 3.3337, 3.4287, 3.5352, 3.6545, 3.7879, 3.937, 4.103, 4.2875, 4.492, 4.718, 4.9669, 5.24, 5.5388, 5.8646, 6.2184, 6.6015, 7.0147, 7.4589, 7.9346, 8.4424, 8.9825, 9.5549, 10.159, 10.7942, 11.4591, 12.1519, 12.8701, 13.6105, 14.369, 15.1403, 15.9185, 16.6962, 17.4653, 18.2164, 18.9395, 19.6241, 20.2593, 20.835, 21.3415, 21.7711, 22.1176, 22.3774, 22.5492, 22.6342, 22.6357, 22.5589, 22.4102, 22.1966, 21.9255, 21.6039, 21.2382, 20.8341, 20.3963, 19.9288, 19.4348, 18.9167, 18.3764, 17.8155, 17.2356, 16.6381, 16.0246, 15.3968, 14.7571, 14.1079, 13.4522, 12.7934, 12.1352, 11.4816, 10.8367, 10.2046, 9.5892, 8.9942, 8.4229, 7.8778, 7.3613, 6.8747, 6.4188, 5.9939, 5.5997, 5.2353, 4.8997, 4.5912, 4.3082],
            30: [3.0621, 3.1045, 3.1458, 3.1864, 3.2268, 3.2675, 3.309, 3.3518, 3.3967, 3.4442, 3.4951, 3.5503, 3.6106, 3.677, 3.7506, 3.8325, 3.924, 4.0264, 4.1412, 4.2698, 4.4139, 4.575, 4.755, 4.9556, 5.1784, 5.4254, 5.6984, 5.9989, 6.3289, 6.6898, 7.0832, 7.5106, 7.9732, 8.4723, 9.0087, 9.5834, 10.1967, 10.849, 11.5403, 12.27, 13.0371, 13.8402, 14.677, 15.5445, 16.4387, 17.3547, 18.2864, 19.2262, 20.1656, 21.0944, 22.0017, 22.875, 23.7018, 24.4691, 25.1643, 25.7762, 26.295, 26.7135, 27.0273, 27.2347, 27.3374, 27.3392, 27.2465, 27.0669, 26.8089, 26.4815, 26.093, 25.6513, 25.1632, 24.6345, 24.0699, 23.4732, 22.8474, 22.1948, 21.5175, 20.8171, 20.0954, 19.3543, 18.5962, 17.8235, 17.0394, 16.2475, 15.4518, 14.6568, 13.8674, 13.0885, 12.325, 11.5818, 10.8631, 10.1731, 9.5148, 8.8909, 8.3032, 7.7525, 7.2394, 6.7632, 6.3232, 5.9178, 5.5452, 5.2035],
            35: [3.7864, 3.8389, 3.89, 3.9402, 3.9902, 4.0404, 4.0917, 4.1447, 4.2002, 4.2589, 4.3219, 4.3902, 4.4647, 4.5468, 4.6378, 4.7391, 4.8522, 4.9789, 5.1208, 5.2799, 5.458, 5.6573, 5.8799, 6.1278, 6.4034, 6.7089, 7.0464, 7.418, 7.826, 8.2723, 8.7588, 9.2873, 9.8594, 10.4765, 11.1398, 11.8504, 12.6088, 13.4155, 14.2702, 15.1725, 16.1211, 17.1142, 18.1489, 19.2216, 20.3274, 21.4601, 22.6122, 23.7744, 24.9359, 26.0845, 27.2063, 28.2863, 29.3087, 30.2575, 31.1172, 31.8737, 32.5153, 33.0328, 33.4208, 33.6774, 33.8043, 33.8066, 33.6919, 33.4698, 33.1508, 32.7459, 32.2656, 31.7194, 31.1158, 30.462, 29.7639, 29.026, 28.2522, 27.4452, 26.6076, 25.7415, 24.8491, 23.9328, 22.9953, 22.0398, 21.0702, 20.0909, 19.107, 18.1241, 17.1479, 16.1847, 15.2406, 14.3215, 13.4329, 12.5796, 11.7656, 10.9941, 10.2673, 9.5865, 8.9519, 8.3631, 7.819, 7.3177, 6.857, 6.4344],
            40: [4.7083, 4.7736, 4.8372, 4.8996, 4.9617, 5.0242, 5.088, 5.1539, 5.2228, 5.2959, 5.3742, 5.4591, 5.5518, 5.6539, 5.767, 5.893, 6.0336, 6.1911, 6.3676, 6.5654, 6.7869, 7.0347, 7.3115, 7.6198, 7.9625, 8.3423, 8.762, 9.2242, 9.7315, 10.2864, 10.8914, 11.5485, 12.2599, 13.0273, 13.8522, 14.7357, 15.6788, 16.6819, 17.7447, 18.8667, 20.0463, 21.2811, 22.5678, 23.9017, 25.2767, 26.6852, 28.1177, 29.5629, 31.0073, 32.4355, 33.8305, 35.1734, 36.4447, 37.6245, 38.6935, 39.6343, 40.4321, 41.0756, 41.5581, 41.8771, 42.0349, 42.0377, 41.8951, 41.6189, 41.2223, 40.7189, 40.1215, 39.4423, 38.6918, 37.8788, 37.0107, 36.0932, 35.1309, 34.1275, 33.086, 32.009, 30.8993, 29.7599, 28.5941, 27.406, 26.2003, 24.9827, 23.7592, 22.5369, 21.323, 20.1253, 18.9514, 17.8085, 16.7035, 15.6424, 14.6303, 13.671, 12.7672, 11.9206, 11.1315, 10.3994, 9.7227, 9.0994, 8.5265, 8.001],
            45: [5.8936, 5.9754, 6.0549, 6.1331, 6.2108, 6.289, 6.3689, 6.4513, 6.5377, 6.6291, 6.7272, 6.8334, 6.9494, 7.0772, 7.2188, 7.3765, 7.5526, 7.7497, 7.9706, 8.2182, 8.4955, 8.8057, 9.1521, 9.5381, 9.9671, 10.4425, 10.9678, 11.5463, 12.1813, 12.876, 13.6332, 14.4559, 15.3463, 16.3069, 17.3394, 18.4454, 19.6259, 20.8815, 22.2119, 23.6164, 25.0929, 26.6386, 28.2492, 29.9189, 31.6401, 33.4032, 35.1963, 37.0053, 38.8133, 40.6011, 42.3473, 44.0283, 45.6196, 47.0964, 48.4345, 49.6122, 50.6108, 51.4163, 52.0202, 52.4196, 52.6171, 52.6206, 52.4421, 52.0964, 51.6, 50.9698, 50.2221, 49.3719, 48.4324, 47.4148, 46.3281, 45.1796, 43.9751, 42.7191, 41.4153, 40.0672, 38.6782, 37.2519, 35.7926, 34.3054, 32.7962, 31.272, 29.7405, 28.2105, 26.6911, 25.1919, 23.7224, 22.2918, 20.9086, 19.5804, 18.3134, 17.1126, 15.9813, 14.9216, 13.9338, 13.0174, 12.1704, 11.3901, 10.6731, 10.0153],
            50: [7.4741, 7.5778, 7.6786, 7.7777, 7.8762, 7.9755, 8.0767, 8.1813, 8.2908, 8.4068, 8.5311, 8.6658, 8.8129, 8.975, 9.1546, 9.3546, 9.5779, 9.8279, 10.108, 10.422, 10.7736, 11.167, 11.6063, 12.0958, 12.6398, 13.2427, 13.9089, 14.6425, 15.4478, 16.3288, 17.2891, 18.3323, 19.4615, 20.6797, 21.9891, 23.3917, 24.8888, 26.481, 28.1682, 29.9492, 31.8217, 33.7819, 35.8244, 37.9419, 40.1246, 42.3605, 44.6345, 46.9285, 49.2213, 51.4886, 53.703, 55.8348, 57.8528, 59.7256, 61.4226, 62.916, 64.1824, 65.2039, 65.9698, 66.4762, 66.7267, 66.7312, 66.5048, 66.0664, 65.4369, 64.6376, 63.6894, 62.6113, 61.4199, 60.1293, 58.7513, 57.2948, 55.7673, 54.1745, 52.5211, 50.8115, 49.05, 47.2413, 45.3907, 43.5046, 41.5908, 39.6578, 37.7157, 35.7753, 33.8485, 31.9472, 30.0837, 28.2695, 26.5154, 24.831, 23.2243, 21.7015, 20.2668, 18.9229, 17.6703, 16.5081, 15.434, 14.4445, 13.5351, 12.7009],
            55: [9.3179, 9.4472, 9.5728, 9.6964, 9.8193, 9.943, 10.0692, 10.1996, 10.3361, 10.4807, 10.6357, 10.8036, 10.9871, 11.1891, 11.413, 11.6623, 11.9407, 12.2524, 12.6016, 12.993, 13.4315, 13.9219, 14.4696, 15.0798, 15.758, 16.5097, 17.3402, 18.2548, 19.2588, 20.357, 21.5542, 22.8548, 24.2626, 25.7813, 27.4137, 29.1623, 31.0287, 33.0138, 35.1172, 37.3376, 39.672, 42.1158, 44.6622, 47.302, 50.0232, 52.8106, 55.6456, 58.5056, 61.3641, 64.1906, 66.9513, 69.609, 72.1249, 74.4596, 76.5753, 78.4371, 80.0159, 81.2895, 82.2443, 82.8756, 83.1879, 83.1935, 82.9113, 82.3647, 81.5799, 80.5835, 79.4013, 78.0572, 76.5719, 74.963, 73.245, 71.4292, 69.5249, 67.5391, 65.4779, 63.3465, 61.1505, 58.8955, 56.5884, 54.2371, 51.851, 49.4412, 47.02, 44.6009, 42.1988, 39.8285, 37.5052, 35.2434, 33.0566, 30.9567, 28.9536, 27.0551, 25.2666, 23.5911, 22.0295, 20.5806, 19.2415, 18.0079, 16.8742, 15.8342],
            60: [11.7544, 11.9174, 12.076, 12.2319, 12.3869, 12.5429, 12.7022, 12.8667, 13.0388, 13.2213, 13.4168, 13.6286, 13.86, 14.1149, 14.3974, 14.7118, 15.063, 15.4562, 15.8968, 16.3905, 16.9436, 17.5623, 18.2532, 19.023, 19.8785, 20.8267, 21.8743, 23.0281, 24.2946, 25.6801, 27.1903, 28.831, 30.6069, 32.5227, 34.5819, 36.7878, 39.1422, 41.6463, 44.2998, 47.1008, 50.0456, 53.1284, 56.3406, 59.6707, 63.1034, 66.6198, 70.196, 73.8039, 77.4098, 80.9755, 84.458, 87.8106, 90.9844, 93.9297, 96.5985, 98.9472, 100.9388, 102.5454, 103.7498, 104.5463, 104.9402, 104.9473, 104.5913, 103.9018, 102.9117, 101.6548, 100.1635, 98.4679, 96.5942, 94.5647, 92.3974, 90.1068, 87.7045, 85.1995, 82.5993, 79.9106, 77.1403, 74.2957, 71.3853, 68.4192, 65.4093, 62.3693, 59.3149, 56.2634, 53.2331, 50.243, 47.3122, 44.459, 41.7004, 39.0514, 36.5246, 34.1296, 31.8734, 29.7598, 27.7898, 25.9621, 24.2729, 22.7166, 21.2865, 19.9745],
            65: [14.6518, 14.8551, 15.0527, 15.247, 15.4402, 15.6348, 15.8332, 16.0383, 16.2529, 16.4803, 16.724, 16.988, 17.2765, 17.5942, 17.9463, 18.3382, 18.776, 19.2661, 19.8153, 20.4308, 21.1201, 21.8913, 22.7525, 23.7121, 24.7785, 25.9605, 27.2663, 28.7045, 30.2832, 32.0101, 33.8927, 35.9377, 38.1515, 40.5395, 43.1064, 45.8559, 48.7907, 51.9121, 55.2196, 58.7111, 62.3818, 66.2245, 70.2285, 74.3794, 78.6583, 83.0414, 87.4993, 91.9964, 96.4912, 100.9358, 105.2767, 109.4558, 113.4119, 117.0832, 120.4099, 123.3375, 125.82, 127.8227, 129.324, 130.3168, 130.8079, 130.8167, 130.3729, 129.5134, 128.2793, 126.7125, 124.8537, 122.7402, 120.4046, 117.8747, 115.1732, 112.3181, 109.3236, 106.201, 102.9599, 99.6085, 96.1553, 92.6095, 88.9817, 85.2844, 81.5326, 77.7432, 73.936, 70.1322, 66.3549, 62.6278, 58.9746, 55.4181, 51.9795, 48.6775, 45.5278, 42.5425, 39.7301, 37.0955, 34.64, 32.3617, 30.2561, 28.3163, 26.5336, 24.8982],
            70: [18.076, 18.3268, 18.5706, 18.8103, 19.0487, 19.2887, 19.5336, 19.7865, 20.0513, 20.3318, 20.6325, 20.9582, 21.3141, 21.7061, 22.1405, 22.624, 23.1641, 23.7687, 24.4463, 25.2056, 26.0561, 27.0075, 28.07, 29.2538, 30.5695, 32.0276, 33.6387, 35.413, 37.3606, 39.4912, 41.8137, 44.3367, 47.0678, 50.0138, 53.1806, 56.5728, 60.1935, 64.0443, 68.1249, 72.4323, 76.9609, 81.7017, 86.6415, 91.7625, 97.0414, 102.4489, 107.9485, 113.4967, 119.0419, 124.5253, 129.8807, 135.0365, 139.9172, 144.4464, 148.5506, 152.1624, 155.2252, 157.6959, 159.5481, 160.7729, 161.3787, 161.3896, 160.8421, 159.7817, 158.2592, 156.3262, 154.033, 151.4255, 148.5441, 145.423, 142.0901, 138.5677, 134.8733, 131.0211, 127.0224, 122.8878, 118.6276, 114.2531, 109.7774, 105.2161, 100.5874, 95.9124, 91.2154, 86.5227, 81.8626, 77.2644, 72.7574, 68.3697, 64.1275, 60.0539, 56.168, 52.485, 49.0154, 45.765, 42.7356, 39.9249, 37.3272, 34.934, 32.7347, 30.7172],
            75: [22.2905, 22.5997, 22.9004, 23.196, 23.4899, 23.7859, 24.0878, 24.3998, 24.7263, 25.0722, 25.443, 25.8446, 26.2836, 26.7669, 27.3025, 27.8988, 28.5649, 29.3105, 30.1459, 31.0823, 32.1311, 33.3044, 34.6145, 36.0743, 37.6968, 39.4949, 41.4816, 43.6696, 46.0713, 48.6986, 51.5626, 54.6738, 58.0417, 61.6746, 65.5798, 69.7628, 74.2277, 78.9764, 84.0083, 89.32, 94.9044, 100.7505, 106.842, 113.157, 119.6667, 126.335, 133.1169, 139.9586, 146.7967, 153.5585, 160.1626, 166.5204, 172.539, 178.1243, 183.1853, 187.6393, 191.4161, 194.4628, 196.7469, 198.2572, 199.0043, 199.0177, 198.3426, 197.035, 195.1575, 192.7739, 189.946, 186.7305, 183.1773, 179.3285, 175.2185, 170.8749, 166.3192, 161.5688, 156.6378, 151.5392, 146.2857, 140.8913, 135.3722, 129.7473, 124.0394, 118.2745, 112.4824, 106.6955, 100.949, 95.2787, 89.7209, 84.3102, 79.079, 74.0555, 69.2637, 64.722, 60.4434, 56.4352, 52.6995, 49.2334, 46.03, 43.0789, 40.3669, 37.8789],
            80: [25.4513, 25.8044, 26.1477, 26.4852, 26.8209, 27.1588, 27.5035, 27.8597, 28.2325, 28.6275, 29.0509, 29.5095, 30.0106, 30.5625, 31.1741, 31.8549, 32.6154, 33.4667, 34.4207, 35.4898, 36.6874, 38.027, 39.5229, 41.1898, 43.0423, 45.0953, 47.3638, 49.862, 52.6043, 55.6041, 58.8743, 62.4267, 66.2721, 70.4202, 74.8791, 79.6553, 84.7533, 90.1754, 95.9208, 101.9857, 108.3621, 115.0371, 121.9924, 129.2029, 136.6357, 144.2495, 151.9931, 159.805, 167.6128, 175.3334, 182.8739, 190.1333, 197.0054, 203.3827, 209.1614, 214.2469, 218.5593, 222.0381, 224.646, 226.3705, 227.2235, 227.2388, 226.468, 224.975, 222.8312, 220.1096, 216.8807, 213.2093, 209.1522, 204.7577, 200.0649, 195.1053, 189.9036, 184.4796, 178.8494, 173.0278, 167.0293, 160.87, 154.5682, 148.1458, 141.6285, 135.0461, 128.4326, 121.8252, 115.2637, 108.7894, 102.4435, 96.2656, 90.2925, 84.5567, 79.0854, 73.8997, 69.0144, 64.4378, 60.1724, 56.2148, 52.5572, 49.1876, 46.091, 43.2502],
            85: [28.2171, 28.6085, 28.9891, 29.3633, 29.7354, 30.1101, 30.4923, 30.8872, 31.3005, 31.7384, 32.2078, 32.7162, 33.2718, 33.8837, 34.5617, 35.3165, 36.1597, 37.1035, 38.1611, 39.3464, 40.6741, 42.1593, 43.8178, 45.6658, 47.7196, 49.9957, 52.5107, 55.2804, 58.3207, 61.6465, 65.272, 69.2105, 73.4738, 78.0726, 83.0161, 88.3113, 93.9633, 99.9745, 106.3443, 113.0682, 120.1375, 127.5379, 135.2491, 143.2431, 151.4836, 159.9248, 168.5098, 177.1706, 185.8269, 194.3865, 202.7464, 210.7947, 218.4135, 225.4838, 231.8905, 237.5286, 242.3096, 246.1664, 249.0577, 250.9696, 251.9154, 251.9323, 251.0777, 249.4225, 247.0457, 244.0284, 240.4486, 236.3782, 231.8803, 227.0082, 221.8054, 216.3069, 210.54, 204.5265, 198.2845, 191.8303, 185.18, 178.3514, 171.3648, 164.2444, 157.0189, 149.7212, 142.3891, 135.0636, 127.7892, 120.6113, 113.5758, 106.7266, 100.1044, 93.7453, 87.6794, 81.9302, 76.514, 71.4401, 66.7112, 62.3235, 58.2684, 54.5326, 51.0996, 47.9501],
            90: [30.1926, 30.6114, 31.0187, 31.4191, 31.8172, 32.2182, 32.6271, 33.0496, 33.4919, 33.9605, 34.4627, 35.0067, 35.6012, 36.2559, 36.9814, 37.7891, 38.6913, 39.7012, 40.8328, 42.1011, 43.5217, 45.1109, 46.8856, 48.8629, 51.0605, 53.496, 56.187, 59.1507, 62.4038, 65.9625, 69.8418, 74.056, 78.6178, 83.5386, 88.8281, 94.4941, 100.5418, 106.9739, 113.7896, 120.9843, 128.5485, 136.4671, 144.7181, 153.2717, 162.0892, 171.1214, 180.3075, 189.5746, 198.8369, 207.9958, 216.941, 225.5528, 233.705, 241.2703, 248.1255, 254.1584, 259.2741, 263.4009, 266.4947, 268.5405, 269.5524, 269.5705, 268.656, 266.885, 264.3418, 261.1132, 257.2828, 252.9275, 248.1146, 242.9014, 237.3344, 231.4509, 225.2803, 218.8458, 212.1668, 205.2607, 198.1448, 190.838, 183.3623, 175.7434, 168.012, 160.2035, 152.358, 144.5197, 136.7359, 129.0555, 121.5274, 114.1987, 107.1129, 100.3086, 93.818, 87.6663, 81.8709, 76.4418, 71.3817, 66.6869, 62.3479, 58.3506, 54.6771, 51.3072],
            95: [31.8389, 32.2806, 32.71, 33.1322, 33.5521, 33.9749, 34.4061, 34.8517, 35.318, 35.8122, 36.3418, 36.9155, 37.5424, 38.2328, 38.9979, 39.8496, 40.8009, 41.8659, 43.0593, 44.3967, 45.8948, 47.5706, 49.442, 51.5272, 53.8446, 56.4129, 59.2506, 62.3759, 65.8064, 69.5591, 73.65, 78.0939, 82.9045, 88.0936, 93.6716, 99.6464, 106.0239, 112.8067, 119.9941, 127.5811, 135.5577, 143.908, 152.6089, 161.629, 170.9272, 180.4519, 190.1389, 199.9113, 209.6786, 219.3369, 228.7699, 237.8512, 246.4479, 254.4257, 261.6547, 268.0165, 273.4112, 277.763, 281.0255, 283.1828, 284.2499, 284.269, 283.3047, 281.4371, 278.7552, 275.3506, 271.3113, 266.7185, 261.6432, 256.1457, 250.2752, 244.0709, 237.5638, 230.7785, 223.7353, 216.4526, 208.9487, 201.2436, 193.3602, 185.326, 177.173, 168.9387, 160.6654, 152.3997, 144.1915, 136.0924, 128.1538, 120.4254, 112.9533, 105.7779, 98.9335, 92.4463, 86.3349, 80.6098, 75.2739, 70.3231, 65.7475, 61.5322, 57.6584, 54.1047],
            100: [34.4726, 34.9508, 35.4158, 35.8729, 36.3275, 36.7853, 37.2522, 37.7346, 38.2395, 38.7746, 39.348, 39.9691, 40.6479, 41.3954, 42.2238, 43.1459, 44.176, 45.329, 46.6211, 48.0692, 49.6912, 51.5057, 53.5318, 55.7895, 58.2986, 61.0794, 64.1518, 67.5356, 71.2499, 75.3131, 79.7423, 84.5539, 89.7623, 95.3807, 101.42, 107.8892, 114.7942, 122.1381, 129.92, 138.1346, 146.771, 155.8121, 165.2327, 174.9989, 185.0663, 195.3788, 205.8671, 216.4479, 227.0232, 237.4804, 247.6937, 257.5262, 266.834, 275.4717, 283.2987, 290.1868, 296.0277, 300.7395, 304.2718, 306.6076, 307.763, 307.7837, 306.7396, 304.7175, 301.8138, 298.1275, 293.7541, 288.7814, 283.2863, 277.3341, 270.9779, 264.2604, 257.215, 249.8684, 242.2426, 234.3575, 226.2329, 217.8904, 209.355, 200.6561, 191.8287, 182.9132, 173.9556, 165.0062, 156.119, 147.3499, 138.7546, 130.387, 122.2967, 114.5279, 107.1172, 100.0934, 93.4765, 87.2778, 81.5005, 76.1402, 71.1861, 66.6221, 62.4279, 58.5803]
        };

    function getClosestLevel(level, positions) {
        const availableLevels = Object.keys(positions).map(Number);
        let closestLevel = availableLevels[0];
        for (let i = 1; i < availableLevels.length; i++) {
            if (Math.abs(level - availableLevels[i]) < Math.abs(level - closestLevel)) {
                closestLevel = availableLevels[i];
            }
        }
        return closestLevel;
    }

    // Helper function to convert to dB
    function convertToDb(magnitudeArray) {
        return magnitudeArray.map(value => 20 * Math.log10(value));
    }

    // Convert all position datasets to dB
    [DrivePositions, LevelPositions].forEach((positions) => {
        Object.keys(positions).forEach((key) => {
            positions[key] = convertToDb(positions[key]);
        });
    });

function renderGraph(Drive, Level) {
    Plotly.newPlot('graph', [
        { x: frequency, y: DrivePositions[Drive], type: 'scatter', mode: 'lines', name: `Drive @ ${Drive}%` },
        { x: frequency, y: LevelPositions[Level], type: 'scatter', mode: 'lines', name: `Level @ ${Level}%` }
    ], {
        title: {
            text: `<a href='https://rhpfelectronics.com/rhpf-electronics-handmade-guitar-pedals-in-switzerland/rhpf-nerd-lab/' target='_blank'>RhPf Electronics</a> - Shodhana - Drive: ${Drive}% | Level: ${Level}%`,
            font: {
                size: 8 // Adjust title font size here
            }
        },
        xaxis: {
            title: {
                text: 'Frequency (Hz)',
                font: { size: 8 } // Adjust x-axis title font size if needed
            },
            type: 'log',
            tickvals: [20, 32, 64, 128, 256, 512, 1000, 2000, 4000, 8000, 16000, 20000],
            ticktext: ["20", "32", "64", "128", "256", "512", "1k", "2k", "4k", "8k", "16k", "20k"]
        },
        yaxis: {
            title: {
                text: 'Drive (dB)',
                font: { size: 8 } // Adjust y-axis title font size if needed
            },
            range: [-20, 60] // Fixed Y-axis range
        },
        legend: {
            font: {
                size: 8 // Adjust legend font size here
            }
        }
    });
}

    function updatePointer(pointerId, angle) {
        const pointer = document.getElementById(pointerId);
        pointer.setAttribute('transform', `rotate(${angle} 0 0)`);
    }

    const knobs = {
        Drive: { element: document.getElementById('knob-Drive'), pointerId: 'Drive-pointer', angle: 0, positions: DrivePositions },
        Level: { element: document.getElementById('knob-Level'), pointerId: 'Level-pointer', angle: 0, positions: LevelPositions },
    };

    function updateKnob(knob, delta, pointerId, positions, setAngle) {
        knob.angle += delta;
        knob.angle = Math.max(-135, Math.min(135, knob.angle)); // Clamp angle
        const value = Math.round(((knob.angle + 135) / 270) * 100);
        setAngle(knob.angle);
        updatePointer(pointerId, knob.angle);

        // Update graph with all knob values
        const levels = Object.keys(knobs).reduce((acc, key) => {
            acc[key] = getClosestLevel(
                Math.round(((knobs[key].angle + 135) / 270) * 100),
                knobs[key].positions
            );
            return acc;
        }, {});

        renderGraph(levels.Drive, levels.Level);
    }

function addKnobListeners(knobKey) {
    const knob = knobs[knobKey];
    const { element, pointerId, positions } = knob;

    // Handle both mouse and touch start
    const startEvent = (event) => {
        const isTouch = event.type === "touchstart";
        const clientX = isTouch ? event.touches[0].clientX : event.clientX;
        const clientY = isTouch ? event.touches[0].clientY : event.clientY;

        const rect = element.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
	document.body.style.overflow = 'hidden';

const moveEvent = (e) => {
    const moveClientX = isTouch ? e.touches[0].clientX : e.clientX;
    const moveClientY = isTouch ? e.touches[0].clientY : e.clientY;
    const dx = moveClientX - cx;
    const dy = moveClientY - cy;

    let angle = Math.atan2(dy, dx) * (180 / Math.PI);
    angle = (angle + 360) % 360;

    if (angle >= 134 || angle <= 46) {
        if (angle <= 46) angle += 360;

        let newKnobAngle = angle - 135; // normalized 0–270°
        newKnobAngle = Math.max(0, Math.min(272, newKnobAngle)); // allow slight overshoot

        // Snap to exact min/max
        if (newKnobAngle < 2) newKnobAngle = 0;
        if (newKnobAngle > 268) newKnobAngle = 270;

        const desiredAngle = newKnobAngle - 135; // -135 to +135
        const delta = desiredAngle - knob.angle;
        updateKnob(knob, delta, pointerId, positions, (a) => (knob.angle = a));
    }
};

        const endEvent = () => {
            document.removeEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
            document.removeEventListener(isTouch ? "touchend" : "mouseup", endEvent);
        };

        document.addEventListener(isTouch ? "touchmove" : "mousemove", moveEvent);
        document.addEventListener(isTouch ? "touchend" : "mouseup", endEvent);
    };

    // Add event listeners for mouse and touch
    element.addEventListener("mousedown", startEvent);
    element.addEventListener("touchstart", startEvent, { passive: false }); // Passive false to prevent scrolling

    // Scroll wheel functionality
    element.addEventListener("wheel", (event) => {
        event.preventDefault();
        const delta = event.deltaY > 0 ? -5 : 5; // Scroll direction adjusts knob
        const deltaAngle = delta * (270 / 100); // Map delta to angle
        updateKnob(knob, deltaAngle, pointerId, positions, (angle) => (knob.angle = angle));
    });
}

// Add event listeners to all knobs
Object.keys(knobs).forEach(addKnobListeners);

// Initialize pointers
Object.keys(knobs).forEach((key) => {
    updatePointer(knobs[key].pointerId, knobs[key].angle);
});

    // Initialize graph
    renderGraph(50, 50);
</script>
</body>
</html>
